(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function om(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var um={exports:{}},uu={},cm={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),$2=Symbol.for("react.portal"),b2=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),tS=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),iS=Symbol.for("react.forward_ref"),lS=Symbol.for("react.suspense"),sS=Symbol.for("react.memo"),aS=Symbol.for("react.lazy"),mg=Symbol.iterator;function oS(t){return t===null||typeof t!="object"?null:(t=mg&&t[mg]||t["@@iterator"],typeof t=="function"?t:null)}var dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fm=Object.assign,hm={};function xl(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||dm}xl.prototype.isReactComponent={};xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pm(){}pm.prototype=xl.prototype;function Rf(t,e,n){this.props=t,this.context=e,this.refs=hm,this.updater=n||dm}var Nf=Rf.prototype=new pm;Nf.constructor=Rf;fm(Nf,xl.prototype);Nf.isPureReactComponent=!0;var yg=Array.isArray,gm=Object.prototype.hasOwnProperty,Lf={current:null},vm={key:!0,ref:!0,__self:!0,__source:!0};function mm(t,e,n){var r,l={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)gm.call(e,r)&&!vm.hasOwnProperty(r)&&(l[r]=e[r]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];l.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)l[r]===void 0&&(l[r]=c[r]);return{$$typeof:Xs,type:t,key:a,ref:o,props:l,_owner:Lf.current}}function uS(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function cS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sg=/\/+/g;function Vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cS(""+t.key):e.toString(36)}function xo(t,e,n,r,l){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xs:case $2:o=!0}}if(o)return o=t,l=l(o),t=r===""?"."+Vc(o,0):r,yg(l)?(n="",t!=null&&(n=t.replace(Sg,"$&/")+"/"),xo(l,e,n,"",function(p){return p})):l!=null&&(Mf(l)&&(l=uS(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Sg,"$&/")+"/")+t)),e.push(l)),1;if(o=0,r=r===""?".":r+":",yg(t))for(var c=0;c<t.length;c++){a=t[c];var d=r+Vc(a,c);o+=xo(a,e,n,d,l)}else if(d=oS(t),typeof d=="function")for(t=d.call(t),c=0;!(a=t.next()).done;)a=a.value,d=r+Vc(a,c++),o+=xo(a,e,n,d,l);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],l=0;return xo(t,r,"","",function(a){return e.call(n,a,l++)}),r}function dS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tt={current:null},ko={transition:null},fS={ReactCurrentDispatcher:Tt,ReactCurrentBatchConfig:ko,ReactCurrentOwner:Lf};function ym(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!Mf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=xl;ve.Fragment=b2;ve.Profiler=tS;ve.PureComponent=Rf;ve.StrictMode=eS;ve.Suspense=lS;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fS;ve.act=ym;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fm({},t.props),l=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Lf.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)gm.call(e,d)&&!vm.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var p=0;p<d;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:Xs,type:t.type,key:l,ref:a,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:rS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nS,_context:t},t.Consumer=t};ve.createElement=mm;ve.createFactory=function(t){var e=mm.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:iS,render:t}};ve.isValidElement=Mf;ve.lazy=function(t){return{$$typeof:aS,_payload:{_status:-1,_result:t},_init:dS}};ve.memo=function(t,e){return{$$typeof:sS,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=ko.transition;ko.transition={};try{t()}finally{ko.transition=e}};ve.unstable_act=ym;ve.useCallback=function(t,e){return Tt.current.useCallback(t,e)};ve.useContext=function(t){return Tt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Tt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Tt.current.useEffect(t,e)};ve.useId=function(){return Tt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Tt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Tt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Tt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Tt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Tt.current.useReducer(t,e,n)};ve.useRef=function(t){return Tt.current.useRef(t)};ve.useState=function(t){return Tt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Tt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Tt.current.useTransition()};ve.version="18.3.1";cm.exports=ve;var he=cm.exports;const Ye=om(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS=he,pS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),vS=Object.prototype.hasOwnProperty,mS=hS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yS={key:!0,ref:!0,__self:!0,__source:!0};function Sm(t,e,n){var r,l={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vS.call(e,r)&&!yS.hasOwnProperty(r)&&(l[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)l[r]===void 0&&(l[r]=e[r]);return{$$typeof:pS,type:t,key:a,ref:o,props:l,_owner:mS.current}}uu.Fragment=gS;uu.jsx=Sm;uu.jsxs=Sm;um.exports=uu;var b=um.exports,_m={exports:{}},Jt={},wm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,le){var J=q.length;q.push(le);e:for(;0<J;){var oe=J-1>>>1,ge=q[oe];if(0<l(ge,le))q[oe]=le,q[J]=ge,J=oe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var le=q[0],J=q.pop();if(J!==le){q[0]=J;e:for(var oe=0,ge=q.length,pt=ge>>>1;oe<pt;){var Ze=2*(oe+1)-1,qr=q[Ze],Mn=Ze+1,Jr=q[Mn];if(0>l(qr,J))Mn<ge&&0>l(Jr,qr)?(q[oe]=Jr,q[Mn]=J,oe=Mn):(q[oe]=qr,q[Ze]=J,oe=Ze);else if(Mn<ge&&0>l(Jr,J))q[oe]=Jr,q[Mn]=J,oe=Mn;else break e}}return le}function l(q,le){var J=q.sortIndex-le.sortIndex;return J!==0?J:q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],p=[],v=1,y=null,m=3,x=!1,S=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(q){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=q)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function T(q){if(P=!1,C(q),!S)if(n(d)!==null)S=!0,de(F);else{var le=n(p);le!==null&&Ne(T,le.startTime-q)}}function F(q,le){S=!1,P&&(P=!1,k(B),B=-1),x=!0;var J=m;try{for(C(le),y=n(d);y!==null&&(!(y.expirationTime>le)||q&&!D());){var oe=y.callback;if(typeof oe=="function"){y.callback=null,m=y.priorityLevel;var ge=oe(y.expirationTime<=le);le=t.unstable_now(),typeof ge=="function"?y.callback=ge:y===n(d)&&r(d),C(le)}else r(d);y=n(d)}if(y!==null)var pt=!0;else{var Ze=n(p);Ze!==null&&Ne(T,Ze.startTime-le),pt=!1}return pt}finally{y=null,m=J,x=!1}}var A=!1,j=null,B=-1,H=5,I=-1;function D(){return!(t.unstable_now()-I<H)}function K(){if(j!==null){var q=t.unstable_now();I=q;var le=!0;try{le=j(!0,q)}finally{le?W():(A=!1,j=null)}}else A=!1}var W;if(typeof w=="function")W=function(){w(K)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ie=se.port2;se.port1.onmessage=K,W=function(){ie.postMessage(null)}}else W=function(){R(K,0)};function de(q){j=q,A||(A=!0,W())}function Ne(q,le){B=R(function(){q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,de(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var J=m;m=le;try{return q()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,le){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=m;m=q;try{return le()}finally{m=J}},t.unstable_scheduleCallback=function(q,le,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=J+ge,q={id:v++,callback:le,priorityLevel:q,startTime:J,expirationTime:ge,sortIndex:-1},J>oe?(q.sortIndex=J,e(p,q),n(d)===null&&q===n(p)&&(P?(k(B),B=-1):P=!0,Ne(T,J-oe))):(q.sortIndex=ge,e(d,q),S||x||(S=!0,de(F))),q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(q){var le=m;return function(){var J=m;m=le;try{return q.apply(this,arguments)}finally{m=J}}}})(xm);wm.exports=xm;var vs=wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=he,qt=vs;function V(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var km=new Set,Ns={};function xi(t,e){pl(t,e),pl(t+"Capture",e)}function pl(t,e){for(Ns[t]=e,t=0;t<e.length;t++)km.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pd=Object.prototype.hasOwnProperty,_S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_g={},wg={};function wS(t){return Pd.call(wg,t)?!0:Pd.call(_g,t)?!1:_S.test(t)?wg[t]=!0:(_g[t]=!0,!1)}function xS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kS(t,e,n,r){if(e===null||typeof e>"u"||xS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,l,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Of=/[\-:]([a-z])/g;function Af(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Of,Af);ht[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Of,Af);ht[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Of,Af);ht[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zf(t,e,n,r){var l=ht.hasOwnProperty(e)?ht[e]:null;(l!==null?l.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kS(e,n,l,r)&&(n=null),r||l===null?wS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,r=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=SS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),Xi=Symbol.for("react.portal"),Ki=Symbol.for("react.fragment"),If=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),Rd=Symbol.for("react.suspense"),Nd=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Pm=Symbol.for("react.offscreen"),xg=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=xg&&t[xg]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Yc;function as(t){if(Yc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yc=e&&e[1]||""}return`
`+Yc+t}var Qc=!1;function Xc(t,e){if(!t||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var l=p.stack.split(`
`),a=r.stack.split(`
`),o=l.length-1,c=a.length-1;1<=o&&0<=c&&l[o]!==a[c];)c--;for(;1<=o&&0<=c;o--,c--)if(l[o]!==a[c]){if(o!==1||c!==1)do if(o--,c--,0>c||l[o]!==a[c]){var d=`
`+l[o].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=o&&0<=c);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function CS(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=Xc(t.type,!1),t;case 11:return t=Xc(t.type.render,!1),t;case 1:return t=Xc(t.type,!0),t;default:return""}}function Ld(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ki:return"Fragment";case Xi:return"Portal";case Td:return"Profiler";case If:return"StrictMode";case Rd:return"Suspense";case Nd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Em:return(t.displayName||"Context")+".Consumer";case Cm:return(t._context.displayName||"Context")+".Provider";case Df:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ff:return e=t.displayName||null,e!==null?e:Ld(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return Ld(t(e))}catch{}}return null}function ES(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ld(e);case 8:return e===If?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PS(t){var e=Tm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qa(t){t._valueTracker||(t._valueTracker=PS(t))}function Rm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Tm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Md(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nm(t,e){e=e.checked,e!=null&&zf(t,"checked",e,!1)}function Od(t,e){Nm(t,e);var n=jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ad(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ad(t,e.type,jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ad(t,e,n){(e!=="number"||Fo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var os=Array.isArray;function sl(t,e,n,r){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jr(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,r&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function zd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(V(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Eg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(V(92));if(os(n)){if(1<n.length)throw Error(V(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jr(n)}}function Lm(t,e){var n=jr(e.value),r=jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ja,Om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ls(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TS=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(t){TS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ms[e]=ms[t]})});function Am(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ms.hasOwnProperty(t)&&ms[t]?(""+e).trim():e+"px"}function zm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Am(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,l):t[n]=l}}var RS=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(t,e){if(e){if(RS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(V(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(V(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(V(61))}if(e.style!=null&&typeof e.style!="object")throw Error(V(62))}}function Fd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=null;function Gf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bd=null,al=null,ol=null;function Tg(t){if(t=Js(t)){if(typeof Bd!="function")throw Error(V(280));var e=t.stateNode;e&&(e=pu(e),Bd(t.stateNode,t.type,e))}}function Im(t){al?ol?ol.push(t):ol=[t]:al=t}function Dm(){if(al){var t=al,e=ol;if(ol=al=null,Tg(t),e)for(t=0;t<e.length;t++)Tg(e[t])}}function Fm(t,e){return t(e)}function Gm(){}var Kc=!1;function Bm(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return Fm(t,e,n)}finally{Kc=!1,(al!==null||ol!==null)&&(Gm(),Dm())}}function Ms(t,e){var n=t.stateNode;if(n===null)return null;var r=pu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(V(231,e,typeof n));return n}var jd=!1;if(lr)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){jd=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{jd=!1}function NS(t,e,n,r,l,a,o,c,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(v){this.onError(v)}}var ys=!1,Go=null,Bo=!1,Hd=null,LS={onError:function(t){ys=!0,Go=t}};function MS(t,e,n,r,l,a,o,c,d){ys=!1,Go=null,NS.apply(LS,arguments)}function OS(t,e,n,r,l,a,o,c,d){if(MS.apply(this,arguments),ys){if(ys){var p=Go;ys=!1,Go=null}else throw Error(V(198));Bo||(Bo=!0,Hd=p)}}function ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rg(t){if(ki(t)!==t)throw Error(V(188))}function AS(t){var e=t.alternate;if(!e){if(e=ki(t),e===null)throw Error(V(188));return e!==t?null:t}for(var n=t,r=e;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Rg(l),t;if(a===r)return Rg(l),e;a=a.sibling}throw Error(V(188))}if(n.return!==r.return)n=l,r=a;else{for(var o=!1,c=l.child;c;){if(c===n){o=!0,n=l,r=a;break}if(c===r){o=!0,r=l,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=l;break}if(c===r){o=!0,r=a,n=l;break}c=c.sibling}if(!o)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?t:e}function Hm(t){return t=AS(t),t!==null?Um(t):null}function Um(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Um(t);if(e!==null)return e;t=t.sibling}return null}var Wm=qt.unstable_scheduleCallback,Ng=qt.unstable_cancelCallback,zS=qt.unstable_shouldYield,IS=qt.unstable_requestPaint,Ke=qt.unstable_now,DS=qt.unstable_getCurrentPriorityLevel,Bf=qt.unstable_ImmediatePriority,Vm=qt.unstable_UserBlockingPriority,jo=qt.unstable_NormalPriority,FS=qt.unstable_LowPriority,Ym=qt.unstable_IdlePriority,cu=null,Wn=null;function GS(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(cu,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:HS,BS=Math.log,jS=Math.LN2;function HS(t){return t>>>=0,t===0?32:31-(BS(t)/jS|0)|0}var Za=64,$a=4194304;function us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ho(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,l=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var c=o&~l;c!==0?r=us(c):(a&=o,a!==0&&(r=us(a)))}else o=n&~l,o!==0?r=us(o):a!==0&&(r=us(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&l)&&(l=r&-r,a=e&-e,l>=a||l===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),l=1<<n,r|=t[n],e&=~l;return r}function US(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,l=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Pn(a),c=1<<o,d=l[o];d===-1?(!(c&n)||c&r)&&(l[o]=US(c,e)):d<=e&&(t.expiredLanes|=c),a&=~c}}function Ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qm(){var t=Za;return Za<<=1,!(Za&4194240)&&(Za=64),t}function qc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ks(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function VS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-Pn(n),a=1<<l;e[l]=0,r[l]=-1,t[l]=-1,n&=~a}}function jf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),l=1<<r;l&e|t[r]&e&&(t[r]|=e),n&=~l}}var ke=0;function Xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Km,Hf,qm,Jm,Zm,Wd=!1,ba=[],Mr=null,Or=null,Ar=null,Os=new Map,As=new Map,Tr=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lg(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Os.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(e.pointerId)}}function Jl(t,e,n,r,l,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},e!==null&&(e=Js(e),e!==null&&Hf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function QS(t,e,n,r,l){switch(e){case"focusin":return Mr=Jl(Mr,t,e,n,r,l),!0;case"dragenter":return Or=Jl(Or,t,e,n,r,l),!0;case"mouseover":return Ar=Jl(Ar,t,e,n,r,l),!0;case"pointerover":var a=l.pointerId;return Os.set(a,Jl(Os.get(a)||null,t,e,n,r,l)),!0;case"gotpointercapture":return a=l.pointerId,As.set(a,Jl(As.get(a)||null,t,e,n,r,l)),!0}return!1}function $m(t){var e=ci(t.target);if(e!==null){var n=ki(e);if(n!==null){if(e=n.tag,e===13){if(e=jm(n),e!==null){t.blockedOn=e,Zm(t.priority,function(){qm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gd=r,n.target.dispatchEvent(r),Gd=null}else return e=Js(n),e!==null&&Hf(e),t.blockedOn=n,!1;e.shift()}return!0}function Mg(t,e,n){Co(t)&&n.delete(e)}function XS(){Wd=!1,Mr!==null&&Co(Mr)&&(Mr=null),Or!==null&&Co(Or)&&(Or=null),Ar!==null&&Co(Ar)&&(Ar=null),Os.forEach(Mg),As.forEach(Mg)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,Wd||(Wd=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,XS)))}function zs(t){function e(l){return Zl(l,t)}if(0<ba.length){Zl(ba[0],t);for(var n=1;n<ba.length;n++){var r=ba[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Zl(Mr,t),Or!==null&&Zl(Or,t),Ar!==null&&Zl(Ar,t),Os.forEach(e),As.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)$m(n),n.blockedOn===null&&Tr.shift()}var ul=ur.ReactCurrentBatchConfig,Uo=!0;function KS(t,e,n,r){var l=ke,a=ul.transition;ul.transition=null;try{ke=1,Uf(t,e,n,r)}finally{ke=l,ul.transition=a}}function qS(t,e,n,r){var l=ke,a=ul.transition;ul.transition=null;try{ke=4,Uf(t,e,n,r)}finally{ke=l,ul.transition=a}}function Uf(t,e,n,r){if(Uo){var l=Vd(t,e,n,r);if(l===null)ld(t,e,r,Wo,n),Lg(t,r);else if(QS(l,t,e,n,r))r.stopPropagation();else if(Lg(t,r),e&4&&-1<YS.indexOf(t)){for(;l!==null;){var a=Js(l);if(a!==null&&Km(a),a=Vd(t,e,n,r),a===null&&ld(t,e,r,Wo,n),a===l)break;l=a}l!==null&&r.stopPropagation()}else ld(t,e,r,null,n)}}var Wo=null;function Vd(t,e,n,r){if(Wo=null,t=Gf(r),t=ci(t),t!==null)if(e=ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function bm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DS()){case Bf:return 1;case Vm:return 4;case jo:case FS:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var Nr=null,Wf=null,Eo=null;function e0(){if(Eo)return Eo;var t,e=Wf,n=e.length,r,l="value"in Nr?Nr.value:Nr.textContent,a=l.length;for(t=0;t<n&&e[t]===l[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===l[a-r];r++);return Eo=l.slice(t,1<r?1-r:void 0)}function Po(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eo(){return!0}function Og(){return!1}function Zt(t){function e(n,r,l,a,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?eo:Og,this.isPropagationStopped=Og,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eo)},persist:function(){},isPersistent:eo}),e}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vf=Zt(kl),qs=He({},kl,{view:0,detail:0}),JS=Zt(qs),Jc,Zc,$l,du=He({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(Jc=t.screenX-$l.screenX,Zc=t.screenY-$l.screenY):Zc=Jc=0,$l=t),Jc)},movementY:function(t){return"movementY"in t?t.movementY:Zc}}),Ag=Zt(du),ZS=He({},du,{dataTransfer:0}),$S=Zt(ZS),bS=He({},qs,{relatedTarget:0}),$c=Zt(bS),e_=He({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=Zt(e_),n_=He({},kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=Zt(n_),i_=He({},kl,{data:0}),zg=Zt(i_),l_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a_[t])?!!e[t]:!1}function Yf(){return o_}var u_=He({},qs,{key:function(t){if(t.key){var e=l_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Po(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yf,charCode:function(t){return t.type==="keypress"?Po(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Po(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c_=Zt(u_),d_=He({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Zt(d_),f_=He({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yf}),h_=Zt(f_),p_=He({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),g_=Zt(p_),v_=He({},du,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m_=Zt(v_),y_=[9,13,27,32],Qf=lr&&"CompositionEvent"in window,Ss=null;lr&&"documentMode"in document&&(Ss=document.documentMode);var S_=lr&&"TextEvent"in window&&!Ss,t0=lr&&(!Qf||Ss&&8<Ss&&11>=Ss),Dg=" ",Fg=!1;function n0(t,e){switch(t){case"keyup":return y_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function __(t,e){switch(t){case"compositionend":return r0(e);case"keypress":return e.which!==32?null:(Fg=!0,Dg);case"textInput":return t=e.data,t===Dg&&Fg?null:t;default:return null}}function w_(t,e){if(qi)return t==="compositionend"||!Qf&&n0(t,e)?(t=e0(),Eo=Wf=Nr=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return t0&&e.locale!=="ko"?null:e.data;default:return null}}var x_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x_[t.type]:e==="textarea"}function i0(t,e,n,r){Im(r),e=Vo(e,"onChange"),0<e.length&&(n=new Vf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _s=null,Is=null;function k_(t){g0(t,0)}function fu(t){var e=$i(t);if(Rm(e))return t}function C_(t,e){if(t==="change")return e}var l0=!1;if(lr){var bc;if(lr){var ed="oninput"in document;if(!ed){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),ed=typeof Bg.oninput=="function"}bc=ed}else bc=!1;l0=bc&&(!document.documentMode||9<document.documentMode)}function jg(){_s&&(_s.detachEvent("onpropertychange",s0),Is=_s=null)}function s0(t){if(t.propertyName==="value"&&fu(Is)){var e=[];i0(e,Is,t,Gf(t)),Bm(k_,e)}}function E_(t,e,n){t==="focusin"?(jg(),_s=e,Is=n,_s.attachEvent("onpropertychange",s0)):t==="focusout"&&jg()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fu(Is)}function T_(t,e){if(t==="click")return fu(e)}function R_(t,e){if(t==="input"||t==="change")return fu(e)}function N_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:N_;function Ds(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Pd.call(e,l)||!Rn(t[l],e[l]))return!1}return!0}function Hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ug(t,e){var n=Hg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hg(n)}}function a0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?a0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o0(){for(var t=window,e=Fo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fo(t.document)}return e}function Xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function L_(t){var e=o0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&a0(n.ownerDocument.documentElement,n)){if(r!==null&&Xf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=r.end===void 0?a:Math.min(r.end,l),!t.extend&&a>r&&(l=r,r=a,a=l),l=Ug(n,a);var o=Ug(n,r);l&&o&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var M_=lr&&"documentMode"in document&&11>=document.documentMode,Ji=null,Yd=null,ws=null,Qd=!1;function Wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qd||Ji==null||Ji!==Fo(r)||(r=Ji,"selectionStart"in r&&Xf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ws&&Ds(ws,r)||(ws=r,r=Vo(Yd,"onSelect"),0<r.length&&(e=new Vf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ji)))}function to(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zi={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionend:to("Transition","TransitionEnd")},td={},u0={};lr&&(u0=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function hu(t){if(td[t])return td[t];if(!Zi[t])return t;var e=Zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in u0)return td[t]=e[n];return t}var c0=hu("animationend"),d0=hu("animationiteration"),f0=hu("animationstart"),h0=hu("transitionend"),p0=new Map,Vg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){p0.set(t,e),xi(e,[t])}for(var nd=0;nd<Vg.length;nd++){var rd=Vg[nd],O_=rd.toLowerCase(),A_=rd[0].toUpperCase()+rd.slice(1);Ur(O_,"on"+A_)}Ur(c0,"onAnimationEnd");Ur(d0,"onAnimationIteration");Ur(f0,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(h0,"onTransitionEnd");pl("onMouseEnter",["mouseout","mouseover"]);pl("onMouseLeave",["mouseout","mouseover"]);pl("onPointerEnter",["pointerout","pointerover"]);pl("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z_=new Set("cancel close invalid load scroll toggle".split(" ").concat(cs));function Yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OS(r,e,void 0,t),t.currentTarget=null}function g0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],l=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var c=r[o],d=c.instance,p=c.currentTarget;if(c=c.listener,d!==a&&l.isPropagationStopped())break e;Yg(l,c,p),a=d}else for(o=0;o<r.length;o++){if(c=r[o],d=c.instance,p=c.currentTarget,c=c.listener,d!==a&&l.isPropagationStopped())break e;Yg(l,c,p),a=d}}}if(Bo)throw t=Hd,Bo=!1,Hd=null,t}function Oe(t,e){var n=e[Zd];n===void 0&&(n=e[Zd]=new Set);var r=t+"__bubble";n.has(r)||(v0(e,t,2,!1),n.add(r))}function id(t,e,n){var r=0;e&&(r|=4),v0(n,t,r,e)}var no="_reactListening"+Math.random().toString(36).slice(2);function Fs(t){if(!t[no]){t[no]=!0,km.forEach(function(n){n!=="selectionchange"&&(z_.has(n)||id(n,!1,t),id(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[no]||(e[no]=!0,id("selectionchange",!1,e))}}function v0(t,e,n,r){switch(bm(e)){case 1:var l=KS;break;case 4:l=qS;break;default:l=Uf}n=l.bind(null,e,n,t),l=void 0,!jd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),r?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function ld(t,e,n,r,l){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===l||d.nodeType===8&&d.parentNode===l))return;o=o.return}for(;c!==null;){if(o=ci(c),o===null)return;if(d=o.tag,d===5||d===6){r=a=o;continue e}c=c.parentNode}}r=r.return}Bm(function(){var p=a,v=Gf(n),y=[];e:{var m=p0.get(t);if(m!==void 0){var x=Vf,S=t;switch(t){case"keypress":if(Po(n)===0)break e;case"keydown":case"keyup":x=c_;break;case"focusin":S="focus",x=$c;break;case"focusout":S="blur",x=$c;break;case"beforeblur":case"afterblur":x=$c;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=$S;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=h_;break;case c0:case d0:case f0:x=t_;break;case h0:x=g_;break;case"scroll":x=JS;break;case"wheel":x=m_;break;case"copy":case"cut":case"paste":x=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ig}var P=(e&4)!==0,R=!P&&t==="scroll",k=P?m!==null?m+"Capture":null:m;P=[];for(var w=p,C;w!==null;){C=w;var T=C.stateNode;if(C.tag===5&&T!==null&&(C=T,k!==null&&(T=Ms(w,k),T!=null&&P.push(Gs(w,T,C)))),R)break;w=w.return}0<P.length&&(m=new x(m,S,null,n,v),y.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",m&&n!==Gd&&(S=n.relatedTarget||n.fromElement)&&(ci(S)||S[sr]))break e;if((x||m)&&(m=v.window===v?v:(m=v.ownerDocument)?m.defaultView||m.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=p,S=S?ci(S):null,S!==null&&(R=ki(S),S!==R||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=p),x!==S)){if(P=Ag,T="onMouseLeave",k="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(P=Ig,T="onPointerLeave",k="onPointerEnter",w="pointer"),R=x==null?m:$i(x),C=S==null?m:$i(S),m=new P(T,w+"leave",x,n,v),m.target=R,m.relatedTarget=C,T=null,ci(v)===p&&(P=new P(k,w+"enter",S,n,v),P.target=C,P.relatedTarget=R,T=P),R=T,x&&S)t:{for(P=x,k=S,w=0,C=P;C;C=Vi(C))w++;for(C=0,T=k;T;T=Vi(T))C++;for(;0<w-C;)P=Vi(P),w--;for(;0<C-w;)k=Vi(k),C--;for(;w--;){if(P===k||k!==null&&P===k.alternate)break t;P=Vi(P),k=Vi(k)}P=null}else P=null;x!==null&&Qg(y,m,x,P,!1),S!==null&&R!==null&&Qg(y,R,S,P,!0)}}e:{if(m=p?$i(p):window,x=m.nodeName&&m.nodeName.toLowerCase(),x==="select"||x==="input"&&m.type==="file")var F=C_;else if(Gg(m))if(l0)F=R_;else{F=P_;var A=E_}else(x=m.nodeName)&&x.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=T_);if(F&&(F=F(t,p))){i0(y,F,n,v);break e}A&&A(t,m,p),t==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&Ad(m,"number",m.value)}switch(A=p?$i(p):window,t){case"focusin":(Gg(A)||A.contentEditable==="true")&&(Ji=A,Yd=p,ws=null);break;case"focusout":ws=Yd=Ji=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,Wg(y,n,v);break;case"selectionchange":if(M_)break;case"keydown":case"keyup":Wg(y,n,v)}var j;if(Qf)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else qi?n0(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(t0&&n.locale!=="ko"&&(qi||B!=="onCompositionStart"?B==="onCompositionEnd"&&qi&&(j=e0()):(Nr=v,Wf="value"in Nr?Nr.value:Nr.textContent,qi=!0)),A=Vo(p,B),0<A.length&&(B=new zg(B,t,null,n,v),y.push({event:B,listeners:A}),j?B.data=j:(j=r0(n),j!==null&&(B.data=j)))),(j=S_?__(t,n):w_(t,n))&&(p=Vo(p,"onBeforeInput"),0<p.length&&(v=new zg("onBeforeInput","beforeinput",null,n,v),y.push({event:v,listeners:p}),v.data=j))}g0(y,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vo(t,e){for(var n=e+"Capture",r=[];t!==null;){var l=t,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=Ms(t,n),a!=null&&r.unshift(Gs(t,a,l)),a=Ms(t,e),a!=null&&r.push(Gs(t,a,l))),t=t.return}return r}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qg(t,e,n,r,l){for(var a=e._reactName,o=[];n!==null&&n!==r;){var c=n,d=c.alternate,p=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&p!==null&&(c=p,l?(d=Ms(n,a),d!=null&&o.unshift(Gs(n,d,c))):l||(d=Ms(n,a),d!=null&&o.push(Gs(n,d,c)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var I_=/\r\n?/g,D_=/\u0000|\uFFFD/g;function Xg(t){return(typeof t=="string"?t:""+t).replace(I_,`
`).replace(D_,"")}function ro(t,e,n){if(e=Xg(e),Xg(t)!==e&&n)throw Error(V(425))}function Yo(){}var Xd=null,Kd=null;function qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,G_=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(t){return Kg.resolve(null).then(t).catch(B_)}:Jd;function B_(t){setTimeout(function(){throw t})}function sd(t,e){var n=e,r=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){t.removeChild(l),zs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);zs(e)}function zr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cl=Math.random().toString(36).slice(2),Un="__reactFiber$"+Cl,Bs="__reactProps$"+Cl,sr="__reactContainer$"+Cl,Zd="__reactEvents$"+Cl,j_="__reactListeners$"+Cl,H_="__reactHandles$"+Cl;function ci(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qg(t);t!==null;){if(n=t[Un])return n;t=qg(t)}return e}t=n,n=t.parentNode}return null}function Js(t){return t=t[Un]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(V(33))}function pu(t){return t[Bs]||null}var $d=[],bi=-1;function Wr(t){return{current:t}}function Ae(t){0>bi||(t.current=$d[bi],$d[bi]=null,bi--)}function Re(t,e){bi++,$d[bi]=t.current,t.current=e}var Hr={},kt=Wr(Hr),Ft=Wr(!1),vi=Hr;function gl(t,e){var n=t.type.contextTypes;if(!n)return Hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function Gt(t){return t=t.childContextTypes,t!=null}function Qo(){Ae(Ft),Ae(kt)}function Jg(t,e,n){if(kt.current!==Hr)throw Error(V(168));Re(kt,e),Re(Ft,n)}function m0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in e))throw Error(V(108,ES(t)||"Unknown",l));return He({},n,r)}function Xo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,vi=kt.current,Re(kt,t),Re(Ft,Ft.current),!0}function Zg(t,e,n){var r=t.stateNode;if(!r)throw Error(V(169));n?(t=m0(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,Ae(Ft),Ae(kt),Re(kt,t)):Ae(Ft),Re(Ft,n)}var tr=null,gu=!1,ad=!1;function y0(t){tr===null?tr=[t]:tr.push(t)}function U_(t){gu=!0,y0(t)}function Vr(){if(!ad&&tr!==null){ad=!0;var t=0,e=ke;try{var n=tr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tr=null,gu=!1}catch(l){throw tr!==null&&(tr=tr.slice(t+1)),Wm(Bf,Vr),l}finally{ke=e,ad=!1}}return null}var el=[],tl=0,Ko=null,qo=0,on=[],un=0,mi=null,nr=1,rr="";function oi(t,e){el[tl++]=qo,el[tl++]=Ko,Ko=t,qo=e}function S0(t,e,n){on[un++]=nr,on[un++]=rr,on[un++]=mi,mi=t;var r=nr;t=rr;var l=32-Pn(r)-1;r&=~(1<<l),n+=1;var a=32-Pn(e)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,nr=1<<32-Pn(e)+l|n<<l|r,rr=a+t}else nr=1<<a|n<<l|r,rr=t}function Kf(t){t.return!==null&&(oi(t,1),S0(t,1,0))}function qf(t){for(;t===Ko;)Ko=el[--tl],el[tl]=null,qo=el[--tl],el[tl]=null;for(;t===mi;)mi=on[--un],on[un]=null,rr=on[--un],on[un]=null,nr=on[--un],on[un]=null}var Xt=null,Qt=null,De=!1,En=null;function _0(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $g(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=zr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mi!==null?{id:nr,overflow:rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function bd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ef(t){if(De){var e=Qt;if(e){var n=e;if(!$g(t,e)){if(bd(t))throw Error(V(418));e=zr(n.nextSibling);var r=Xt;e&&$g(t,e)?_0(r,n):(t.flags=t.flags&-4097|2,De=!1,Xt=t)}}else{if(bd(t))throw Error(V(418));t.flags=t.flags&-4097|2,De=!1,Xt=t}}}function bg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function io(t){if(t!==Xt)return!1;if(!De)return bg(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qd(t.type,t.memoizedProps)),e&&(e=Qt)){if(bd(t))throw w0(),Error(V(418));for(;e;)_0(t,e),e=zr(e.nextSibling)}if(bg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(V(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=zr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?zr(t.stateNode.nextSibling):null;return!0}function w0(){for(var t=Qt;t;)t=zr(t.nextSibling)}function vl(){Qt=Xt=null,De=!1}function Jf(t){En===null?En=[t]:En.push(t)}var W_=ur.ReactCurrentBatchConfig;function bl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,t));var l=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var c=l.refs;o===null?delete c[a]:c[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,t))}return t}function lo(t,e){throw t=Object.prototype.toString.call(e),Error(V(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ev(t){var e=t._init;return e(t._payload)}function x0(t){function e(k,w){if(t){var C=k.deletions;C===null?(k.deletions=[w],k.flags|=16):C.push(w)}}function n(k,w){if(!t)return null;for(;w!==null;)e(k,w),w=w.sibling;return null}function r(k,w){for(k=new Map;w!==null;)w.key!==null?k.set(w.key,w):k.set(w.index,w),w=w.sibling;return k}function l(k,w){return k=Gr(k,w),k.index=0,k.sibling=null,k}function a(k,w,C){return k.index=C,t?(C=k.alternate,C!==null?(C=C.index,C<w?(k.flags|=2,w):C):(k.flags|=2,w)):(k.flags|=1048576,w)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function c(k,w,C,T){return w===null||w.tag!==6?(w=pd(C,k.mode,T),w.return=k,w):(w=l(w,C),w.return=k,w)}function d(k,w,C,T){var F=C.type;return F===Ki?v(k,w,C.props.children,T,C.key):w!==null&&(w.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Er&&ev(F)===w.type)?(T=l(w,C.props),T.ref=bl(k,w,C),T.return=k,T):(T=Ao(C.type,C.key,C.props,null,k.mode,T),T.ref=bl(k,w,C),T.return=k,T)}function p(k,w,C,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=gd(C,k.mode,T),w.return=k,w):(w=l(w,C.children||[]),w.return=k,w)}function v(k,w,C,T,F){return w===null||w.tag!==7?(w=gi(C,k.mode,T,F),w.return=k,w):(w=l(w,C),w.return=k,w)}function y(k,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=pd(""+w,k.mode,C),w.return=k,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ka:return C=Ao(w.type,w.key,w.props,null,k.mode,C),C.ref=bl(k,null,w),C.return=k,C;case Xi:return w=gd(w,k.mode,C),w.return=k,w;case Er:var T=w._init;return y(k,T(w._payload),C)}if(os(w)||Kl(w))return w=gi(w,k.mode,C,null),w.return=k,w;lo(k,w)}return null}function m(k,w,C,T){var F=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return F!==null?null:c(k,w,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ka:return C.key===F?d(k,w,C,T):null;case Xi:return C.key===F?p(k,w,C,T):null;case Er:return F=C._init,m(k,w,F(C._payload),T)}if(os(C)||Kl(C))return F!==null?null:v(k,w,C,T,null);lo(k,C)}return null}function x(k,w,C,T,F){if(typeof T=="string"&&T!==""||typeof T=="number")return k=k.get(C)||null,c(w,k,""+T,F);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ka:return k=k.get(T.key===null?C:T.key)||null,d(w,k,T,F);case Xi:return k=k.get(T.key===null?C:T.key)||null,p(w,k,T,F);case Er:var A=T._init;return x(k,w,C,A(T._payload),F)}if(os(T)||Kl(T))return k=k.get(C)||null,v(w,k,T,F,null);lo(w,T)}return null}function S(k,w,C,T){for(var F=null,A=null,j=w,B=w=0,H=null;j!==null&&B<C.length;B++){j.index>B?(H=j,j=null):H=j.sibling;var I=m(k,j,C[B],T);if(I===null){j===null&&(j=H);break}t&&j&&I.alternate===null&&e(k,j),w=a(I,w,B),A===null?F=I:A.sibling=I,A=I,j=H}if(B===C.length)return n(k,j),De&&oi(k,B),F;if(j===null){for(;B<C.length;B++)j=y(k,C[B],T),j!==null&&(w=a(j,w,B),A===null?F=j:A.sibling=j,A=j);return De&&oi(k,B),F}for(j=r(k,j);B<C.length;B++)H=x(j,k,B,C[B],T),H!==null&&(t&&H.alternate!==null&&j.delete(H.key===null?B:H.key),w=a(H,w,B),A===null?F=H:A.sibling=H,A=H);return t&&j.forEach(function(D){return e(k,D)}),De&&oi(k,B),F}function P(k,w,C,T){var F=Kl(C);if(typeof F!="function")throw Error(V(150));if(C=F.call(C),C==null)throw Error(V(151));for(var A=F=null,j=w,B=w=0,H=null,I=C.next();j!==null&&!I.done;B++,I=C.next()){j.index>B?(H=j,j=null):H=j.sibling;var D=m(k,j,I.value,T);if(D===null){j===null&&(j=H);break}t&&j&&D.alternate===null&&e(k,j),w=a(D,w,B),A===null?F=D:A.sibling=D,A=D,j=H}if(I.done)return n(k,j),De&&oi(k,B),F;if(j===null){for(;!I.done;B++,I=C.next())I=y(k,I.value,T),I!==null&&(w=a(I,w,B),A===null?F=I:A.sibling=I,A=I);return De&&oi(k,B),F}for(j=r(k,j);!I.done;B++,I=C.next())I=x(j,k,B,I.value,T),I!==null&&(t&&I.alternate!==null&&j.delete(I.key===null?B:I.key),w=a(I,w,B),A===null?F=I:A.sibling=I,A=I);return t&&j.forEach(function(K){return e(k,K)}),De&&oi(k,B),F}function R(k,w,C,T){if(typeof C=="object"&&C!==null&&C.type===Ki&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ka:e:{for(var F=C.key,A=w;A!==null;){if(A.key===F){if(F=C.type,F===Ki){if(A.tag===7){n(k,A.sibling),w=l(A,C.props.children),w.return=k,k=w;break e}}else if(A.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Er&&ev(F)===A.type){n(k,A.sibling),w=l(A,C.props),w.ref=bl(k,A,C),w.return=k,k=w;break e}n(k,A);break}else e(k,A);A=A.sibling}C.type===Ki?(w=gi(C.props.children,k.mode,T,C.key),w.return=k,k=w):(T=Ao(C.type,C.key,C.props,null,k.mode,T),T.ref=bl(k,w,C),T.return=k,k=T)}return o(k);case Xi:e:{for(A=C.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(k,w.sibling),w=l(w,C.children||[]),w.return=k,k=w;break e}else{n(k,w);break}else e(k,w);w=w.sibling}w=gd(C,k.mode,T),w.return=k,k=w}return o(k);case Er:return A=C._init,R(k,w,A(C._payload),T)}if(os(C))return S(k,w,C,T);if(Kl(C))return P(k,w,C,T);lo(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(k,w.sibling),w=l(w,C),w.return=k,k=w):(n(k,w),w=pd(C,k.mode,T),w.return=k,k=w),o(k)):n(k,w)}return R}var ml=x0(!0),k0=x0(!1),Jo=Wr(null),Zo=null,nl=null,Zf=null;function $f(){Zf=nl=Zo=null}function bf(t){var e=Jo.current;Ae(Jo),t._currentValue=e}function tf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cl(t,e){Zo=t,Zf=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function hn(t){var e=t._currentValue;if(Zf!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Zo===null)throw Error(V(308));nl=t,Zo.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var di=null;function eh(t){di===null?di=[t]:di.push(t)}function C0(t,e,n,r){var l=e.interleaved;return l===null?(n.next=n,eh(e)):(n.next=l.next,l.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function th(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var l=r.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),r.pending=e,ar(t,n)}return l=r.interleaved,l===null?(e.next=e,eh(r)):(e.next=l.next,l.next=e),r.interleaved=e,ar(t,n)}function To(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}function tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?l=a=e:a=a.next=e}else l=a=e;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $o(t,e,n,r){var l=t.updateQueue;Pr=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var d=c,p=d.next;d.next=null,o===null?a=p:o.next=p,o=d;var v=t.alternate;v!==null&&(v=v.updateQueue,c=v.lastBaseUpdate,c!==o&&(c===null?v.firstBaseUpdate=p:c.next=p,v.lastBaseUpdate=d))}if(a!==null){var y=l.baseState;o=0,v=p=d=null,c=a;do{var m=c.lane,x=c.eventTime;if((r&m)===m){v!==null&&(v=v.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,P=c;switch(m=e,x=n,P.tag){case 1:if(S=P.payload,typeof S=="function"){y=S.call(x,y,m);break e}y=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=P.payload,m=typeof S=="function"?S.call(x,y,m):S,m==null)break e;y=He({},y,m);break e;case 2:Pr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,m=l.effects,m===null?l.effects=[c]:m.push(c))}else x={eventTime:x,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},v===null?(p=v=x,d=y):v=v.next=x,o|=m;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;m=c,c=m.next,m.next=null,l.lastBaseUpdate=m,l.shared.pending=null}}while(!0);if(v===null&&(d=y),l.baseState=d,l.firstBaseUpdate=p,l.lastBaseUpdate=v,e=l.shared.interleaved,e!==null){l=e;do o|=l.lane,l=l.next;while(l!==e)}else a===null&&(l.shared.lanes=0);Si|=o,t.lanes=o,t.memoizedState=y}}function nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(V(191,l));l.call(r)}}}var Zs={},Vn=Wr(Zs),js=Wr(Zs),Hs=Wr(Zs);function fi(t){if(t===Zs)throw Error(V(174));return t}function nh(t,e){switch(Re(Hs,e),Re(js,t),Re(Vn,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}Ae(Vn),Re(Vn,e)}function yl(){Ae(Vn),Ae(js),Ae(Hs)}function P0(t){fi(Hs.current);var e=fi(Vn.current),n=Id(e,t.type);e!==n&&(Re(js,t),Re(Vn,n))}function rh(t){js.current===t&&(Ae(Vn),Ae(js))}var Be=Wr(0);function bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var od=[];function ih(){for(var t=0;t<od.length;t++)od[t]._workInProgressVersionPrimary=null;od.length=0}var Ro=ur.ReactCurrentDispatcher,ud=ur.ReactCurrentBatchConfig,yi=0,je=null,et=null,at=null,eu=!1,xs=!1,Us=0,V_=0;function _t(){throw Error(V(321))}function lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function sh(t,e,n,r,l,a){if(yi=a,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?K_:q_,t=n(r,l),xs){a=0;do{if(xs=!1,Us=0,25<=a)throw Error(V(301));a+=1,at=et=null,e.updateQueue=null,Ro.current=J_,t=n(r,l)}while(xs)}if(Ro.current=tu,e=et!==null&&et.next!==null,yi=0,at=et=je=null,eu=!1,e)throw Error(V(300));return t}function ah(){var t=Us!==0;return Us=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?je.memoizedState=at=t:at=at.next=t,at}function pn(){if(et===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=at===null?je.memoizedState:at.next;if(e!==null)at=e,et=t;else{if(t===null)throw Error(V(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},at===null?je.memoizedState=at=t:at=at.next=t}return at}function Ws(t,e){return typeof e=="function"?e(t):e}function cd(t){var e=pn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=et,l=r.baseQueue,a=n.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}r.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,r=r.baseState;var c=o=null,d=null,p=a;do{var v=p.lane;if((yi&v)===v)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var y={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(c=d=y,o=r):d=d.next=y,je.lanes|=v,Si|=v}p=p.next}while(p!==null&&p!==a);d===null?o=r:d.next=c,Rn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){l=t;do a=l.lane,je.lanes|=a,Si|=a,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dd(t){var e=pn(),n=e.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=t;var r=n.dispatch,l=n.pending,a=e.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do a=t(a,o.action),o=o.next;while(o!==l);Rn(a,e.memoizedState)||(Dt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function T0(){}function R0(t,e){var n=je,r=pn(),l=e(),a=!Rn(r.memoizedState,l);if(a&&(r.memoizedState=l,Dt=!0),r=r.queue,oh(M0.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||at!==null&&at.memoizedState.tag&1){if(n.flags|=2048,Vs(9,L0.bind(null,n,r,l,e),void 0,null),ot===null)throw Error(V(349));yi&30||N0(n,e,l)}return l}function N0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L0(t,e,n,r){e.value=n,e.getSnapshot=r,O0(e)&&A0(t)}function M0(t,e,n){return n(function(){O0(e)&&A0(t)})}function O0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function A0(t){var e=ar(t,1);e!==null&&Tn(e,t,1,-1)}function rv(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},e.queue=t,t=t.dispatch=X_.bind(null,je,t),[e.memoizedState,t]}function Vs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function z0(){return pn().memoizedState}function No(t,e,n,r){var l=Hn();je.flags|=t,l.memoizedState=Vs(1|e,n,void 0,r===void 0?null:r)}function vu(t,e,n,r){var l=pn();r=r===void 0?null:r;var a=void 0;if(et!==null){var o=et.memoizedState;if(a=o.destroy,r!==null&&lh(r,o.deps)){l.memoizedState=Vs(e,n,a,r);return}}je.flags|=t,l.memoizedState=Vs(1|e,n,a,r)}function iv(t,e){return No(8390656,8,t,e)}function oh(t,e){return vu(2048,8,t,e)}function I0(t,e){return vu(4,2,t,e)}function D0(t,e){return vu(4,4,t,e)}function F0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){return n=n!=null?n.concat([t]):null,vu(4,4,F0.bind(null,e,t),n)}function uh(){}function B0(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function j0(t,e){var n=pn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H0(t,e,n){return yi&21?(Rn(n,e)||(n=Qm(),je.lanes|=n,Si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function Y_(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=ud.transition;ud.transition={};try{t(!1),e()}finally{ke=n,ud.transition=r}}function U0(){return pn().memoizedState}function Q_(t,e,n){var r=Fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W0(t))V0(e,n);else if(n=C0(t,e,n,r),n!==null){var l=Pt();Tn(n,t,r,l),Y0(n,e,r)}}function X_(t,e,n){var r=Fr(t),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W0(t))V0(e,l);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,c=a(o,n);if(l.hasEagerState=!0,l.eagerState=c,Rn(c,o)){var d=e.interleaved;d===null?(l.next=l,eh(e)):(l.next=d.next,d.next=l),e.interleaved=l;return}}catch{}finally{}n=C0(t,e,l,r),n!==null&&(l=Pt(),Tn(n,t,r,l),Y0(n,e,r))}}function W0(t){var e=t.alternate;return t===je||e!==null&&e===je}function V0(t,e){xs=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jf(t,n)}}var tu={readContext:hn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},K_={readContext:hn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:hn,useEffect:iv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,No(4194308,4,F0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return No(4194308,4,t,e)},useInsertionEffect:function(t,e){return No(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q_.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:rv,useDebugValue:uh,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=rv(!1),e=t[0];return t=Y_.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,l=Hn();if(De){if(n===void 0)throw Error(V(407));n=n()}else{if(n=e(),ot===null)throw Error(V(349));yi&30||N0(r,e,n)}l.memoizedState=n;var a={value:n,getSnapshot:e};return l.queue=a,iv(M0.bind(null,r,a,t),[t]),r.flags|=2048,Vs(9,L0.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Hn(),e=ot.identifierPrefix;if(De){var n=rr,r=nr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Us++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q_={readContext:hn,useCallback:B0,useContext:hn,useEffect:oh,useImperativeHandle:G0,useInsertionEffect:I0,useLayoutEffect:D0,useMemo:j0,useReducer:cd,useRef:z0,useState:function(){return cd(Ws)},useDebugValue:uh,useDeferredValue:function(t){var e=pn();return H0(e,et.memoizedState,t)},useTransition:function(){var t=cd(Ws)[0],e=pn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:R0,useId:U0,unstable_isNewReconciler:!1},J_={readContext:hn,useCallback:B0,useContext:hn,useEffect:oh,useImperativeHandle:G0,useInsertionEffect:I0,useLayoutEffect:D0,useMemo:j0,useReducer:dd,useRef:z0,useState:function(){return dd(Ws)},useDebugValue:uh,useDeferredValue:function(t){var e=pn();return et===null?e.memoizedState=t:H0(e,et.memoizedState,t)},useTransition:function(){var t=dd(Ws)[0],e=pn().memoizedState;return[t,e]},useMutableSource:T0,useSyncExternalStore:R0,useId:U0,unstable_isNewReconciler:!1};function kn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mu={isMounted:function(t){return(t=t._reactInternals)?ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),l=Fr(t),a=ir(r,l);a.payload=e,n!=null&&(a.callback=n),e=Ir(t,a,l),e!==null&&(Tn(e,t,l,r),To(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),l=Fr(t),a=ir(r,l);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ir(t,a,l),e!==null&&(Tn(e,t,l,r),To(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Fr(t),l=ir(n,r);l.tag=2,e!=null&&(l.callback=e),e=Ir(t,l,r),e!==null&&(Tn(e,t,r,n),To(e,t,r))}};function lv(t,e,n,r,l,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Ds(n,r)||!Ds(l,a):!0}function Q0(t,e,n){var r=!1,l=Hr,a=e.contextType;return typeof a=="object"&&a!==null?a=hn(a):(l=Gt(e)?vi:kt.current,r=e.contextTypes,a=(r=r!=null)?gl(t,l):Hr),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=a),e}function sv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mu.enqueueReplaceState(e,e.state,null)}function rf(t,e,n,r){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs={},th(t);var a=e.contextType;typeof a=="object"&&a!==null?l.context=hn(a):(a=Gt(e)?vi:kt.current,l.context=gl(t,a)),l.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nf(t,e,a,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&mu.enqueueReplaceState(l,l.state,null),$o(t,n,l,r),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var n="",r=e;do n+=CS(r),r=r.return;while(r);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:l,digest:null}}function fd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z_=typeof WeakMap=="function"?WeakMap:Map;function X0(t,e,n){n=ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ru||(ru=!0,gf=r),lf(t,e)},n}function K0(t,e,n){n=ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var l=e.value;n.payload=function(){return r(l)},n.callback=function(){lf(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){lf(t,e),typeof r!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function av(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Z_;var l=new Set;r.set(e,l)}else l=r.get(e),l===void 0&&(l=new Set,r.set(e,l));l.has(n)||(l.add(n),t=dw.bind(null,t,e,n),e.then(t,t))}function ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uv(t,e,n,r,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ir(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var $_=ur.ReactCurrentOwner,Dt=!1;function Et(t,e,n,r){e.child=t===null?k0(e,null,n,r):ml(e,t.child,n,r)}function cv(t,e,n,r,l){n=n.render;var a=e.ref;return cl(e,l),r=sh(t,e,n,r,a,l),n=ah(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,or(t,e,l)):(De&&n&&Kf(e),e.flags|=1,Et(t,e,r,l),e.child)}function dv(t,e,n,r,l){if(t===null){var a=n.type;return typeof a=="function"&&!mh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,q0(t,e,a,r,l)):(t=Ao(n.type,null,r,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&l)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&t.ref===e.ref)return or(t,e,l)}return e.flags|=1,t=Gr(a,r),t.ref=e.ref,t.return=e,e.child=t}function q0(t,e,n,r,l){if(t!==null){var a=t.memoizedProps;if(Ds(a,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=a,(t.lanes&l)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,or(t,e,l)}return sf(t,e,n,r,l)}function J0(t,e,n){var r=e.pendingProps,l=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(il,Vt),Vt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(il,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Re(il,Vt),Vt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Re(il,Vt),Vt|=r;return Et(t,e,l,n),e.child}function Z0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,l){var a=Gt(n)?vi:kt.current;return a=gl(e,a),cl(e,l),n=sh(t,e,n,r,a,l),r=ah(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,or(t,e,l)):(De&&r&&Kf(e),e.flags|=1,Et(t,e,n,l),e.child)}function fv(t,e,n,r,l){if(Gt(n)){var a=!0;Xo(e)}else a=!1;if(cl(e,l),e.stateNode===null)Lo(t,e),Q0(e,n,r),rf(e,n,r,l),r=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var d=o.context,p=n.contextType;typeof p=="object"&&p!==null?p=hn(p):(p=Gt(n)?vi:kt.current,p=gl(e,p));var v=n.getDerivedStateFromProps,y=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||d!==p)&&sv(e,o,r,p),Pr=!1;var m=e.memoizedState;o.state=m,$o(e,r,o,l),d=e.memoizedState,c!==r||m!==d||Ft.current||Pr?(typeof v=="function"&&(nf(e,n,v,r),d=e.memoizedState),(c=Pr||lv(e,n,c,r,m,d,p))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),o.props=r,o.state=d,o.context=p,r=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,E0(t,e),c=e.memoizedProps,p=e.type===e.elementType?c:kn(e.type,c),o.props=p,y=e.pendingProps,m=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=hn(d):(d=Gt(n)?vi:kt.current,d=gl(e,d));var x=n.getDerivedStateFromProps;(v=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==y||m!==d)&&sv(e,o,r,d),Pr=!1,m=e.memoizedState,o.state=m,$o(e,r,o,l);var S=e.memoizedState;c!==y||m!==S||Ft.current||Pr?(typeof x=="function"&&(nf(e,n,x,r),S=e.memoizedState),(p=Pr||lv(e,n,p,r,m,S,d)||!1)?(v||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,d)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=d,r=p):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return af(t,e,n,r,a,l)}function af(t,e,n,r,l,a){Z0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return l&&Zg(e,n,!1),or(t,e,a);r=e.stateNode,$_.current=e;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ml(e,t.child,null,a),e.child=ml(e,null,c,a)):Et(t,e,c,a),e.memoizedState=r.state,l&&Zg(e,n,!0),e.child}function $0(t){var e=t.stateNode;e.pendingContext?Jg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jg(t,e.context,!1),nh(t,e.containerInfo)}function hv(t,e,n,r,l){return vl(),Jf(l),e.flags|=256,Et(t,e,n,r),e.child}var of={dehydrated:null,treeContext:null,retryLane:0};function uf(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,e,n){var r=e.pendingProps,l=Be.current,a=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(l&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),Re(Be,l&1),t===null)return ef(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=_u(o,r,0,null),t=gi(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=uf(n),e.memoizedState=of,t):ch(e,o));if(l=t.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return b_(t,e,o,r,c,l,n);if(a){a=r.fallback,o=e.mode,l=t.child,c=l.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&e.child!==l?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Gr(l,d),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?a=Gr(c,a):(a=gi(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=of,r}return a=t.child,t=a.sibling,r=Gr(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ch(t,e){return e=_u({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function so(t,e,n,r){return r!==null&&Jf(r),ml(e,t.child,null,n),t=ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b_(t,e,n,r,l,a,o){if(n)return e.flags&256?(e.flags&=-257,r=fd(Error(V(422))),so(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,l=e.mode,r=_u({mode:"visible",children:r.children},l,0,null),a=gi(a,l,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&ml(e,t.child,null,o),e.child.memoizedState=uf(o),e.memoizedState=of,a);if(!(e.mode&1))return so(t,e,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,a=Error(V(419)),r=fd(a,r,void 0),so(t,e,o,r)}if(c=(o&t.childLanes)!==0,Dt||c){if(r=ot,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,ar(t,l),Tn(r,t,l,-1))}return vh(),r=fd(Error(V(421))),so(t,e,o,r)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=fw.bind(null,t),l._reactRetry=e,null):(t=a.treeContext,Qt=zr(l.nextSibling),Xt=e,De=!0,En=null,t!==null&&(on[un++]=nr,on[un++]=rr,on[un++]=mi,nr=t.id,rr=t.overflow,mi=e),e=ch(e,r.children),e.flags|=4096,e)}function pv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tf(t.return,e,n)}function hd(t,e,n,r,l){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=l)}function ey(t,e,n){var r=e.pendingProps,l=r.revealOrder,a=r.tail;if(Et(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,n,e);else if(t.tag===19)pv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Be,r),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&bo(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),hd(e,!1,l,n,a);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&bo(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}hd(e,!0,n,null,a);break;case"together":hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(V(153));if(e.child!==null){for(t=e.child,n=Gr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ew(t,e,n){switch(e.tag){case 3:$0(e),vl();break;case 5:P0(e);break;case 1:Gt(e.type)&&Xo(e);break;case 4:nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,l=e.memoizedProps.value;Re(Jo,r._currentValue),r._currentValue=l;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?b0(t,e,n):(Re(Be,Be.current&1),t=or(t,e,n),t!==null?t.sibling:null);Re(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ey(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Re(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,J0(t,e,n)}return or(t,e,n)}var ty,cf,ny,ry;ty=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};ny=function(t,e,n,r){var l=t.memoizedProps;if(l!==r){t=e.stateNode,fi(Vn.current);var a=null;switch(n){case"input":l=Md(t,l),r=Md(t,r),a=[];break;case"select":l=He({},l,{value:void 0}),r=He({},r,{value:void 0}),a=[];break;case"textarea":l=zd(t,l),r=zd(t,r),a=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yo)}Dd(n,r);var o;n=null;for(p in l)if(!r.hasOwnProperty(p)&&l.hasOwnProperty(p)&&l[p]!=null)if(p==="style"){var c=l[p];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ns.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(c=l!=null?l[p]:void 0,r.hasOwnProperty(p)&&d!==c&&(d!=null||c!=null))if(p==="style")if(c){for(o in c)!c.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&c[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ns.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Oe("scroll",t),a||c===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};ry=function(t,e,n,r){n!==r&&(e.flags|=4)};function es(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tw(t,e,n){var r=e.pendingProps;switch(qf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Gt(e.type)&&Qo(),wt(e),null;case 3:return r=e.stateNode,yl(),Ae(Ft),Ae(kt),ih(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(io(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(yf(En),En=null))),cf(t,e),wt(e),null;case 5:rh(e);var l=fi(Hs.current);if(n=e.type,t!==null&&e.stateNode!=null)ny(t,e,n,r,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(V(166));return wt(e),null}if(t=fi(Vn.current),io(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Un]=e,r[Bs]=a,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(l=0;l<cs.length;l++)Oe(cs[l],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":kg(r,a),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Oe("invalid",r);break;case"textarea":Eg(r,a),Oe("invalid",r)}Dd(n,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="children"?typeof c=="string"?r.textContent!==c&&(a.suppressHydrationWarning!==!0&&ro(r.textContent,c,t),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&ro(r.textContent,c,t),l=["children",""+c]):Ns.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":qa(r),Cg(r,a,!0);break;case"textarea":qa(r),Pg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Yo)}r=l,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Un]=e,t[Bs]=r,ty(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fd(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),l=r;break;case"iframe":case"object":case"embed":Oe("load",t),l=r;break;case"video":case"audio":for(l=0;l<cs.length;l++)Oe(cs[l],t);l=r;break;case"source":Oe("error",t),l=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),l=r;break;case"details":Oe("toggle",t),l=r;break;case"input":kg(t,r),l=Md(t,r),Oe("invalid",t);break;case"option":l=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=He({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Eg(t,r),l=zd(t,r),Oe("invalid",t);break;default:l=r}Dd(n,l),c=l;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];a==="style"?zm(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Om(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Ls(t,d):typeof d=="number"&&Ls(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ns.hasOwnProperty(a)?d!=null&&a==="onScroll"&&Oe("scroll",t):d!=null&&zf(t,a,d,o))}switch(n){case"input":qa(t),Cg(t,r,!1);break;case"textarea":qa(t),Pg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jr(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?sl(t,!!r.multiple,a,!1):r.defaultValue!=null&&sl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Yo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)ry(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(V(166));if(n=fi(Hs.current),fi(Vn.current),io(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(a=r.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:ro(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ro(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return wt(e),null;case 13:if(Ae(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Qt!==null&&e.mode&1&&!(e.flags&128))w0(),vl(),e.flags|=98560,a=!1;else if(a=io(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(V(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Un]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),a=!1}else En!==null&&(yf(En),En=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?tt===0&&(tt=3):vh())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return yl(),cf(t,e),t===null&&Fs(e.stateNode.containerInfo),wt(e),null;case 10:return bf(e.type._context),wt(e),null;case 17:return Gt(e.type)&&Qo(),wt(e),null;case 19:if(Ae(Be),a=e.memoizedState,a===null)return wt(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)es(a,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bo(t),o!==null){for(e.flags|=128,es(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Be,Be.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ke()>_l&&(e.flags|=128,r=!0,es(a,!1),e.lanes=4194304)}else{if(!r)if(t=bo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),es(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!De)return wt(e),null}else 2*Ke()-a.renderingStartTime>_l&&n!==1073741824&&(e.flags|=128,r=!0,es(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ke(),e.sibling=null,n=Be.current,Re(Be,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return gh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Vt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(V(156,e.tag))}function nw(t,e){switch(qf(e),e.tag){case 1:return Gt(e.type)&&Qo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yl(),Ae(Ft),Ae(kt),ih(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rh(e),null;case 13:if(Ae(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(V(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(Be),null;case 4:return yl(),null;case 10:return bf(e.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var ao=!1,xt=!1,rw=typeof WeakSet=="function"?WeakSet:Set,te=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function df(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var gv=!1;function iw(t,e){if(Xd=Uo,t=o0(),Xf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,p=0,v=0,y=t,m=null;t:for(;;){for(var x;y!==n||l!==0&&y.nodeType!==3||(c=o+l),y!==a||r!==0&&y.nodeType!==3||(d=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(x=y.firstChild)!==null;)m=y,y=x;for(;;){if(y===t)break t;if(m===n&&++p===l&&(c=o),m===a&&++v===r&&(d=o),(x=y.nextSibling)!==null)break;y=m,m=y.parentNode}y=x}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:t,selectionRange:n},Uo=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var P=S.memoizedProps,R=S.memoizedState,k=e.stateNode,w=k.getSnapshotBeforeUpdate(e.elementType===e.type?P:kn(e.type,P),R);k.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(T){Ve(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=gv,gv=!1,S}function ks(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var a=l.destroy;l.destroy=void 0,a!==void 0&&df(e,n,a)}l=l.next}while(l!==r)}}function yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ff(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iy(t){var e=t.alternate;e!==null&&(t.alternate=null,iy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Bs],delete e[Zd],delete e[j_],delete e[H_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ly(t){return t.tag===5||t.tag===3||t.tag===4}function vv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yo));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function pf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pf(t,e,n),t=t.sibling;t!==null;)pf(t,e,n),t=t.sibling}var dt=null,Cn=!1;function kr(t,e,n){for(n=n.child;n!==null;)sy(t,e,n),n=n.sibling}function sy(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:xt||rl(n,e);case 6:var r=dt,l=Cn;dt=null,kr(t,e,n),dt=r,Cn=l,dt!==null&&(Cn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(Cn?(t=dt,n=n.stateNode,t.nodeType===8?sd(t.parentNode,n):t.nodeType===1&&sd(t,n),zs(t)):sd(dt,n.stateNode));break;case 4:r=dt,l=Cn,dt=n.stateNode.containerInfo,Cn=!0,kr(t,e,n),dt=r,Cn=l;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&df(n,e,o),l=l.next}while(l!==r)}kr(t,e,n);break;case 1:if(!xt&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ve(n,e,c)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,kr(t,e,n),xt=r):kr(t,e,n);break;default:kr(t,e,n)}}function mv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rw),e.forEach(function(r){var l=hw.bind(null,t,r);n.has(r)||(n.add(r),r.then(l,l))})}}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var a=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:dt=c.stateNode,Cn=!1;break e;case 3:dt=c.stateNode.containerInfo,Cn=!0;break e;case 4:dt=c.stateNode.containerInfo,Cn=!0;break e}c=c.return}if(dt===null)throw Error(V(160));sy(a,o,l),dt=null,Cn=!1;var d=l.alternate;d!==null&&(d.return=null),l.return=null}catch(p){Ve(l,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ay(e,t),e=e.sibling}function ay(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(e,t),jn(t),r&4){try{ks(3,t,t.return),yu(3,t)}catch(P){Ve(t,t.return,P)}try{ks(5,t,t.return)}catch(P){Ve(t,t.return,P)}}break;case 1:xn(e,t),jn(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(xn(e,t),jn(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var l=t.stateNode;try{Ls(l,"")}catch(P){Ve(t,t.return,P)}}if(r&4&&(l=t.stateNode,l!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Nm(l,a),Fd(c,o);var p=Fd(c,a);for(o=0;o<d.length;o+=2){var v=d[o],y=d[o+1];v==="style"?zm(l,y):v==="dangerouslySetInnerHTML"?Om(l,y):v==="children"?Ls(l,y):zf(l,v,y,p)}switch(c){case"input":Od(l,a);break;case"textarea":Lm(l,a);break;case"select":var m=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?sl(l,!!a.multiple,x,!1):m!==!!a.multiple&&(a.defaultValue!=null?sl(l,!!a.multiple,a.defaultValue,!0):sl(l,!!a.multiple,a.multiple?[]:"",!1))}l[Bs]=a}catch(P){Ve(t,t.return,P)}}break;case 6:if(xn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(V(162));l=t.stateNode,a=t.memoizedProps;try{l.nodeValue=a}catch(P){Ve(t,t.return,P)}}break;case 3:if(xn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zs(e.containerInfo)}catch(P){Ve(t,t.return,P)}break;case 4:xn(e,t),jn(t);break;case 13:xn(e,t),jn(t),l=t.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(hh=Ke())),r&4&&mv(t);break;case 22:if(v=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(p=xt)||v,xn(e,t),xt=p):xn(e,t),jn(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!v&&t.mode&1)for(te=t,v=t.child;v!==null;){for(y=te=v;te!==null;){switch(m=te,x=m.child,m.tag){case 0:case 11:case 14:case 15:ks(4,m,m.return);break;case 1:rl(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(P){Ve(r,n,P)}}break;case 5:rl(m,m.return);break;case 22:if(m.memoizedState!==null){Sv(y);continue}}x!==null?(x.return=m,te=x):Sv(y)}v=v.sibling}e:for(v=null,y=t;;){if(y.tag===5){if(v===null){v=y;try{l=y.stateNode,p?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=y.stateNode,d=y.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=Am("display",o))}catch(P){Ve(t,t.return,P)}}}else if(y.tag===6){if(v===null)try{y.stateNode.nodeValue=p?"":y.memoizedProps}catch(P){Ve(t,t.return,P)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;v===y&&(v=null),y=y.return}v===y&&(v=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:xn(e,t),jn(t),r&4&&mv(t);break;case 21:break;default:xn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ly(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Ls(l,""),r.flags&=-33);var a=vv(t);pf(t,a,l);break;case 3:case 4:var o=r.stateNode.containerInfo,c=vv(t);hf(t,c,o);break;default:throw Error(V(161))}}catch(d){Ve(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lw(t,e,n){te=t,oy(t)}function oy(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var l=te,a=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||ao;if(!o){var c=l.alternate,d=c!==null&&c.memoizedState!==null||xt;c=ao;var p=xt;if(ao=o,(xt=d)&&!p)for(te=l;te!==null;)o=te,d=o.child,o.tag===22&&o.memoizedState!==null?_v(l):d!==null?(d.return=o,te=d):_v(l);for(;a!==null;)te=a,oy(a),a=a.sibling;te=l,ao=c,xt=p}yv(t)}else l.subtreeFlags&8772&&a!==null?(a.return=l,te=a):yv(t)}}function yv(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:kn(e.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&nv(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nv(e,o,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var y=v.dehydrated;y!==null&&zs(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}xt||e.flags&512&&ff(e)}catch(m){Ve(e,e.return,m)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function Sv(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function _v(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yu(4,e)}catch(d){Ve(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var l=e.return;try{r.componentDidMount()}catch(d){Ve(e,l,d)}}var a=e.return;try{ff(e)}catch(d){Ve(e,a,d)}break;case 5:var o=e.return;try{ff(e)}catch(d){Ve(e,o,d)}}}catch(d){Ve(e,e.return,d)}if(e===t){te=null;break}var c=e.sibling;if(c!==null){c.return=e.return,te=c;break}te=e.return}}var sw=Math.ceil,nu=ur.ReactCurrentDispatcher,dh=ur.ReactCurrentOwner,fn=ur.ReactCurrentBatchConfig,me=0,ot=null,Je=null,ft=0,Vt=0,il=Wr(0),tt=0,Ys=null,Si=0,Su=0,fh=0,Cs=null,It=null,hh=0,_l=1/0,er=null,ru=!1,gf=null,Dr=null,oo=!1,Lr=null,iu=0,Es=0,vf=null,Mo=-1,Oo=0;function Pt(){return me&6?Ke():Mo!==-1?Mo:Mo=Ke()}function Fr(t){return t.mode&1?me&2&&ft!==0?ft&-ft:W_.transition!==null?(Oo===0&&(Oo=Qm()),Oo):(t=ke,t!==0||(t=window.event,t=t===void 0?16:bm(t.type)),t):1}function Tn(t,e,n,r){if(50<Es)throw Es=0,vf=null,Error(V(185));Ks(t,n,r),(!(me&2)||t!==ot)&&(t===ot&&(!(me&2)&&(Su|=n),tt===4&&Rr(t,ft)),Bt(t,r),n===1&&me===0&&!(e.mode&1)&&(_l=Ke()+500,gu&&Vr()))}function Bt(t,e){var n=t.callbackNode;WS(t,e);var r=Ho(t,t===ot?ft:0);if(r===0)n!==null&&Ng(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ng(n),e===1)t.tag===0?U_(wv.bind(null,t)):y0(wv.bind(null,t)),G_(function(){!(me&6)&&Vr()}),n=null;else{switch(Xm(r)){case 1:n=Bf;break;case 4:n=Vm;break;case 16:n=jo;break;case 536870912:n=Ym;break;default:n=jo}n=vy(n,uy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uy(t,e){if(Mo=-1,Oo=0,me&6)throw Error(V(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=Ho(t,t===ot?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lu(t,r);else{e=r;var l=me;me|=2;var a=dy();(ot!==t||ft!==e)&&(er=null,_l=Ke()+500,pi(t,e));do try{uw();break}catch(c){cy(t,c)}while(!0);$f(),nu.current=a,me=l,Je!==null?e=0:(ot=null,ft=0,e=tt)}if(e!==0){if(e===2&&(l=Ud(t),l!==0&&(r=l,e=mf(t,l))),e===1)throw n=Ys,pi(t,0),Rr(t,r),Bt(t,Ke()),n;if(e===6)Rr(t,r);else{if(l=t.current.alternate,!(r&30)&&!aw(l)&&(e=lu(t,r),e===2&&(a=Ud(t),a!==0&&(r=a,e=mf(t,a))),e===1))throw n=Ys,pi(t,0),Rr(t,r),Bt(t,Ke()),n;switch(t.finishedWork=l,t.finishedLanes=r,e){case 0:case 1:throw Error(V(345));case 2:ui(t,It,er);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=hh+500-Ke(),10<e)){if(Ho(t,0)!==0)break;if(l=t.suspendedLanes,(l&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=Jd(ui.bind(null,t,It,er),e);break}ui(t,It,er);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,l=-1;0<r;){var o=31-Pn(r);a=1<<o,o=e[o],o>l&&(l=o),r&=~a}if(r=l,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sw(r/1960))-r,10<r){t.timeoutHandle=Jd(ui.bind(null,t,It,er),r);break}ui(t,It,er);break;case 5:ui(t,It,er);break;default:throw Error(V(329))}}}return Bt(t,Ke()),t.callbackNode===n?uy.bind(null,t):null}function mf(t,e){var n=Cs;return t.current.memoizedState.isDehydrated&&(pi(t,e).flags|=256),t=lu(t,e),t!==2&&(e=It,It=n,e!==null&&yf(e)),t}function yf(t){It===null?It=t:It.push.apply(It,t)}function aw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],a=l.getSnapshot;l=l.value;try{if(!Rn(a(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~fh,e&=~Su,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function wv(t){if(me&6)throw Error(V(327));dl();var e=Ho(t,0);if(!(e&1))return Bt(t,Ke()),null;var n=lu(t,e);if(t.tag!==0&&n===2){var r=Ud(t);r!==0&&(e=r,n=mf(t,r))}if(n===1)throw n=Ys,pi(t,0),Rr(t,e),Bt(t,Ke()),n;if(n===6)throw Error(V(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,It,er),Bt(t,Ke()),null}function ph(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(_l=Ke()+500,gu&&Vr())}}function _i(t){Lr!==null&&Lr.tag===0&&!(me&6)&&dl();var e=me;me|=1;var n=fn.transition,r=ke;try{if(fn.transition=null,ke=1,t)return t()}finally{ke=r,fn.transition=n,me=e,!(me&6)&&Vr()}}function gh(){Vt=il.current,Ae(il)}function pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F_(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(qf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:yl(),Ae(Ft),Ae(kt),ih();break;case 5:rh(r);break;case 4:yl();break;case 13:Ae(Be);break;case 19:Ae(Be);break;case 10:bf(r.type._context);break;case 22:case 23:gh()}n=n.return}if(ot=t,Je=t=Gr(t.current,null),ft=Vt=e,tt=0,Ys=null,fh=Su=Si=0,It=Cs=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=l,r.next=o}n.pending=r}di=null}return t}function cy(t,e){do{var n=Je;try{if($f(),Ro.current=tu,eu){for(var r=je.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}eu=!1}if(yi=0,at=et=je=null,xs=!1,Us=0,dh.current=null,n===null||n.return===null){tt=1,Ys=e,Je=null;break}e:{var a=t,o=n.return,c=n,d=e;if(e=ft,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,v=c,y=v.tag;if(!(v.mode&1)&&(y===0||y===11||y===15)){var m=v.alternate;m?(v.updateQueue=m.updateQueue,v.memoizedState=m.memoizedState,v.lanes=m.lanes):(v.updateQueue=null,v.memoizedState=null)}var x=ov(o);if(x!==null){x.flags&=-257,uv(x,o,c,a,e),x.mode&1&&av(a,p,e),e=x,d=p;var S=e.updateQueue;if(S===null){var P=new Set;P.add(d),e.updateQueue=P}else S.add(d);break e}else{if(!(e&1)){av(a,p,e),vh();break e}d=Error(V(426))}}else if(De&&c.mode&1){var R=ov(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),uv(R,o,c,a,e),Jf(Sl(d,c));break e}}a=d=Sl(d,c),tt!==4&&(tt=2),Cs===null?Cs=[a]:Cs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var k=X0(a,d,e);tv(a,k);break e;case 1:c=d;var w=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Dr===null||!Dr.has(C)))){a.flags|=65536,e&=-e,a.lanes|=e;var T=K0(a,c,e);tv(a,T);break e}}a=a.return}while(a!==null)}hy(n)}catch(F){e=F,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function dy(){var t=nu.current;return nu.current=tu,t===null?tu:t}function vh(){(tt===0||tt===3||tt===2)&&(tt=4),ot===null||!(Si&268435455)&&!(Su&268435455)||Rr(ot,ft)}function lu(t,e){var n=me;me|=2;var r=dy();(ot!==t||ft!==e)&&(er=null,pi(t,e));do try{ow();break}catch(l){cy(t,l)}while(!0);if($f(),me=n,nu.current=r,Je!==null)throw Error(V(261));return ot=null,ft=0,tt}function ow(){for(;Je!==null;)fy(Je)}function uw(){for(;Je!==null&&!zS();)fy(Je)}function fy(t){var e=gy(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?hy(t):Je=e,dh.current=null}function hy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nw(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Je=null;return}}else if(n=tw(n,e,Vt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);tt===0&&(tt=5)}function ui(t,e,n){var r=ke,l=fn.transition;try{fn.transition=null,ke=1,cw(t,e,n,r)}finally{fn.transition=l,ke=r}return null}function cw(t,e,n,r){do dl();while(Lr!==null);if(me&6)throw Error(V(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(V(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(VS(t,a),t===ot&&(Je=ot=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oo||(oo=!0,vy(jo,function(){return dl(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fn.transition,fn.transition=null;var o=ke;ke=1;var c=me;me|=4,dh.current=null,iw(t,n),ay(n,t),L_(Kd),Uo=!!Xd,Kd=Xd=null,t.current=n,lw(n),IS(),me=c,ke=o,fn.transition=a}else t.current=n;if(oo&&(oo=!1,Lr=t,iu=l),a=t.pendingLanes,a===0&&(Dr=null),GS(n.stateNode),Bt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(ru)throw ru=!1,t=gf,gf=null,t;return iu&1&&t.tag!==0&&dl(),a=t.pendingLanes,a&1?t===vf?Es++:(Es=0,vf=t):Es=0,Vr(),null}function dl(){if(Lr!==null){var t=Xm(iu),e=fn.transition,n=ke;try{if(fn.transition=null,ke=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,iu=0,me&6)throw Error(V(331));var l=me;for(me|=4,te=t.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var c=a.deletions;if(c!==null){for(var d=0;d<c.length;d++){var p=c[d];for(te=p;te!==null;){var v=te;switch(v.tag){case 0:case 11:case 15:ks(8,v,a)}var y=v.child;if(y!==null)y.return=v,te=y;else for(;te!==null;){v=te;var m=v.sibling,x=v.return;if(iy(v),v===p){te=null;break}if(m!==null){m.return=x,te=m;break}te=x}}}var S=a.alternate;if(S!==null){var P=S.child;if(P!==null){S.child=null;do{var R=P.sibling;P.sibling=null,P=R}while(P!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ks(9,a,a.return)}var k=a.sibling;if(k!==null){k.return=a.return,te=k;break e}te=a.return}}var w=t.current;for(te=w;te!==null;){o=te;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,te=C;else e:for(o=w;te!==null;){if(c=te,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:yu(9,c)}}catch(F){Ve(c,c.return,F)}if(c===o){te=null;break e}var T=c.sibling;if(T!==null){T.return=c.return,te=T;break e}te=c.return}}if(me=l,Vr(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(cu,t)}catch{}r=!0}return r}finally{ke=n,fn.transition=e}}return!1}function xv(t,e,n){e=Sl(n,e),e=X0(t,e,1),t=Ir(t,e,1),e=Pt(),t!==null&&(Ks(t,1,e),Bt(t,e))}function Ve(t,e,n){if(t.tag===3)xv(t,t,n);else for(;e!==null;){if(e.tag===3){xv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Dr===null||!Dr.has(r))){t=Sl(n,t),t=K0(e,t,1),e=Ir(e,t,1),t=Pt(),e!==null&&(Ks(e,1,t),Bt(e,t));break}}e=e.return}}function dw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ft&n)===n&&(tt===4||tt===3&&(ft&130023424)===ft&&500>Ke()-hh?pi(t,0):fh|=n),Bt(t,e)}function py(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=Pt();t=ar(t,e),t!==null&&(Ks(t,e,n),Bt(t,n))}function fw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),py(t,n)}function hw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(e),py(t,n)}var gy;gy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,ew(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,De&&e.flags&1048576&&S0(e,qo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lo(t,e),t=e.pendingProps;var l=gl(e,kt.current);cl(e,n),l=sh(null,e,r,t,l,n);var a=ah();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(a=!0,Xo(e)):a=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,th(e),l.updater=mu,e.stateNode=l,l._reactInternals=e,rf(e,r,t,n),e=af(null,e,r,!0,a,n)):(e.tag=0,De&&a&&Kf(e),Et(null,e,l,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lo(t,e),t=e.pendingProps,l=r._init,r=l(r._payload),e.type=r,l=e.tag=gw(r),t=kn(r,t),l){case 0:e=sf(null,e,r,t,n);break e;case 1:e=fv(null,e,r,t,n);break e;case 11:e=cv(null,e,r,t,n);break e;case 14:e=dv(null,e,r,kn(r.type,t),n);break e}throw Error(V(306,r,""))}return e;case 0:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:kn(r,l),sf(t,e,r,l,n);case 1:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:kn(r,l),fv(t,e,r,l,n);case 3:e:{if($0(e),t===null)throw Error(V(387));r=e.pendingProps,a=e.memoizedState,l=a.element,E0(t,e),$o(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){l=Sl(Error(V(423)),e),e=hv(t,e,r,n,l);break e}else if(r!==l){l=Sl(Error(V(424)),e),e=hv(t,e,r,n,l);break e}else for(Qt=zr(e.stateNode.containerInfo.firstChild),Xt=e,De=!0,En=null,n=k0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===l){e=or(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return P0(e),t===null&&ef(e),r=e.type,l=e.pendingProps,a=t!==null?t.memoizedProps:null,o=l.children,qd(r,l)?o=null:a!==null&&qd(r,a)&&(e.flags|=32),Z0(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&ef(e),null;case 13:return b0(t,e,n);case 4:return nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ml(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:kn(r,l),cv(t,e,r,l,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,l=e.pendingProps,a=e.memoizedProps,o=l.value,Re(Jo,r._currentValue),r._currentValue=o,a!==null)if(Rn(a.value,o)){if(a.children===l.children&&!Ft.current){e=or(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){o=a.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=ir(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?d.next=d:(d.next=v.next,v.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),tf(a.return,n,e),c.lanes|=n;break}d=d.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(V(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),tf(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Et(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,r=e.pendingProps.children,cl(e,n),l=hn(l),r=r(l),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,l=kn(r,e.pendingProps),l=kn(r.type,l),dv(t,e,r,l,n);case 15:return q0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:kn(r,l),Lo(t,e),e.tag=1,Gt(r)?(t=!0,Xo(e)):t=!1,cl(e,n),Q0(e,r,l),rf(e,r,l,n),af(null,e,r,!0,t,n);case 19:return ey(t,e,n);case 22:return J0(t,e,n)}throw Error(V(156,e.tag))};function vy(t,e){return Wm(t,e)}function pw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new pw(t,e,n,r)}function mh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gw(t){if(typeof t=="function")return mh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Df)return 11;if(t===Ff)return 14}return 2}function Gr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ao(t,e,n,r,l,a){var o=2;if(r=t,typeof t=="function")mh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ki:return gi(n.children,l,a,e);case If:o=8,l|=8;break;case Td:return t=dn(12,n,e,l|2),t.elementType=Td,t.lanes=a,t;case Rd:return t=dn(13,n,e,l),t.elementType=Rd,t.lanes=a,t;case Nd:return t=dn(19,n,e,l),t.elementType=Nd,t.lanes=a,t;case Pm:return _u(n,l,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cm:o=10;break e;case Em:o=9;break e;case Df:o=11;break e;case Ff:o=14;break e;case Er:o=16,r=null;break e}throw Error(V(130,t==null?t:typeof t,""))}return e=dn(o,n,e,l),e.elementType=t,e.type=r,e.lanes=a,e}function gi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function _u(t,e,n,r){return t=dn(22,t,r,e),t.elementType=Pm,t.lanes=n,t.stateNode={isHidden:!1},t}function pd(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function gd(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vw(t,e,n,r,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qc(0),this.expirationTimes=qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qc(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function yh(t,e,n,r,l,a,o,c,d){return t=new vw(t,e,n,c,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=dn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(a),t}function mw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function my(t){if(!t)return Hr;t=t._reactInternals;e:{if(ki(t)!==t||t.tag!==1)throw Error(V(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(V(171))}if(t.tag===1){var n=t.type;if(Gt(n))return m0(t,n,e)}return e}function yy(t,e,n,r,l,a,o,c,d){return t=yh(n,r,!0,t,l,a,o,c,d),t.context=my(null),n=t.current,r=Pt(),l=Fr(n),a=ir(r,l),a.callback=e??null,Ir(n,a,l),t.current.lanes=l,Ks(t,l,r),Bt(t,r),t}function wu(t,e,n,r){var l=e.current,a=Pt(),o=Fr(l);return n=my(n),e.context===null?e.context=n:e.pendingContext=n,e=ir(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(l,e,o),t!==null&&(Tn(t,l,o,a),To(t,l,o)),o}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sh(t,e){kv(t,e),(t=t.alternate)&&kv(t,e)}function yw(){return null}var Sy=typeof reportError=="function"?reportError:function(t){console.error(t)};function _h(t){this._internalRoot=t}xu.prototype.render=_h.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(V(409));wu(t,e,null,null)};xu.prototype.unmount=_h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){wu(null,t,null,null)}),e[sr]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&$m(t)}};function wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cv(){}function Sw(t,e,n,r,l){if(l){if(typeof r=="function"){var a=r;r=function(){var p=su(o);a.call(p)}}var o=yy(e,r,t,0,null,!1,!1,"",Cv);return t._reactRootContainer=o,t[sr]=o.current,Fs(t.nodeType===8?t.parentNode:t),_i(),o}for(;l=t.lastChild;)t.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var p=su(d);c.call(p)}}var d=yh(t,0,!1,null,null,!1,!1,"",Cv);return t._reactRootContainer=d,t[sr]=d.current,Fs(t.nodeType===8?t.parentNode:t),_i(function(){wu(e,d,n,r)}),d}function Cu(t,e,n,r,l){var a=n._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var c=l;l=function(){var d=su(o);c.call(d)}}wu(e,o,t,l)}else o=Sw(n,e,t,l,r);return su(o)}Km=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=us(e.pendingLanes);n!==0&&(jf(e,n|1),Bt(e,Ke()),!(me&6)&&(_l=Ke()+500,Vr()))}break;case 13:_i(function(){var r=ar(t,1);if(r!==null){var l=Pt();Tn(r,t,1,l)}}),Sh(t,1)}};Hf=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Pt();Tn(e,t,134217728,n)}Sh(t,134217728)}};qm=function(t){if(t.tag===13){var e=Fr(t),n=ar(t,e);if(n!==null){var r=Pt();Tn(n,t,e,r)}Sh(t,e)}};Jm=function(){return ke};Zm=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Bd=function(t,e,n){switch(e){case"input":if(Od(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var l=pu(r);if(!l)throw Error(V(90));Rm(r),Od(r,l)}}}break;case"textarea":Lm(t,n);break;case"select":e=n.value,e!=null&&sl(t,!!n.multiple,e,!1)}};Fm=ph;Gm=_i;var _w={usingClientEntryPoint:!1,Events:[Js,$i,pu,Im,Dm,ph]},ts={findFiberByHostInstance:ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ww={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hm(t),t===null?null:t.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{cu=uo.inject(ww),Wn=uo}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(e))throw Error(V(200));return mw(t,e,null,n)};Jt.createRoot=function(t,e){if(!wh(t))throw Error(V(299));var n=!1,r="",l=Sy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=yh(t,1,!1,null,null,n,!1,r,l),t[sr]=e.current,Fs(t.nodeType===8?t.parentNode:t),new _h(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(V(188)):(t=Object.keys(t).join(","),Error(V(268,t)));return t=Hm(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return _i(t)};Jt.hydrate=function(t,e,n){if(!ku(e))throw Error(V(200));return Cu(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!wh(t))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,l=!1,a="",o=Sy;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yy(e,null,t,1,n??null,l,!1,a,o),t[sr]=e.current,Fs(t),r)for(t=0;t<r.length;t++)n=r[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new xu(e)};Jt.render=function(t,e,n){if(!ku(e))throw Error(V(200));return Cu(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!ku(t))throw Error(V(40));return t._reactRootContainer?(_i(function(){Cu(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};Jt.unstable_batchedUpdates=ph;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ku(n))throw Error(V(200));if(t==null||t._reactInternals===void 0)throw Error(V(38));return Cu(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function _y(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_y)}catch(t){console.error(t)}}_y(),_m.exports=Jt;var wy=_m.exports,xy,Ev=wy;xy=Ev.createRoot,Ev.hydrateRoot;var ky={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Pv=Ye.createContext&&Ye.createContext(ky),Br=function(){return Br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},Br.apply(this,arguments)},xw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(n[r[l]]=t[r[l]]);return n};function Cy(t){return t&&t.map(function(e,n){return Ye.createElement(e.tag,Br({key:n},e.attr),Cy(e.child))})}function Nn(t){return function(e){return Ye.createElement(kw,Br({attr:Br({},t.attr)},e),Cy(t.child))}}function kw(t){var e=function(n){var r=t.attr,l=t.size,a=t.title,o=xw(t,["attr","size","title"]),c=l||n.size||"1em",d;return n.className&&(d=n.className),t.className&&(d=(d?d+" ":"")+t.className),Ye.createElement("svg",Br({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:d,style:Br(Br({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Ye.createElement("title",null,a),t.children)};return Pv!==void 0?Ye.createElement(Pv.Consumer,null,function(n){return e(n)}):e(ky)}function Cw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}},{tag:"path",attr:{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"}}]})(t)}function Ew(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}}]})(t)}function Tv(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(t)}function Pw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(t)}function Tw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"4",x2:"10",y2:"4"}},{tag:"line",attr:{x1:"14",y1:"20",x2:"5",y2:"20"}},{tag:"line",attr:{x1:"15",y1:"4",x2:"9",y2:"20"}}]})(t)}function Rw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"}},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"}},{tag:"path",attr:{d:"M2 2l7.586 7.586"}},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"}}]})(t)}function Nw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"6",cy:"6",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"line",attr:{x1:"20",y1:"4",x2:"8.12",y2:"15.88"}},{tag:"line",attr:{x1:"14.47",y1:"14.48",x2:"20",y2:"20"}},{tag:"line",attr:{x1:"8.12",y1:"8.12",x2:"12",y2:"12"}}]})(t)}function Rv(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}}]})(t)}function Lw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"}},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"}},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"}},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"}},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}}]})(t)}function Mw(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"}},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"}},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"}}]})(t)}function Ow(t){return Nn({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(t)}function Ey(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=Ey(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Aw(){for(var t,e,n=0,r="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=Ey(t))&&(r&&(r+=" "),r+=e);return r}function Wt({active:t,title:e,onClick:n,children:r}){return b.jsx("button",{onClick:n,title:e,className:Aw("p-2 rounded-md transition-all flex items-center justify-center",t?"bg-brand-500 text-white shadow-md":"bg-white dark:bg-gray-800 hover:shadow-sm"),children:r})}function Py({color:t,onChange:e}){return b.jsx("input",{"aria-label":"color",title:"Color",type:"color",value:t,onChange:n=>e(n.target.value),className:"w-10 h-10 p-0 border-0 rounded"})}function zw({activeTool:t,setTool:e,strokeWidth:n,setStrokeWidth:r,color:l,setColor:a,toggleGrid:o,showGrid:c,onExportPNG:d,onExportJSON:p,onImportJSON:v,dark:y,toggleDark:m}){return b.jsxs("div",{className:"w-full md:w-auto p-2 bg-transparent flex items-center gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Wt,{active:t==="pen",onClick:()=>e("pen"),title:"Pen",children:b.jsx(Rw,{})}),b.jsx(Wt,{active:t==="rect",onClick:()=>e("rect"),title:"Rectangle",children:b.jsx(Rv,{})}),b.jsx(Wt,{active:t==="circle",onClick:()=>e("circle"),title:"Circle",children:b.jsx(Ew,{})}),b.jsx(Wt,{active:t==="line",onClick:()=>e("line"),title:"Line",children:b.jsx(Rv,{style:{transform:"rotate(45deg)"}})}),b.jsx(Wt,{active:t==="text",onClick:()=>e("text"),title:"Text",children:b.jsx(Mw,{})}),b.jsx(Wt,{active:t==="eraser",onClick:()=>e("eraser"),title:"Eraser",children:b.jsx(Nw,{})})]}),b.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm",children:"Width"}),b.jsx("input",{type:"range",min:"1",max:"40",value:n,onChange:x=>r(+x.target.value)})]}),b.jsx(Py,{color:l,onChange:a}),b.jsx(Wt,{onClick:()=>o(),active:c,title:"Toggle grid",children:b.jsx(Pw,{})}),b.jsx(Wt,{onClick:d,title:"Export PNG",children:b.jsx(Tv,{})}),b.jsx(Wt,{onClick:p,title:"Export JSON",children:b.jsx(Tv,{})}),b.jsxs("label",{className:"cursor-pointer",title:"Import JSON",children:[b.jsx("input",{type:"file",accept:"application/json",onChange:v,className:"hidden"}),b.jsx(Wt,{title:"Import JSON",children:b.jsx(Ow,{})})]}),b.jsx(Wt,{onClick:m,title:"Toggle theme",children:b.jsx(Lw,{})})]})]})}var Iw=Math.PI/180;function Dw(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const fl=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ne={_global:fl,version:"8.4.3",isBrowser:Dw(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return ne.angleDeg?t*Iw:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ne.DD.isDragging},isDragReady(){return!!ne.DD.node},releaseCanvasOnDestroy:!0,document:fl.document,_injectGlobal(t){fl.Konva=t}},We=t=>{ne[t.prototype.getClassName()]=t};ne._injectGlobal(ne);class Yt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Yt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){var n=Math.cos(e),r=Math.sin(e),l=this.m[0]*n+this.m[2]*r,a=this.m[1]*n+this.m[3]*r,o=this.m[0]*-r+this.m[2]*n,c=this.m[1]*-r+this.m[3]*n;return this.m[0]=l,this.m[1]=a,this.m[2]=o,this.m[3]=c,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){var r=this.m[0]+this.m[2]*n,l=this.m[1]+this.m[3]*n,a=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=l,this.m[2]=a,this.m[3]=o,this}multiply(e){var n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],l=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],c=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=l,this.m[3]=a,this.m[4]=o,this.m[5]=c,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,l=-this.m[2]*e,a=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),c=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=l,this.m[3]=a,this.m[4]=o,this.m[5]=c,this}getMatrix(){return this.m}decompose(){var e=this.m[0],n=this.m[1],r=this.m[2],l=this.m[3],a=this.m[4],o=this.m[5],c=e*l-n*r;let d={x:a,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){var p=Math.sqrt(e*e+n*n);d.rotation=n>0?Math.acos(e/p):-Math.acos(e/p),d.scaleX=p,d.scaleY=c/p,d.skewX=(e*r+n*l)/c,d.skewY=0}else if(r!=0||l!=0){var v=Math.sqrt(r*r+l*l);d.rotation=Math.PI/2-(l>0?Math.acos(-r/v):-Math.acos(r/v)),d.scaleX=c/v,d.scaleY=v,d.skewX=0,d.skewY=(e*r+n*l)/c}return d.rotation=M._getRotation(d.rotation),d}}var Fw="[object Array]",Gw="[object Number]",Bw="[object String]",jw="[object Boolean]",Hw=Math.PI/180,Uw=180/Math.PI,vd="#",Ww="",Vw="0",Yw="Konva warning: ",Nv="Konva error: ",Qw="rgb(",md={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Xw=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,co=[];const Kw=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},M={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===Fw},_isNumber(t){return Object.prototype.toString.call(t)===Gw&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===Bw},_isBoolean(t){return Object.prototype.toString.call(t)===jw},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;var e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){co.push(t),co.length===1&&Kw(function(){const e=co;co=[],e.forEach(function(n){n()})})},createCanvasElement(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){var n=M.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(vd,Ww);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var t=(Math.random()*16777215<<0).toString(16);t.length<6;)t=Vw+t;return vd+t},getRGB(t){var e;return t in md?(e=md[t],{r:e[0],g:e[1],b:e[2]}):t[0]===vd?this._hexToRgb(t.substring(1)):t.substr(0,4)===Qw?(e=Xw.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",M._namedColorToRBA(t)||M._hex3ColorToRGBA(t)||M._hex4ColorToRGBA(t)||M._hex6ColorToRGBA(t)||M._hex8ColorToRGBA(t)||M._rgbColorToRGBA(t)||M._rgbaColorToRGBA(t)||M._hslColorToRGBA(t)},_namedColorToRBA(t){var e=md[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,l=Number(n[1])/100,a=Number(n[2])/100;let o,c,d;if(l===0)return d=a*255,{r:Math.round(d),g:Math.round(d),b:Math.round(d),a:1};a<.5?o=a*(1+l):o=a+l-a*l;const p=2*a-o,v=[0,0,0];for(let y=0;y<3;y++)c=r+1/3*-(y-1),c<0&&c++,c>1&&c--,6*c<1?d=p+(o-p)*6*c:2*c<1?d=o:3*c<2?d=p+(o-p)*(2/3-c)*6:d=p,v[y]=d*255;return{r:Math.round(v[0]),g:Math.round(v[1]),b:Math.round(v[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*Hw},radToDeg(t){return t*Uw},_degToRad(t){return M.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),M.degToRad(t)},_radToDeg(t){return M.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),M.radToDeg(t)},_getRotation(t){return ne.angleDeg?M.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Nv+t)},error(t){console.error(Nv+t)},warn(t){ne.showWarnings&&console.warn(Yw+t)},each(t,e){for(var n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,l,a){var o,c,d,p=(t-n)*(t-n)+(e-r)*(e-r);if(p==0)o=t,c=e,d=(l-n)*(l-n)+(a-r)*(a-r);else{var v=((l-t)*(n-t)+(a-e)*(r-e))/p;v<0?(o=t,c=e,d=(t-l)*(t-l)+(e-a)*(e-a)):v>1?(o=n,c=r,d=(n-l)*(n-l)+(r-a)*(r-a)):(o=t+v*(n-t),c=e+v*(r-e),d=(o-l)*(o-l)+(c-a)*(c-a))}return[o,c,d]},_getProjectionToLine(t,e,n){var r=M.cloneObject(t),l=Number.MAX_VALUE;return e.forEach(function(a,o){if(!(!n&&o===e.length-1)){var c=e[(o+1)%e.length],d=M._getProjectionToSegment(a.x,a.y,c.x,c.y,t.x,t.y),p=d[0],v=d[1],y=d[2];y<l&&(r.x=p,r.y=v,l=y)}}),r},_prepareArrayForTween(t,e,n){var r,l=[],a=[];if(t.length>e.length){var o=e;e=t,t=o}for(r=0;r<t.length;r+=2)l.push({x:t[r],y:t[r+1]});for(r=0;r<e.length;r+=2)a.push({x:e[r],y:e[r+1]});var c=[];return a.forEach(function(d){var p=M._getProjectionToLine(d,l,n);c.push(p.x),c.push(p.y)}),c},_prepareToStringify(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||M._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(M._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){ne.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let l=0,a=0,o=0,c=0;typeof r=="number"?l=a=o=c=Math.min(r,e/2,n/2):(l=Math.min(r[0]||0,e/2,n/2),a=Math.min(r[1]||0,e/2,n/2),c=Math.min(r[2]||0,e/2,n/2),o=Math.min(r[3]||0,e/2,n/2)),t.moveTo(l,0),t.lineTo(e-a,0),t.arc(e-a,a,a,Math.PI*3/2,0,!1),t.lineTo(e,n-c),t.arc(e-c,n-c,c,0,Math.PI/2,!1),t.lineTo(o,n),t.arc(o,n-o,o,Math.PI/2,Math.PI,!1),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1)}};function Yr(t){return M._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||M._isBoolean(t)?t:Object.prototype.toString.call(t)}function Ty(t){return t>255?255:t<0?0:Math.round(t)}function X(){if(ne.isUnminified)return function(t,e){return M._isNumber(t)||M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function xh(t){if(ne.isUnminified)return function(e,n){let r=M._isNumber(e),l=M._isArray(e)&&e.length==t;return!r&&!l&&M.warn(Yr(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function kh(){if(ne.isUnminified)return function(t,e){var n=M._isNumber(t),r=t==="auto";return n||r||M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function El(){if(ne.isUnminified)return function(t,e){return M._isString(t)||M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Ry(){if(ne.isUnminified)return function(t,e){const n=M._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function qw(){if(ne.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(M._isArray(t)?t.forEach(function(r){M._isNumber(r)||M.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Ln(){if(ne.isUnminified)return function(t,e){var n=t===!0||t===!1;return n||M.warn(Yr(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function Jw(t){if(ne.isUnminified)return function(e,n){return e==null||M.isObject(e)||M.warn(Yr(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}var ns="get",rs="set";const E={addGetterSetter(t,e,n,r,l){E.addGetter(t,e,n),E.addSetter(t,e,r,l),E.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){var r=ns+M._capitalize(e);t.prototype[r]=t.prototype[r]||function(){var l=this.attrs[e];return l===void 0?n:l}},addSetter(t,e,n,r){var l=rs+M._capitalize(e);t.prototype[l]||E.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){var l=rs+M._capitalize(e);t.prototype[l]=function(a){return n&&a!==void 0&&a!==null&&(a=n.call(this,a,e)),this._setAttr(e,a),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,l){var a=n.length,o=M._capitalize,c=ns+o(e),d=rs+o(e),p,v;t.prototype[c]=function(){var m={};for(p=0;p<a;p++)v=n[p],m[v]=this.getAttr(e+o(v));return m};var y=Jw(n);t.prototype[d]=function(m){var x=this.attrs[e],S;r&&(m=r.call(this,m)),y&&y.call(this,m,e);for(S in m)m.hasOwnProperty(S)&&this._setAttr(e+o(S),m[S]);return m||n.forEach(P=>{this._setAttr(e+o(P),void 0)}),this._fireChangeEvent(e,x,m),l&&l.call(this),this},E.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){var n=M._capitalize(e),r=rs+n,l=ns+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[l]()}},addDeprecatedGetterSetter(t,e,n,r){M.error("Adding deprecated "+e);var l=ns+M._capitalize(e),a=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[l]=function(){M.error(a);var o=this.attrs[e];return o===void 0?n:o},E.addSetter(t,e,r,function(){M.error(a)}),E.addOverloadedGetterSetter(t,e)},backCompat(t,e){M.each(e,function(n,r){var l=t.prototype[r],a=ns+M._capitalize(n),o=rs+M._capitalize(n);function c(){l.apply(this,arguments),M.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=c,t.prototype[a]=c,t.prototype[o]=c})},afterSetFilter(){this._filterUpToDate=!1}};function Zw(t){var e=[],n=t.length,r=M,l,a;for(l=0;l<n;l++)a=t[l],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),e.push(a);return e}var Lv=",",$w="(",bw=")",ex="([",tx="])",nx=";",rx="()",ix="=",Mv=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],lx=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const sx=100;class Eu{constructor(e){this.canvas=e,ne.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){var r=this.traceArr,l=r.length,a="",o,c,d,p;for(o=0;o<l;o++)c=r[o],d=c.method,d?(p=c.args,a+=d,e?a+=rx:M._isArray(p[0])?a+=ex+p.join(Lv)+tx:(n&&(p=p.map(v=>typeof v=="number"?Math.floor(v):v)),a+=$w+p.join(Lv)+bw)):(a+=c.property,e||(a+=ix+c.val)),a+=nx;return a}clearTrace(){this.traceArr=[]}_trace(e){var n=this.traceArr,r;n.push(e),r=n.length,r>=sx&&n.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){var n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,l,a,o){this._context.arc(e,n,r,l,a,o)}arcTo(e,n,r,l,a){this._context.arcTo(e,n,r,l,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,l,a,o){this._context.bezierCurveTo(e,n,r,l,a,o)}clearRect(e,n,r,l){this._context.clearRect(e,n,r,l)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,n){var r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,l){return this._context.createLinearGradient(e,n,r,l)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,l,a,o){return this._context.createRadialGradient(e,n,r,l,a,o)}drawImage(e,n,r,l,a,o,c,d,p){var v=arguments,y=this._context;v.length===3?y.drawImage(e,n,r):v.length===5?y.drawImage(e,n,r,l,a):v.length===9&&y.drawImage(e,n,r,l,a,o,c,d,p)}ellipse(e,n,r,l,a,o,c,d){this._context.ellipse(e,n,r,l,a,o,c,d)}isPointInPath(e,n,r,l){return r?this._context.isPointInPath(r,e,n,l):this._context.isPointInPath(e,n,l)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,n,r,l){this._context.fillRect(e,n,r,l)}strokeRect(e,n,r,l){this._context.strokeRect(e,n,r,l)}fillText(e,n,r,l){l?this._context.fillText(e,n,r,l):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,l){return this._context.getImageData(e,n,r,l)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,l){this._context.rect(e,n,r,l)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,l){this._context.quadraticCurveTo(e,n,r,l)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,l,a,o){this._context.setTransform(e,n,r,l,a,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,l){this._context.strokeText(e,n,r,l)}transform(e,n,r,l,a,o){this._context.transform(e,n,r,l,a,o)}translate(e,n){this._context.translate(e,n)}_enableTrace(){var e=this,n=Mv.length,r=this.setAttr,l,a,o=function(c){var d=e[c],p;e[c]=function(){return a=Zw(Array.prototype.slice.call(arguments,0)),p=d.apply(e,arguments),e._trace({method:c,args:a}),p}};for(l=0;l<n;l++)o(Mv[l]);e.setAttr=function(){r.apply(e,arguments);var c=arguments[0],d=arguments[1];(c==="shadowOffsetX"||c==="shadowOffsetY"||c==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),e._trace({property:c,val:d})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}lx.forEach(function(t){Object.defineProperty(Eu.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class ax extends Eu{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const l=e.getFillPatternImage();if(l&&r==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):l?this._fillPattern(e):a?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),l=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(n.x,n.y,r.x,r.y);if(l){for(var o=0;o<l.length;o+=2)a.addColorStop(l[o],l[o+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();var l=this.getCanvas().getPixelRatio();this.setTransform(l,0,0,l,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=e.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,l,a=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",o=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,c=(l=e.getShadowOffset())!==null&&l!==void 0?l:{x:0,y:0},d=e.getAbsoluteScale(),p=this.canvas.getPixelRatio(),v=d.x*p,y=d.y*p;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",o*Math.min(Math.abs(v),Math.abs(y))),this.setAttr("shadowOffsetX",c.x*v),this.setAttr("shadowOffsetY",c.y*y)}}class ox extends Eu{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(e);var r=e.hitStrokeWidth(),l=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",l),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}var fo;function ux(){if(fo)return fo;var t=M.createCanvasElement(),e=t.getContext("2d");return fo=function(){var n=ne._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),M.releaseCanvas(t),fo}class Pu{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=e||{},r=n.pixelRatio||ne.pixelRatio||ux();this.pixelRatio=r,this._canvas=M.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(l){return M.error("Unable to get data URL. "+l.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}E.addGetterSetter(Pu,"pixelRatio",void 0,X());class hl extends Pu{constructor(e={width:0,height:0}){super(e),this.context=new ax(this),this.setSize(e.width,e.height)}}class Ch extends Pu{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new ox(this),this.setSize(e.width,e.height)}}const we={get isDragging(){var t=!1;return we._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){var t;return we._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];we._dragElements.forEach((n,r)=>{const{node:l}=n,a=l.getStage();a.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=M._getFirstPointerId(t));const o=a._changedPointerPositions.find(p=>p.id===n.pointerId);if(o){if(n.dragStatus!=="dragging"){var c=l.dragDistance(),d=Math.max(Math.abs(o.x-n.startPointerPos.x),Math.abs(o.y-n.startPointerPos.y));if(d<c||(l.startDrag({evt:t}),!l.isDragging()))return}l._setDragPosition(t,n),e.push(l)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];we._dragElements.forEach(n=>{const{node:r}=n,l=r.getStage();if(t&&l.setPointersPositions(t),!l._changedPointerPositions.find(c=>c.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(we.justDragged=!0,ne._mouseListenClick=!1,ne._touchListenClick=!1,ne._pointerListenClick=!1,n.dragStatus="stopped");const o=n.node.getLayer()||n.node instanceof ne.Stage&&n.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){we._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&we._dragElements.delete(n)})}};ne.isBrowser&&(window.addEventListener("mouseup",we._endDragBefore,!0),window.addEventListener("touchend",we._endDragBefore,!0),window.addEventListener("mousemove",we._drag),window.addEventListener("touchmove",we._drag),window.addEventListener("mouseup",we._endDragAfter,!1),window.addEventListener("touchend",we._endDragAfter,!1));var zo="absoluteOpacity",ho="allEventListeners",bn="absoluteTransform",Ov="absoluteScale",ai="canvas",cx="Change",dx="children",fx="konva",Sf="listening",Av="mouseenter",zv="mouseleave",Iv="set",Dv="Shape",Io=" ",Fv="stage",Cr="transform",hx="Stage",_f="visible",px=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Io);let gx=1;class Q{constructor(e){this._id=gx++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Cr||e===bn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){var r=this._cache.get(e),l=e===Cr||e===bn,a=r===void 0||l&&r.dirty===!0;return a&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const l=n.map(a=>a+"Change.konva").join(Io);this.on(l,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(ai)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===bn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ai)){const{scene:e,filter:n,hit:r}=this._cache.get(ai);M.releaseCanvas(e,n,r),this._cache.delete(ai)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var n=e||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var l=Math.ceil(n.width||r.width),a=Math.ceil(n.height||r.height),o=n.pixelRatio,c=n.x===void 0?Math.floor(r.x):n.x,d=n.y===void 0?Math.floor(r.y):n.y,p=n.offset||0,v=n.drawBorder||!1,y=n.hitCanvasPixelRatio||1;if(!l||!a){M.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}l+=p*2+1,a+=p*2+1,c-=p,d-=p;var m=new hl({pixelRatio:o,width:l,height:a}),x=new hl({pixelRatio:o,width:0,height:0}),S=new Ch({pixelRatio:y,width:l,height:a}),P=m.getContext(),R=S.getContext();return S.isCache=!0,m.isCache=!0,this._cache.delete(ai),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(m.getContext()._context.imageSmoothingEnabled=!1,x.getContext()._context.imageSmoothingEnabled=!1),P.save(),R.save(),P.translate(-c,-d),R.translate(-c,-d),this._isUnderCache=!0,this._clearSelfAndDescendantCache(zo),this._clearSelfAndDescendantCache(Ov),this.drawScene(m,this),this.drawHit(S,this),this._isUnderCache=!1,P.restore(),R.restore(),v&&(P.save(),P.beginPath(),P.rect(0,0,l,a),P.closePath(),P.setAttr("strokeStyle","red"),P.setAttr("lineWidth",5),P.stroke(),P.restore()),this._cache.set(ai,{scene:m,filter:x,hit:S,x:c,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(ai)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],l,a,o,c,d=this.getAbsoluteTransform(n);return r.forEach(function(p){var v=d.point(p);l===void 0&&(l=o=v.x,a=c=v.y),l=Math.min(l,v.x),a=Math.min(a,v.y),o=Math.max(o,v.x),c=Math.max(c,v.y)}),{x:l,y:a,width:o-l,height:c-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),l=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/l,r.height/l),e.restore()}_drawCachedHitCanvas(e){var n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),n=this._getCanvasCache(),r=n.scene,l=n.filter,a=l.getContext(),o,c,d,p;if(e){if(!this._filterUpToDate){var v=r.pixelRatio;l.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(o=e.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/v,r.getHeight()/v),c=a.getImageData(0,0,l.getWidth(),l.getHeight()),d=0;d<o;d++){if(p=e[d],typeof p!="function"){M.error("Filter should be type of function, but got "+typeof p+" instead. Please check correct filters");continue}p.call(this,c),a.putImageData(c,0,0)}}catch(y){M.error("Unable to apply filter. "+y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return r}on(e,n){if(this._cache&&this._cache.delete(ho),arguments.length===3)return this._delegate.apply(this,arguments);var r=e.split(Io),l=r.length,a,o,c,d,p;for(a=0;a<l;a++)o=r[a],c=o.split("."),d=c[0],p=c[1]||"",this.eventListeners[d]||(this.eventListeners[d]=[]),this.eventListeners[d].push({name:p,handler:n});return this}off(e,n){var r=(e||"").split(Io),l=r.length,a,o,c,d,p,v;if(this._cache&&this._cache.delete(ho),!e)for(o in this.eventListeners)this._off(o);for(a=0;a<l;a++)if(c=r[a],d=c.split("."),p=d[0],v=d[1],p)this.eventListeners[p]&&this._off(p,v,n);else for(o in this.eventListeners)this._off(o,v,n);return this}dispatchEvent(e){var n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){var l=this;this.on(e,function(a){for(var o=a.target.findAncestors(n,!0,l),c=0;c<o.length;c++)a=M.cloneObject(a),a.currentTarget=o[c],r.call(o[c],a)})}remove(){return this.isDragging()&&this.stopDrag(),we._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(bn),this._clearSelfAndDescendantCache(zo),this._clearSelfAndDescendantCache(Ov),this._clearSelfAndDescendantCache(Fv),this._clearSelfAndDescendantCache(_f),this._clearSelfAndDescendantCache(Sf)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var n="get"+M._capitalize(e);return M._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),n=[];e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var n,r;if(!e)return this;for(n in e)n!==dx&&(r=Iv+M._capitalize(n),M._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Sf,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(_f,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);var r=this.getLayer(),l=!1;we._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===r)&&(l=!0)});var a=!n&&!ne.hitOnDragEnabled&&l;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),n=this,r=0,l,a,o,c;function d(p){for(l=[],a=p.length,o=0;o<a;o++)c=p[o],r++,c.nodeType!==Dv&&(l=l.concat(c.getChildren().slice())),c._id===n._id&&(o=a);l.length>0&&l[0].getDepth()<=e&&d(l)}return n.nodeType!==hx&&d(n.getStage().getChildren()),r}getDepth(){for(var e=0,n=this.parent;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Cr),this._clearSelfAndDescendantCache(bn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(e)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);var l=this.getAbsoluteTransform(e).getMatrix(),a=new Yt,o=this.offset();return a.m=l.slice(),a.translate(o.x,o.y),a.getTranslation()}setAbsolutePosition(e){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(Cr);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:e.x,y:e.y}),this._clearCache(Cr),this._clearSelfAndDescendantCache(bn),this}_setTransform(e){var n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var n=e.x,r=e.y,l=this.x(),a=this.y();return n!==void 0&&(l+=n),r!==void 0&&(a+=r),this.setPosition({x:l,y:a}),this}_eachAncestorReverse(e,n){var r=[],l=this.getParent(),a,o;if(!(n&&n._id===this._id)){for(r.unshift(this);l&&(!n||l._id!==n._id);)r.unshift(l),l=l.parent;for(a=r.length,o=0;o<a;o++)e(r[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return M.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return M.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return M.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return M.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return M.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&M.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(zo,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},n=this.getAttrs(),r,l,a,o,c;e.attrs={};for(r in n)l=n[r],c=M.isObject(l)&&!M._isPlainObject(l)&&!M._isArray(l),!c&&(a=typeof this[r]=="function"&&this[r],delete n[r],o=a?a.call(this):null,n[r]=l,o!==l&&(e.attrs[r]=l));return e.className=this.getClassName(),M._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){var l=[];n&&this._isMatch(e)&&l.push(this);for(var a=this.parent;a;){if(a===r)return l;a._isMatch(e)&&l.push(a),a=a.parent}return l}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var n=e.replace(/ /g,"").split(","),r=n.length,l,a;for(l=0;l<r;l++)if(a=n[l],M.isValidSelector(a)||(M.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),M.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),M.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(Fv,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(bn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var n;if(e)return n=new Yt,this._eachAncestorReverse(function(l){var a=l.transformsEnabled();a==="all"?n.multiply(l.getTransform()):a==="position"&&n.translate(l.x()-l.offsetX(),l.y()-l.offsetY())},e),n;n=this._cache.get(bn)||new Yt,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const l=this.attrs.x||0,a=this.attrs.y||0,o=this.attrs.offsetX||0,c=this.attrs.offsetY||0;n.translate(l-o,a-c)}return n.dirty=!1,n}getAbsoluteScale(e){for(var n=this;n;)n._isUnderCache&&(e=n),n=n.getParent();const l=this.getAbsoluteTransform(e).decompose();return{x:l.scaleX,y:l.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Cr,this._getTransform)}_getTransform(){var e,n,r=this._cache.get(Cr)||new Yt;r.reset();var l=this.x(),a=this.y(),o=ne.getAngle(this.rotation()),c=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,p=this.attrs.skewX||0,v=this.attrs.skewY||0,y=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(l!==0||a!==0)&&r.translate(l,a),o!==0&&r.rotate(o),(p!==0||v!==0)&&r.skew(p,v),(c!==1||d!==1)&&r.scale(c,d),(y!==0||m!==0)&&r.translate(-1*y,-1*m),r.dirty=!1,r}clone(e){var n=M.cloneObject(this.attrs),r,l,a,o,c;for(r in e)n[r]=e[r];var d=new this.constructor(n);for(r in this.eventListeners)for(l=this.eventListeners[r],a=l.length,o=0;o<a;o++)c=l[o],c.name.indexOf(fx)<0&&(d.eventListeners[r]||(d.eventListeners[r]=[]),d.eventListeners[r].push(c));return d}_toKonvaCanvas(e){e=e||{};var n=this.getClientRect(),r=this.getStage(),l=e.x!==void 0?e.x:Math.floor(n.x),a=e.y!==void 0?e.y:Math.floor(n.y),o=e.pixelRatio||1,c=new hl({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:o}),d=c.getContext();return e.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(l||a)&&d.translate(-1*l,-1*a),this.drawScene(c),d.restore(),c}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var n=e.mimeType||null,r=e.quality||null,l=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(l),l}toImage(e){return new Promise((n,r)=>{try{const l=e==null?void 0:e.callback;l&&delete e.callback,M._urlToImage(this.toDataURL(e),function(a){n(a),l==null||l(a)})}catch(l){r(l)}})}toBlob(e){return new Promise((n,r)=>{try{const l=e==null?void 0:e.callback;l&&delete e.callback,this.toCanvas(e).toBlob(a=>{n(a),l==null||l(a)})}catch(l){r(l)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ne.dragDistance}_off(e,n,r){var l=this.eventListeners[e],a,o,c;for(a=0;a<l.length;a++)if(o=l[a].name,c=l[a].handler,(o!=="konva"||n==="konva")&&(!n||o===n)&&(!r||r===c)){if(l.splice(a,1),l.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,n,r){this._fire(e+cx,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){var n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(e)!==-1}removeName(e){var n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){var r=this[Iv+M._capitalize(e)];return M._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(ne.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){var r=this.attrs[e];r===n&&!M.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){var l;r!==void 0&&(l=this.attrs[e],l||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,l,r))}_fireAndBubble(e,n,r){n&&this.nodeType===Dv&&(n.target=this);var l=(e===Av||e===zv)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!l){this._fire(e,n);var a=(e===Av||e===zv)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){let n=this._cache.get(ho);if(!n){n={};let l=Object.getPrototypeOf(this);for(;l;){if(!l.eventListeners){l=Object.getPrototypeOf(l);continue}for(var r in l.eventListeners){const a=l.eventListeners[r],o=n[r]||[];n[r]=a.concat(o)}l=Object.getPrototypeOf(l)}this._cache.set(ho,n)}return n[e]}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(var l=0;l<r.length;l++)r[l].handler.call(this,n);const a=this.eventListeners[e];if(a)for(var l=0;l<a.length;l++)a[l].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var n=e?e.pointerId:void 0,r=this.getStage(),l=this.getAbsolutePosition(),a=r._getPointerById(n)||r._changedPointerPositions[0]||l;we._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-l.x,y:a.y-l.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){we._dragElements.has(this._id)||this._createDragElement(e);const r=we._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var l={x:r.x-n.offset.x,y:r.y-n.offset.y},a=this.dragBoundFunc();if(a!==void 0){const o=a.call(this,l,e);o?l=o:M.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==l.x||this._lastPos.y!==l.y)&&(this.setAbsolutePosition(l),this._requestDraw()),this._lastPos=l}}stopDrag(e){const n=we._dragElements.get(this._id);n&&(n.dragStatus="stopped"),we._endDragBefore(e),we._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=we._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var n=e.evt.button!==void 0,r=!n||ne.dragButtons.indexOf(e.evt.button)>=0;if(r&&!this.isDragging()){var l=!1;we._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(l=!0)}),l||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const n=we._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",l=n&&n.dragStatus==="ready";r?this.stopDrag():l&&we._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return M.haveIntersection(r,this.getClientRect())}static create(e,n){return M._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){var r=Q.prototype.getClassName.call(e),l=e.children,a,o,c;n&&(e.attrs.container=n),ne[r]||(M.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const d=ne[r];if(a=new d(e.attrs),l)for(o=l.length,c=0;c<o;c++)a.add(Q._createNode(l[c]));return a}}Q.prototype.nodeType="Node";Q.prototype._attrsAffectingSize=[];Q.prototype.eventListeners={};Q.prototype.on.call(Q.prototype,px,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Cr),this._clearSelfAndDescendantCache(bn)});Q.prototype.on.call(Q.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(_f)});Q.prototype.on.call(Q.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Sf)});Q.prototype.on.call(Q.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(zo)});const Pe=E.addGetterSetter;Pe(Q,"zIndex");Pe(Q,"absolutePosition");Pe(Q,"position");Pe(Q,"x",0,X());Pe(Q,"y",0,X());Pe(Q,"globalCompositeOperation","source-over",El());Pe(Q,"opacity",1,X());Pe(Q,"name","",El());Pe(Q,"id","",El());Pe(Q,"rotation",0,X());E.addComponentsGetterSetter(Q,"scale",["x","y"]);Pe(Q,"scaleX",1,X());Pe(Q,"scaleY",1,X());E.addComponentsGetterSetter(Q,"skew",["x","y"]);Pe(Q,"skewX",0,X());Pe(Q,"skewY",0,X());E.addComponentsGetterSetter(Q,"offset",["x","y"]);Pe(Q,"offsetX",0,X());Pe(Q,"offsetY",0,X());Pe(Q,"dragDistance",null,X());Pe(Q,"width",0,X());Pe(Q,"height",0,X());Pe(Q,"listening",!0,Ln());Pe(Q,"preventDefault",!0,Ln());Pe(Q,"filters",null,function(t){return this._filterUpToDate=!1,t});Pe(Q,"visible",!0,Ln());Pe(Q,"transformsEnabled","all",El());Pe(Q,"size");Pe(Q,"dragBoundFunc");Pe(Q,"draggable",!1,Ln());E.backCompat(Q,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Kt extends Q{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(l){e(l)&&r.push(l)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){var r=[];return this._descendants(l=>{const a=l._isMatch(e);return a&&r.push(l),!!(a&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const l of r){if(n=e(l),n)return!0;if(l.hasChildren()&&(n=l._descendants(e),n))return!0}return!1}toObject(){var e=Q.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){for(var n=e.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){var n=Q.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n){var r=this.getLayer(),l=e||r&&r.getCanvas(),a=l&&l.getContext(),o=this._getCanvasCache(),c=o&&o.scene,d=l&&l.isCache;if(!this.isVisible()&&!d)return this;if(c){a.save();var p=this.getAbsoluteTransform(n).getMatrix();a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",l,n);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),l=e||r&&r.hitCanvas,a=l&&l.getContext(),o=this._getCanvasCache(),c=o&&o.hit;if(c){a.save();var d=this.getAbsoluteTransform(n).getMatrix();a.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",l,n);return this}_drawChildren(e,n,r){var l,a=n&&n.getContext(),o=this.clipWidth(),c=this.clipHeight(),d=this.clipFunc(),p=o&&c||d;const v=r===this;if(p){a.save();var y=this.getAbsoluteTransform(r),m=y.getMatrix();if(a.transform(m[0],m[1],m[2],m[3],m[4],m[5]),a.beginPath(),d)d.call(this,a,this);else{var x=this.clipX(),S=this.clipY();a.rect(x,S,o,c)}a.clip(),m=y.copy().invert().getMatrix(),a.transform(m[0],m[1],m[2],m[3],m[4],m[5])}var P=!v&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";P&&(a.save(),a._applyGlobalCompositeOperation(this)),(l=this.children)===null||l===void 0||l.forEach(function(R){R[e](n,r)}),P&&a.restore(),p&&a.restore()}getClientRect(e){var n;e=e||{};var r=e.skipTransform,l=e.relativeTo,a,o,c,d,p={x:1/0,y:1/0,width:0,height:0},v=this;(n=this.children)===null||n===void 0||n.forEach(function(P){if(P.visible()){var R=P.getClientRect({relativeTo:v,skipShadow:e.skipShadow,skipStroke:e.skipStroke});R.width===0&&R.height===0||(a===void 0?(a=R.x,o=R.y,c=R.x+R.width,d=R.y+R.height):(a=Math.min(a,R.x),o=Math.min(o,R.y),c=Math.max(c,R.x+R.width),d=Math.max(d,R.y+R.height)))}});for(var y=this.find("Shape"),m=!1,x=0;x<y.length;x++){var S=y[x];if(S._isVisible(this)){m=!0;break}}return m&&a!==void 0?p={x:a,y:o,width:c-a,height:d-o}:p={x:0,y:0,width:0,height:0},r?p:this._transformedRect(p,l)}}E.addComponentsGetterSetter(Kt,"clip",["x","y","width","height"]);E.addGetterSetter(Kt,"clipX",void 0,X());E.addGetterSetter(Kt,"clipY",void 0,X());E.addGetterSetter(Kt,"clipWidth",void 0,X());E.addGetterSetter(Kt,"clipHeight",void 0,X());E.addGetterSetter(Kt,"clipFunc");const Qs=new Map,Ny=ne._global.PointerEvent!==void 0;function yd(t){return Qs.get(t)}function Eh(t){return{evt:t,pointerId:t.pointerId}}function Ly(t,e){return Qs.get(t)===e}function My(t,e){Ps(t),e.getStage()&&(Qs.set(t,e),Ny&&e._fire("gotpointercapture",Eh(new PointerEvent("gotpointercapture"))))}function Ps(t,e){const n=Qs.get(t);if(!n)return;const r=n.getStage();r&&r.content,Qs.delete(t),Ny&&n._fire("lostpointercapture",Eh(new PointerEvent("lostpointercapture")))}var vx="Stage",mx="string",Gv="px",yx="mouseout",Oy="mouseleave",Ay="mouseover",zy="mouseenter",Iy="mousemove",Dy="mousedown",Fy="mouseup",ds="pointermove",fs="pointerdown",ll="pointerup",hs="pointercancel",Sx="lostpointercapture",po="pointerout",go="pointerleave",vo="pointerover",mo="pointerenter",wf="contextmenu",Gy="touchstart",By="touchend",jy="touchmove",Hy="touchcancel",xf="wheel",_x=5,wx=[[zy,"_pointerenter"],[Dy,"_pointerdown"],[Iy,"_pointermove"],[Fy,"_pointerup"],[Oy,"_pointerleave"],[Gy,"_pointerdown"],[jy,"_pointermove"],[By,"_pointerup"],[Hy,"_pointercancel"],[Ay,"_pointerover"],[xf,"_wheel"],[wf,"_contextmenu"],[fs,"_pointerdown"],[ds,"_pointermove"],[ll,"_pointerup"],[hs,"_pointercancel"],[Sx,"_lostpointercapture"]];const Sd={mouse:{[po]:yx,[go]:Oy,[vo]:Ay,[mo]:zy,[ds]:Iy,[fs]:Dy,[ll]:Fy,[hs]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[po]:"touchout",[go]:"touchleave",[vo]:"touchover",[mo]:"touchenter",[ds]:jy,[fs]:Gy,[ll]:By,[hs]:Hy,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[po]:po,[go]:go,[vo]:vo,[mo]:mo,[ds]:ds,[fs]:fs,[ll]:ll,[hs]:hs,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ps=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",Yi=t=>{const e=ps(t);if(e==="pointer")return ne.pointerEventsEnabled&&Sd.pointer;if(e==="touch")return Sd.touch;if(e==="mouse")return Sd.mouse};function Bv(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&M.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const xx="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Do=[];let Tu=class extends Kt{constructor(e){super(Bv(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Do.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Bv(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||M.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===mx){if(e.charAt(0)==="."){var n=e.slice(1);e=document.getElementsByClassName(n)[0]}else{var r;e.charAt(0)!=="#"?r=e:r=e.slice(1),e=document.getElementById(r)}if(!e)throw"Can not find container in document with id "+r}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,n=e.length,r;for(r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Kt.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&M._isInDocument(e)&&this.container().removeChild(e);var n=Do.indexOf(this);return n>-1&&Do.splice(n,1),M.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(M.warn(xx),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var n=new hl({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,l=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),l.forEach(function(a){if(a.isVisible()){var o=a._toKonvaCanvas(e);r.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}}),n}getIntersection(e){if(!e)return null;var n=this.children,r=n.length,l=r-1,a;for(a=l;a>=0;a--){const o=n[a].getIntersection(e);if(o)return o}return null}_resizeDOM(){var e=this.width(),n=this.height();this.content&&(this.content.style.width=e+Gv,this.content.style.height=n+Gv),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);var l=this.children.length;return l>_x&&M.warn("The stage has "+l+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ne.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return Ly(e,this)}setPointerCapture(e){My(e,this)}releaseCapture(e){Ps(e)}getLayers(){return this.children}_bindContentEvents(){ne.isBrowser&&wx.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=Yi(e.type);this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=Yi(e.type);this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=Yi(e.type),r=ps(e.type);if(n){this.setPointersPositions(e);var l=this._getTargetShape(r),a=!we.isDragging||ne.hitOnDragEnabled;l&&a?(l._fireAndBubble(n.pointerout,{evt:e}),l._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):a&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const n=Yi(e.type),r=ps(e.type);if(n){this.setPointersPositions(e);var l=!1;this._changedPointerPositions.forEach(a=>{var o=this.getIntersection(a);if(we.justDragged=!1,ne["_"+r+"ListenClick"]=!0,!(o&&o.isListening()))return;ne.capturePointerEventsEnabled&&o.setPointerCapture(a.id),this[r+"ClickStartShape"]=o,o._fireAndBubble(n.pointerdown,{evt:e,pointerId:a.id}),l=!0;const d=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&d&&e.preventDefault()}),l||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const n=Yi(e.type),r=ps(e.type);if(!n)return;we.isDragging&&we.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var l=!we.isDragging||ne.hitOnDragEnabled;if(!l)return;var a={};let o=!1;var c=this._getTargetShape(r);this._changedPointerPositions.forEach(d=>{const p=yd(d.id)||this.getIntersection(d),v=d.id,y={evt:e,pointerId:v};var m=c!==p;if(m&&c&&(c._fireAndBubble(n.pointerout,Object.assign({},y),p),c._fireAndBubble(n.pointerleave,Object.assign({},y),p)),p){if(a[p._id])return;a[p._id]=!0}p&&p.isListening()?(o=!0,m&&(p._fireAndBubble(n.pointerover,Object.assign({},y),c),p._fireAndBubble(n.pointerenter,Object.assign({},y),c),this[r+"targetShape"]=p),p._fireAndBubble(n.pointermove,Object.assign({},y))):c&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:v}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=Yi(e.type),r=ps(e.type);if(!n)return;this.setPointersPositions(e);const l=this[r+"ClickStartShape"],a=this[r+"ClickEndShape"];var o={};let c=!1;this._changedPointerPositions.forEach(d=>{const p=yd(d.id)||this.getIntersection(d);if(p){if(p.releaseCapture(d.id),o[p._id])return;o[p._id]=!0}const v=d.id,y={evt:e,pointerId:v};let m=!1;ne["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):we.justDragged||(ne["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){ne["_"+r+"InDblClickWindow"]=!1},ne.dblClickWindow),p&&p.isListening()?(c=!0,this[r+"ClickEndShape"]=p,p._fireAndBubble(n.pointerup,Object.assign({},y)),ne["_"+r+"ListenClick"]&&l&&l===p&&(p._fireAndBubble(n.pointerclick,Object.assign({},y)),m&&a&&a===p&&p._fireAndBubble(n.pointerdblclick,Object.assign({},y)))):(this[r+"ClickEndShape"]=null,ne["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:v}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:v}))}),c||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ne["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(wf,{evt:e}):this._fire(wf,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(xf,{evt:e}):this._fire(xf,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=yd(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(ll,Eh(e)),Ps(e.pointerId)}_lostpointercapture(e){Ps(e.pointerId)}setPointersPositions(e){var n=this._getContentPosition(),r=null,l=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,a=>{this._pointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,a=>{this._changedPointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,l=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:l},this._pointerPositions=[{x:r,y:l,id:M._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:l,id:M._getFirstPointerId(e)}])}_setPointerPosition(e){M.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new hl({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Ch({pixelRatio:1,width:this.width(),height:this.height()}),!!ne.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return M.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};Tu.prototype.nodeType=vx;We(Tu);E.addGetterSetter(Tu,"container");var Uy="hasShadow",Wy="shadowRGBA",Vy="patternImage",Yy="linearGradient",Qy="radialGradient";let yo;function _d(){return yo||(yo=M.createCanvasElement().getContext("2d"),yo)}const Ts={};function kx(t){t.fill()}function Cx(t){t.stroke()}function Ex(t){t.fill()}function Px(t){t.stroke()}function Tx(){this._clearCache(Uy)}function Rx(){this._clearCache(Wy)}function Nx(){this._clearCache(Vy)}function Lx(){this._clearCache(Yy)}function Mx(){this._clearCache(Qy)}class U extends Q{constructor(e){super(e);let n;for(;n=M.getRandomColor(),!(n&&!(n in Ts)););this.colorKey=n,Ts[n]=this}getContext(){return M.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return M.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Uy,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Vy,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=_d();const n=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new Yt;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(ne.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const l=r.getMatrix(),a=typeof DOMMatrix>"u"?{a:l[0],b:l[1],c:l[2],d:l[3],e:l[4],f:l[5]}:new DOMMatrix(l);n.setTransform(a)}return n}}_getLinearGradient(){return this._getCache(Yy,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var n=_d(),r=this.fillLinearGradientStartPoint(),l=this.fillLinearGradientEndPoint(),a=n.createLinearGradient(r.x,r.y,l.x,l.y),o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}_getRadialGradient(){return this._getCache(Qy,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var n=_d(),r=this.fillRadialGradientStartPoint(),l=this.fillRadialGradientEndPoint(),a=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),l.x,l.y,this.fillRadialGradientEndRadius()),o=0;o<e.length;o+=2)a.addColorStop(e[o],e[o+1]);return a}}getShadowRGBA(){return this._getCache(Wy,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var e=M.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var n=this.getStage(),r=n.bufferHitCanvas,l;return r.getContext().clear(),this.drawHit(r,null,!0),l=r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,l[3]>0}destroy(){return Q.prototype.destroy.call(this),delete Ts[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const l=e||this.hasFill(),a=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(l&&a&&o)return!0;const c=this.hasShadow(),d=this.shadowForStrokeEnabled();return!!(l&&a&&c&&d)}setStrokeHitEnabled(e){M.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const n=e.skipTransform,r=e.relativeTo,l=this.getSelfRect(),o=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,c=l.width+o,d=l.height+o,p=!e.skipShadow&&this.hasShadow(),v=p?this.shadowOffsetX():0,y=p?this.shadowOffsetY():0,m=c+Math.abs(v),x=d+Math.abs(y),S=p&&this.shadowBlur()||0,P=m+S*2,R=x+S*2,k={width:P,height:R,x:-(o/2+S)+Math.min(v,0)+l.x,y:-(o/2+S)+Math.min(y,0)+l.y};return n?k:this._transformedRect(k,r)}drawScene(e,n){var r=this.getLayer(),l=e||r.getCanvas(),a=l.getContext(),o=this._getCanvasCache(),c=this.getSceneFunc(),d=this.hasShadow(),p,v,y,m=l.isCache,x=n===this;if(!this.isVisible()&&!x)return this;if(o){a.save();var S=this.getAbsoluteTransform(n).getMatrix();return a.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!c)return this;if(a.save(),this._useBufferCanvas()&&!m){p=this.getStage(),v=p.bufferCanvas,y=v.getContext(),y.clear(),y.save(),y._applyLineJoin(this);var P=this.getAbsoluteTransform(n).getMatrix();y.transform(P[0],P[1],P[2],P[3],P[4],P[5]),c.call(this,y,this),y.restore();var R=v.pixelRatio;d&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(v._canvas,0,0,v.width/R,v.height/R)}else{if(a._applyLineJoin(this),!x){var P=this.getAbsoluteTransform(n).getMatrix();a.transform(P[0],P[1],P[2],P[3],P[4],P[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}d&&a._applyShadow(this),c.call(this,a,this)}return a.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var l=this.getLayer(),a=e||l.hitCanvas,o=a&&a.getContext(),c=this.hitFunc()||this.sceneFunc(),d=this._getCanvasCache(),p=d&&d.hit;if(this.colorKey||M.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),p){o.save();var v=this.getAbsoluteTransform(n).getMatrix();return o.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!c)return this;if(o.save(),o._applyLineJoin(this),!(this===n)){var m=this.getAbsoluteTransform(n).getMatrix();o.transform(m[0],m[1],m[2],m[3],m[4],m[5])}return c.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),l=n.hit,a=l.getContext(),o=l.getWidth(),c=l.getHeight(),d,p,v,y,m,x;a.clear(),a.drawImage(r._canvas,0,0,o,c);try{for(d=a.getImageData(0,0,o,c),p=d.data,v=p.length,y=M._hexToRgb(this.colorKey),m=0;m<v;m+=4)x=p[m+3],x>e?(p[m]=y.r,p[m+1]=y.g,p[m+2]=y.b,p[m+3]=255):p[m+3]=0;a.putImageData(d,0,0)}catch(S){M.error("Unable to draw hit graph from cached scene canvas. "+S.message)}return this}hasPointerCapture(e){return Ly(e,this)}setPointerCapture(e){My(e,this)}releaseCapture(e){Ps(e)}}U.prototype._fillFunc=kx;U.prototype._strokeFunc=Cx;U.prototype._fillFuncHit=Ex;U.prototype._strokeFuncHit=Px;U.prototype._centroid=!1;U.prototype.nodeType="Shape";We(U);U.prototype.eventListeners={};U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Tx);U.prototype.on.call(U.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",Rx);U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",Nx);U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",Lx);U.prototype.on.call(U.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",Mx);E.addGetterSetter(U,"stroke",void 0,Ry());E.addGetterSetter(U,"strokeWidth",2,X());E.addGetterSetter(U,"fillAfterStrokeEnabled",!1);E.addGetterSetter(U,"hitStrokeWidth","auto",kh());E.addGetterSetter(U,"strokeHitEnabled",!0,Ln());E.addGetterSetter(U,"perfectDrawEnabled",!0,Ln());E.addGetterSetter(U,"shadowForStrokeEnabled",!0,Ln());E.addGetterSetter(U,"lineJoin");E.addGetterSetter(U,"lineCap");E.addGetterSetter(U,"sceneFunc");E.addGetterSetter(U,"hitFunc");E.addGetterSetter(U,"dash");E.addGetterSetter(U,"dashOffset",0,X());E.addGetterSetter(U,"shadowColor",void 0,El());E.addGetterSetter(U,"shadowBlur",0,X());E.addGetterSetter(U,"shadowOpacity",1,X());E.addComponentsGetterSetter(U,"shadowOffset",["x","y"]);E.addGetterSetter(U,"shadowOffsetX",0,X());E.addGetterSetter(U,"shadowOffsetY",0,X());E.addGetterSetter(U,"fillPatternImage");E.addGetterSetter(U,"fill",void 0,Ry());E.addGetterSetter(U,"fillPatternX",0,X());E.addGetterSetter(U,"fillPatternY",0,X());E.addGetterSetter(U,"fillLinearGradientColorStops");E.addGetterSetter(U,"strokeLinearGradientColorStops");E.addGetterSetter(U,"fillRadialGradientStartRadius",0);E.addGetterSetter(U,"fillRadialGradientEndRadius",0);E.addGetterSetter(U,"fillRadialGradientColorStops");E.addGetterSetter(U,"fillPatternRepeat","repeat");E.addGetterSetter(U,"fillEnabled",!0);E.addGetterSetter(U,"strokeEnabled",!0);E.addGetterSetter(U,"shadowEnabled",!0);E.addGetterSetter(U,"dashEnabled",!0);E.addGetterSetter(U,"strokeScaleEnabled",!0);E.addGetterSetter(U,"fillPriority","color");E.addComponentsGetterSetter(U,"fillPatternOffset",["x","y"]);E.addGetterSetter(U,"fillPatternOffsetX",0,X());E.addGetterSetter(U,"fillPatternOffsetY",0,X());E.addComponentsGetterSetter(U,"fillPatternScale",["x","y"]);E.addGetterSetter(U,"fillPatternScaleX",1,X());E.addGetterSetter(U,"fillPatternScaleY",1,X());E.addComponentsGetterSetter(U,"fillLinearGradientStartPoint",["x","y"]);E.addComponentsGetterSetter(U,"strokeLinearGradientStartPoint",["x","y"]);E.addGetterSetter(U,"fillLinearGradientStartPointX",0);E.addGetterSetter(U,"strokeLinearGradientStartPointX",0);E.addGetterSetter(U,"fillLinearGradientStartPointY",0);E.addGetterSetter(U,"strokeLinearGradientStartPointY",0);E.addComponentsGetterSetter(U,"fillLinearGradientEndPoint",["x","y"]);E.addComponentsGetterSetter(U,"strokeLinearGradientEndPoint",["x","y"]);E.addGetterSetter(U,"fillLinearGradientEndPointX",0);E.addGetterSetter(U,"strokeLinearGradientEndPointX",0);E.addGetterSetter(U,"fillLinearGradientEndPointY",0);E.addGetterSetter(U,"strokeLinearGradientEndPointY",0);E.addComponentsGetterSetter(U,"fillRadialGradientStartPoint",["x","y"]);E.addGetterSetter(U,"fillRadialGradientStartPointX",0);E.addGetterSetter(U,"fillRadialGradientStartPointY",0);E.addComponentsGetterSetter(U,"fillRadialGradientEndPoint",["x","y"]);E.addGetterSetter(U,"fillRadialGradientEndPointX",0);E.addGetterSetter(U,"fillRadialGradientEndPointY",0);E.addGetterSetter(U,"fillPatternRotation",0);E.backCompat(U,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var Ox="#",Ax="beforeDraw",zx="draw",Xy=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Ix=Xy.length;let Ci=class extends Kt{constructor(e){super(e),this.canvas=new hl,this.hitCanvas=new Ch({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Q.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Q.prototype.moveUp.call(this);if(!e)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Q.prototype.moveDown.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Q.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Q.prototype.remove.call(this),e&&e.parentNode&&M._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&M.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Q.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){M.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){M.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,M.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let l=0;l<Ix;l++){const a=Xy[l],o=this._getIntersection({x:e.x+a.x*n,y:e.y+a.y*n}),c=o.shape;if(c)return c;if(r=!!o.antialiased,!o.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,l=r[3];if(l===255){const a=M._rgbToHex(r[0],r[1],r[2]),o=Ts[Ox+a];return o?{shape:o}:{antialiased:!0}}else if(l>0)return{antialiased:!0};return{}}drawScene(e,n){var r=this.getLayer(),l=e||r&&r.getCanvas();return this._fire(Ax,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),Kt.prototype.drawScene.call(this,l,n),this._fire(zx,{node:this}),this}drawHit(e,n){var r=this.getLayer(),l=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Kt.prototype.drawHit.call(this,l,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return M.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return M.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Ci.prototype.nodeType="Layer";We(Ci);E.addGetterSetter(Ci,"imageSmoothingEnabled",!0);E.addGetterSetter(Ci,"clearBeforeDraw",!0);E.addGetterSetter(Ci,"hitGraphEnabled",!0,Ln());class Ph extends Ci{constructor(e){super(e),this.listening(!1),M.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Ph.prototype.nodeType="FastLayer";We(Ph);class wl extends Kt{_validateAdd(e){var n=e.getType();n!=="Group"&&n!=="Shape"&&M.throw("You may only add groups and shapes to groups.")}}wl.prototype.nodeType="Group";We(wl);var wd=function(){return fl.performance&&fl.performance.now?function(){return fl.performance.now()}:function(){return new Date().getTime()}}();class cn{constructor(e,n){this.id=cn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:wd(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){var n=[];return e?e.length>0?n=e:n=[e]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(e){var n=this.layers,r=n.length,l;for(l=0;l<r;l++)if(n[l]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=cn,n=e.animations,r=n.length,l;for(l=0;l<r;l++)if(n[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=wd(),cn._addAnimation(this),this}stop(){return cn._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var n=e.id,r=this.animations,l=r.length,a;for(a=0;a<l;a++)if(r[a].id===n){this.animations.splice(a,1);break}}static _runFrames(){var e={},n=this.animations,r,l,a,o,c,d,p,v,y;for(o=0;o<n.length;o++)if(r=n[o],l=r.layers,a=r.func,r._updateFrameObject(wd()),d=l.length,a?y=a.call(r,r.frame)!==!1:y=!0,!!y)for(c=0;c<d;c++)p=l[c],p._id!==void 0&&(e[p._id]=p);for(v in e)e.hasOwnProperty(v)&&e[v].batchDraw()}static _animationLoop(){var e=cn;e.animations.length?(e._runFrames(),M.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,M.requestAnimFrame(this._animationLoop))}}cn.animations=[];cn.animIdCounter=0;cn.animRunning=!1;var Dx={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Fx=1,jv=2,Hv=3,Gx=0,Uv=["fill","stroke","shadowColor"];class Bx{constructor(e,n,r,l,a,o,c){this.prop=e,this.propFunc=n,this.begin=l,this._pos=l,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=c,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=a-this.begin,this.pause()}fire(e){var n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=jv,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Hv,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===jv?this.setTime(e):this.state===Hv&&this.setTime(this.duration-e)}pause(){this.state=Fx,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Xe{constructor(e){var n=this,r=e.node,l=r._id,a,o=e.easing||Rs.Linear,c=!!e.yoyo,d;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=r,this._id=Gx++;var p=r.getLayer()||(r instanceof ne.Stage?r.getLayers():null);p||M.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new cn(function(){n.tween.onEnterFrame()},p),this.tween=new Bx(d,function(v){n._tweenFunc(v)},o,0,1,a*1e3,c),this._addListeners(),Xe.attrs[l]||(Xe.attrs[l]={}),Xe.attrs[l][this._id]||(Xe.attrs[l][this._id]={}),Xe.tweens[l]||(Xe.tweens[l]={});for(d in e)Dx[d]===void 0&&this._addAttr(d,e[d]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){var r=this.node,l=r._id,a,o,c,d,p,v,y,m;if(c=Xe.tweens[l][e],c&&delete Xe.attrs[l][c][e],a=r.getAttr(e),M._isArray(n))if(o=[],p=Math.max(n.length,a.length),e==="points"&&n.length!==a.length&&(n.length>a.length?(y=a,a=M._prepareArrayForTween(a,n,r.closed())):(v=n,n=M._prepareArrayForTween(n,a,r.closed()))),e.indexOf("fill")===0)for(d=0;d<p;d++)if(d%2===0)o.push(n[d]-a[d]);else{var x=M.colorToRGBA(a[d]);m=M.colorToRGBA(n[d]),a[d]=x,o.push({r:m.r-x.r,g:m.g-x.g,b:m.b-x.b,a:m.a-x.a})}else for(d=0;d<p;d++)o.push(n[d]-a[d]);else Uv.indexOf(e)!==-1?(a=M.colorToRGBA(a),m=M.colorToRGBA(n),o={r:m.r-a.r,g:m.g-a.g,b:m.b-a.b,a:m.a-a.a}):o=n-a;Xe.attrs[l][this._id][e]={start:a,diff:o,end:n,trueEnd:v,trueStart:y},Xe.tweens[l][e]=this._id}_tweenFunc(e){var n=this.node,r=Xe.attrs[n._id][this._id],l,a,o,c,d,p,v,y;for(l in r){if(a=r[l],o=a.start,c=a.diff,y=a.end,M._isArray(o))if(d=[],v=Math.max(o.length,y.length),l.indexOf("fill")===0)for(p=0;p<v;p++)p%2===0?d.push((o[p]||0)+c[p]*e):d.push("rgba("+Math.round(o[p].r+c[p].r*e)+","+Math.round(o[p].g+c[p].g*e)+","+Math.round(o[p].b+c[p].b*e)+","+(o[p].a+c[p].a*e)+")");else for(p=0;p<v;p++)d.push((o[p]||0)+c[p]*e);else Uv.indexOf(l)!==-1?d="rgba("+Math.round(o.r+c.r*e)+","+Math.round(o.g+c.g*e)+","+Math.round(o.b+c.b*e)+","+(o.a+c.a*e)+")":d=o+c*e;n.setAttr(l,d)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,n=Xe.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,n=Xe.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,n=this._id,r=Xe.tweens[e],l;this.pause();for(l in r)delete Xe.tweens[e][l];delete Xe.attrs[e][n]}}Xe.attrs={};Xe.tweens={};Q.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Xe(t);n.play()};const Rs={BackEaseIn(t,e,n,r){var l=1.70158;return n*(t/=r)*t*((l+1)*t-l)+e},BackEaseOut(t,e,n,r){var l=1.70158;return n*((t=t/r-1)*t*((l+1)*t+l)+1)+e},BackEaseInOut(t,e,n,r){var l=1.70158;return(t/=r/2)<1?n/2*(t*t*(((l*=1.525)+1)*t-l))+e:n/2*((t-=2)*t*(((l*=1.525)+1)*t+l)+2)+e},ElasticEaseIn(t,e,n,r,l,a){var o=0;return t===0?e:(t/=r)===1?e+n:(a||(a=r*.3),!l||l<Math.abs(n)?(l=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/l),-(l*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a))+e)},ElasticEaseOut(t,e,n,r,l,a){var o=0;return t===0?e:(t/=r)===1?e+n:(a||(a=r*.3),!l||l<Math.abs(n)?(l=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/l),l*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/a)+n+e)},ElasticEaseInOut(t,e,n,r,l,a){var o=0;return t===0?e:(t/=r/2)===2?e+n:(a||(a=r*(.3*1.5)),!l||l<Math.abs(n)?(l=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/l),t<1?-.5*(l*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a))+e:l*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/a)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-Rs.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?Rs.BounceEaseIn(t*2,0,n,r)*.5+e:Rs.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},wi=M._assign(ne,{Util:M,Transform:Yt,Node:Q,Container:Kt,Stage:Tu,stages:Do,Layer:Ci,FastLayer:Ph,Group:wl,DD:we,Shape:U,shapes:Ts,Animation:cn,Tween:Xe,Easings:Rs,Context:Eu,Canvas:Pu});class cr extends U{_sceneFunc(e){var n=ne.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),l=ne.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(l,Math.PI)),o=1,c=Math.sin(Math.min(Math.max(Math.PI,l),3*Math.PI/2)),d=Math.sin(Math.min(l,Math.PI/2)),p=a*(a>0?e:n),v=o*n,y=c*(c>0?e:n),m=d*(d>0?n:e);return{x:p,y:r?-1*m:y,width:v-p,height:m-y}}}cr.prototype._centroid=!0;cr.prototype.className="Arc";cr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];We(cr);E.addGetterSetter(cr,"innerRadius",0,X());E.addGetterSetter(cr,"outerRadius",0,X());E.addGetterSetter(cr,"angle",0,X());E.addGetterSetter(cr,"clockwise",!1,Ln());function kf(t,e,n,r,l,a,o){var c=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),d=Math.sqrt(Math.pow(l-n,2)+Math.pow(a-r,2)),p=o*c/(c+d),v=o*d/(c+d),y=n-p*(l-t),m=r-p*(a-e),x=n+v*(l-t),S=r+v*(a-e);return[y,m,x,S]}function Wv(t,e){var n=t.length,r=[],l,a;for(l=2;l<n-2;l+=2)a=kf(t[l-2],t[l-1],t[l],t[l+1],t[l+2],t[l+3],e),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(t[l]),r.push(t[l+1]),r.push(a[2]),r.push(a[3]));return r}let dr=class extends U{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var n=this.points(),r=n.length,l=this.tension(),a=this.closed(),o=this.bezier(),c,d,p;if(r){if(e.beginPath(),e.moveTo(n[0],n[1]),l!==0&&r>4){for(c=this.getTensionPoints(),d=c.length,p=a?0:4,a||e.quadraticCurveTo(c[0],c[1],c[2],c[3]);p<d-2;)e.bezierCurveTo(c[p++],c[p++],c[p++],c[p++],c[p++],c[p++]);a||e.quadraticCurveTo(c[d-2],c[d-1],n[r-2],n[r-1])}else if(o)for(p=2;p<r;)e.bezierCurveTo(n[p++],n[p++],n[p++],n[p++],n[p++],n[p++]);else for(p=2;p<r;p+=2)e.lineTo(n[p],n[p+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Wv(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),n=e.length,r=this.tension(),l=kf(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),a=kf(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),o=Wv(e,r),c=[l[2],l[3]].concat(o).concat([a[0],a[1],e[n-2],e[n-1],a[2],a[3],l[0],l[1],e[0],e[1]]);return c}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var n=e[0],r=e[0],l=e[1],a=e[1],o,c,d=0;d<e.length/2;d++)o=e[d*2],c=e[d*2+1],n=Math.min(n,o),r=Math.max(r,o),l=Math.min(l,c),a=Math.max(a,c);return{x:n,y:l,width:r-n,height:a-l}}};dr.prototype.className="Line";dr.prototype._attrsAffectingSize=["points","bezier","tension"];We(dr);E.addGetterSetter(dr,"closed",!1);E.addGetterSetter(dr,"bezier",!1);E.addGetterSetter(dr,"tension",0,X());E.addGetterSetter(dr,"points",[],qw());class Ce extends U{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(e){var n=this.dataArray;e.beginPath();for(var r=!1,l=0;l<n.length;l++){var a=n[l].command,o=n[l].points;switch(a){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var c=o[0],d=o[1],p=o[2],v=o[3],y=o[4],m=o[5],x=o[6],S=o[7],P=p>v?p:v,R=p>v?1:p/v,k=p>v?v/p:1;e.translate(c,d),e.rotate(x),e.scale(R,k),e.arc(0,0,P,y,y+m,1-S),e.scale(1/R,1/k),e.rotate(-x),e.translate(-c,-d);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(p){if(p.command==="A"){var v=p.points[4],y=p.points[5],m=p.points[4]+y,x=Math.PI/180;if(Math.abs(v-m)<x&&(x=Math.abs(v-m)),y<0)for(let S=v-x;S>m;S-=x){const P=Ce.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],S,0);e.push(P.x,P.y)}else for(let S=v+x;S<m;S+=x){const P=Ce.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],S,0);e.push(P.x,P.y)}}else if(p.command==="C")for(let S=0;S<=1;S+=.01){const P=Ce.getPointOnCubicBezier(S,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);e.push(P.x,P.y)}else e=e.concat(p.points)});for(var n=e[0],r=e[0],l=e[1],a=e[1],o,c,d=0;d<e.length/2;d++)o=e[d*2],c=e[d*2+1],isNaN(o)||(n=Math.min(n,o),r=Math.max(r,o)),isNaN(c)||(l=Math.min(l,c),a=Math.max(a,c));return{x:n,y:l,width:r-n,height:a-l}}getLength(){return this.pathLength}getPointAtLength(e){var n,r=0,l=this.dataArray.length;if(!l)return null;for(;r<l&&e>this.dataArray[r].pathLength;)e-=this.dataArray[r].pathLength,++r;if(r===l)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var a=this.dataArray[r],o=a.points;switch(a.command){case"L":return Ce.getPointOnLine(e,a.start.x,a.start.y,o[0],o[1]);case"C":return Ce.getPointOnCubicBezier(e/a.pathLength,a.start.x,a.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Ce.getPointOnQuadraticBezier(e/a.pathLength,a.start.x,a.start.y,o[0],o[1],o[2],o[3]);case"A":var c=o[0],d=o[1],p=o[2],v=o[3],y=o[4],m=o[5],x=o[6];return y+=m*e/a.pathLength,Ce.getPointOnEllipticalArc(c,d,p,v,y,x)}return null}static getLineLength(e,n,r,l){return Math.sqrt((r-e)*(r-e)+(l-n)*(l-n))}static getPointOnLine(e,n,r,l,a,o,c){o===void 0&&(o=n),c===void 0&&(c=r);var d=(a-r)/(l-n+1e-8),p=Math.sqrt(e*e/(1+d*d));l<n&&(p*=-1);var v=d*p,y;if(l===n)y={x:o,y:c+v};else if((c-r)/(o-n+1e-8)===d)y={x:o+p,y:c+v};else{var m,x,S=this.getLineLength(n,r,l,a),P=(o-n)*(l-n)+(c-r)*(a-r);P=P/(S*S),m=n+P*(l-n),x=r+P*(a-r);var R=this.getLineLength(o,c,m,x),k=Math.sqrt(e*e-R*R);p=Math.sqrt(k*k/(1+d*d)),l<n&&(p*=-1),v=d*p,y={x:m+p,y:x+v}}return y}static getPointOnCubicBezier(e,n,r,l,a,o,c,d,p){function v(R){return R*R*R}function y(R){return 3*R*R*(1-R)}function m(R){return 3*R*(1-R)*(1-R)}function x(R){return(1-R)*(1-R)*(1-R)}var S=d*v(e)+o*y(e)+l*m(e)+n*x(e),P=p*v(e)+c*y(e)+a*m(e)+r*x(e);return{x:S,y:P}}static getPointOnQuadraticBezier(e,n,r,l,a,o,c){function d(x){return x*x}function p(x){return 2*x*(1-x)}function v(x){return(1-x)*(1-x)}var y=o*d(e)+l*p(e)+n*v(e),m=c*d(e)+a*p(e)+r*v(e);return{x:y,y:m}}static getPointOnEllipticalArc(e,n,r,l,a,o){var c=Math.cos(o),d=Math.sin(o),p={x:r*Math.cos(a),y:l*Math.sin(a)};return{x:e+(p.x*c-p.y*d),y:n+(p.x*d+p.y*c)}}static parsePathData(e){if(!e)return[];var n=e,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var l=0;l<r.length;l++)n=n.replace(new RegExp(r[l],"g"),"|"+r[l]);var a=n.split("|"),o=[],c=[],d=0,p=0,v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,y;for(l=1;l<a.length;l++){var m=a[l],x=m.charAt(0);for(m=m.slice(1),c.length=0;y=v.exec(m);)c.push(y[0]);for(var S=[],P=0,R=c.length;P<R;P++){if(c[P]==="00"){S.push(0,0);continue}var k=parseFloat(c[P]);isNaN(k)?S.push(0):S.push(k)}for(;S.length>0&&!isNaN(S[0]);){var w=null,C=[],T=d,F=p,A,j,B,H,I,D,K,W,se,ie;switch(x){case"l":d+=S.shift(),p+=S.shift(),w="L",C.push(d,p);break;case"L":d=S.shift(),p=S.shift(),C.push(d,p);break;case"m":var de=S.shift(),Ne=S.shift();if(d+=de,p+=Ne,w="M",o.length>2&&o[o.length-1].command==="z"){for(var q=o.length-2;q>=0;q--)if(o[q].command==="M"){d=o[q].points[0]+de,p=o[q].points[1]+Ne;break}}C.push(d,p),x="l";break;case"M":d=S.shift(),p=S.shift(),w="M",C.push(d,p),x="L";break;case"h":d+=S.shift(),w="L",C.push(d,p);break;case"H":d=S.shift(),w="L",C.push(d,p);break;case"v":p+=S.shift(),w="L",C.push(d,p);break;case"V":p=S.shift(),w="L",C.push(d,p);break;case"C":C.push(S.shift(),S.shift(),S.shift(),S.shift()),d=S.shift(),p=S.shift(),C.push(d,p);break;case"c":C.push(d+S.shift(),p+S.shift(),d+S.shift(),p+S.shift()),d+=S.shift(),p+=S.shift(),w="C",C.push(d,p);break;case"S":j=d,B=p,A=o[o.length-1],A.command==="C"&&(j=d+(d-A.points[2]),B=p+(p-A.points[3])),C.push(j,B,S.shift(),S.shift()),d=S.shift(),p=S.shift(),w="C",C.push(d,p);break;case"s":j=d,B=p,A=o[o.length-1],A.command==="C"&&(j=d+(d-A.points[2]),B=p+(p-A.points[3])),C.push(j,B,d+S.shift(),p+S.shift()),d+=S.shift(),p+=S.shift(),w="C",C.push(d,p);break;case"Q":C.push(S.shift(),S.shift()),d=S.shift(),p=S.shift(),C.push(d,p);break;case"q":C.push(d+S.shift(),p+S.shift()),d+=S.shift(),p+=S.shift(),w="Q",C.push(d,p);break;case"T":j=d,B=p,A=o[o.length-1],A.command==="Q"&&(j=d+(d-A.points[0]),B=p+(p-A.points[1])),d=S.shift(),p=S.shift(),w="Q",C.push(j,B,d,p);break;case"t":j=d,B=p,A=o[o.length-1],A.command==="Q"&&(j=d+(d-A.points[0]),B=p+(p-A.points[1])),d+=S.shift(),p+=S.shift(),w="Q",C.push(j,B,d,p);break;case"A":H=S.shift(),I=S.shift(),D=S.shift(),K=S.shift(),W=S.shift(),se=d,ie=p,d=S.shift(),p=S.shift(),w="A",C=this.convertEndpointToCenterParameterization(se,ie,d,p,K,W,H,I,D);break;case"a":H=S.shift(),I=S.shift(),D=S.shift(),K=S.shift(),W=S.shift(),se=d,ie=p,d+=S.shift(),p+=S.shift(),w="A",C=this.convertEndpointToCenterParameterization(se,ie,d,p,K,W,H,I,D);break}o.push({command:w||x,points:C,start:{x:T,y:F},pathLength:this.calcLength(T,F,w||x,C)})}(x==="z"||x==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,l){var a,o,c,d,p=Ce;switch(r){case"L":return p.getLineLength(e,n,l[0],l[1]);case"C":for(a=0,o=p.getPointOnCubicBezier(0,e,n,l[0],l[1],l[2],l[3],l[4],l[5]),d=.01;d<=1;d+=.01)c=p.getPointOnCubicBezier(d,e,n,l[0],l[1],l[2],l[3],l[4],l[5]),a+=p.getLineLength(o.x,o.y,c.x,c.y),o=c;return a;case"Q":for(a=0,o=p.getPointOnQuadraticBezier(0,e,n,l[0],l[1],l[2],l[3]),d=.01;d<=1;d+=.01)c=p.getPointOnQuadraticBezier(d,e,n,l[0],l[1],l[2],l[3]),a+=p.getLineLength(o.x,o.y,c.x,c.y),o=c;return a;case"A":a=0;var v=l[4],y=l[5],m=l[4]+y,x=Math.PI/180;if(Math.abs(v-m)<x&&(x=Math.abs(v-m)),o=p.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],v,0),y<0)for(d=v-x;d>m;d-=x)c=p.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],d,0),a+=p.getLineLength(o.x,o.y,c.x,c.y),o=c;else for(d=v+x;d<m;d+=x)c=p.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],d,0),a+=p.getLineLength(o.x,o.y,c.x,c.y),o=c;return c=p.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],m,0),a+=p.getLineLength(o.x,o.y,c.x,c.y),a}return 0}static convertEndpointToCenterParameterization(e,n,r,l,a,o,c,d,p){var v=p*(Math.PI/180),y=Math.cos(v)*(e-r)/2+Math.sin(v)*(n-l)/2,m=-1*Math.sin(v)*(e-r)/2+Math.cos(v)*(n-l)/2,x=y*y/(c*c)+m*m/(d*d);x>1&&(c*=Math.sqrt(x),d*=Math.sqrt(x));var S=Math.sqrt((c*c*(d*d)-c*c*(m*m)-d*d*(y*y))/(c*c*(m*m)+d*d*(y*y)));a===o&&(S*=-1),isNaN(S)&&(S=0);var P=S*c*m/d,R=S*-d*y/c,k=(e+r)/2+Math.cos(v)*P-Math.sin(v)*R,w=(n+l)/2+Math.sin(v)*P+Math.cos(v)*R,C=function(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])},T=function(I,D){return(I[0]*D[0]+I[1]*D[1])/(C(I)*C(D))},F=function(I,D){return(I[0]*D[1]<I[1]*D[0]?-1:1)*Math.acos(T(I,D))},A=F([1,0],[(y-P)/c,(m-R)/d]),j=[(y-P)/c,(m-R)/d],B=[(-1*y-P)/c,(-1*m-R)/d],H=F(j,B);return T(j,B)<=-1&&(H=Math.PI),T(j,B)>=1&&(H=0),o===0&&H>0&&(H=H-2*Math.PI),o===1&&H<0&&(H=H+2*Math.PI),[k,w,c,d,A,H,v,o]}}Ce.prototype.className="Path";Ce.prototype._attrsAffectingSize=["data"];We(Ce);E.addGetterSetter(Ce,"data");class Ei extends dr{_sceneFunc(e){super._sceneFunc(e);var n=Math.PI*2,r=this.points(),l=r,a=this.tension()!==0&&r.length>4;a&&(l=this.getTensionPoints());var o=this.pointerLength(),c=r.length,d,p;if(a){const m=[l[l.length-4],l[l.length-3],l[l.length-2],l[l.length-1],r[c-2],r[c-1]],x=Ce.calcLength(l[l.length-4],l[l.length-3],"C",m),S=Ce.getPointOnQuadraticBezier(Math.min(1,1-o/x),m[0],m[1],m[2],m[3],m[4],m[5]);d=r[c-2]-S.x,p=r[c-1]-S.y}else d=r[c-2]-r[c-4],p=r[c-1]-r[c-3];var v=(Math.atan2(p,d)+n)%n,y=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(v),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),a?(d=(l[0]+l[2])/2-r[0],p=(l[1]+l[3])/2-r[1]):(d=r[2]-r[0],p=r[3]-r[1]),e.rotate((Math.atan2(-p,-d)+n)%n),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+n*2,height:e.height+n*2}}}Ei.prototype.className="Arrow";We(Ei);E.addGetterSetter(Ei,"pointerLength",10,X());E.addGetterSetter(Ei,"pointerWidth",10,X());E.addGetterSetter(Ei,"pointerAtBeginning",!1);E.addGetterSetter(Ei,"pointerAtEnding",!0);let Pl=class extends U{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};Pl.prototype._centroid=!0;Pl.prototype.className="Circle";Pl.prototype._attrsAffectingSize=["radius"];We(Pl);E.addGetterSetter(Pl,"radius",0,X());class Qr extends U{_sceneFunc(e){var n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Qr.prototype.className="Ellipse";Qr.prototype._centroid=!0;Qr.prototype._attrsAffectingSize=["radiusX","radiusY"];We(Qr);E.addComponentsGetterSetter(Qr,"radius",["x","y"]);E.addGetterSetter(Qr,"radiusX",0,X());E.addGetterSetter(Qr,"radiusY",0,X());class gn extends U{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),l=this.cornerRadius(),a=this.attrs.image;let o;if(a){const c=this.attrs.cropWidth,d=this.attrs.cropHeight;c&&d?o=[a,this.cropX(),this.cropY(),c,d,0,0,n,r]:o=[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||l)&&(e.beginPath(),l?M.drawRoundedRectPath(e,n,r,l):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),a&&(l&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var n=this.width(),r=this.height(),l=this.cornerRadius();e.beginPath(),l?M.drawRoundedRectPath(e,n,r,l):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){var l=M.createImageElement();l.onload=function(){var a=new gn({image:l});n(a)},l.onerror=r,l.crossOrigin="Anonymous",l.src=e}}gn.prototype.className="Image";We(gn);E.addGetterSetter(gn,"cornerRadius",0,xh(4));E.addGetterSetter(gn,"image");E.addComponentsGetterSetter(gn,"crop",["x","y","width","height"]);E.addGetterSetter(gn,"cropX",0,X());E.addGetterSetter(gn,"cropY",0,X());E.addGetterSetter(gn,"cropWidth",0,X());E.addGetterSetter(gn,"cropHeight",0,X());var Ky=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],jx="Change.konva",Hx="none",Cf="up",Ef="right",Pf="down",Tf="left",Ux=Ky.length;class Th extends wl{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var n=this,r,l=function(){n._sync()};for(r=0;r<Ux;r++)e.on(Ky[r]+jx,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),n=this.getTag(),r,l,a,o,c,d,p;if(e&&n){switch(r=e.width(),l=e.height(),a=n.pointerDirection(),o=n.pointerWidth(),p=n.pointerHeight(),c=0,d=0,a){case Cf:c=r/2,d=-1*p;break;case Ef:c=r+o,d=l/2;break;case Pf:c=r/2,d=l+p;break;case Tf:c=-1*o,d=l/2;break}n.setAttrs({x:-1*c,y:-1*d,width:r,height:l}),e.setAttrs({x:-1*c,y:-1*d})}}}Th.prototype.className="Label";We(Th);class Pi extends U{_sceneFunc(e){var n=this.width(),r=this.height(),l=this.pointerDirection(),a=this.pointerWidth(),o=this.pointerHeight(),c=this.cornerRadius();let d=0,p=0,v=0,y=0;typeof c=="number"?d=p=v=y=Math.min(c,n/2,r/2):(d=Math.min(c[0]||0,n/2,r/2),p=Math.min(c[1]||0,n/2,r/2),y=Math.min(c[2]||0,n/2,r/2),v=Math.min(c[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(d,0),l===Cf&&(e.lineTo((n-a)/2,0),e.lineTo(n/2,-1*o),e.lineTo((n+a)/2,0)),e.lineTo(n-p,0),e.arc(n-p,p,p,Math.PI*3/2,0,!1),l===Ef&&(e.lineTo(n,(r-o)/2),e.lineTo(n+a,r/2),e.lineTo(n,(r+o)/2)),e.lineTo(n,r-y),e.arc(n-y,r-y,y,0,Math.PI/2,!1),l===Pf&&(e.lineTo((n+a)/2,r),e.lineTo(n/2,r+o),e.lineTo((n-a)/2,r)),e.lineTo(v,r),e.arc(v,r-v,v,Math.PI/2,Math.PI,!1),l===Tf&&(e.lineTo(0,(r+o)/2),e.lineTo(-1*a,r/2),e.lineTo(0,(r-o)/2)),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,n=0,r=this.pointerWidth(),l=this.pointerHeight(),a=this.pointerDirection(),o=this.width(),c=this.height();return a===Cf?(n-=l,c+=l):a===Pf?c+=l:a===Tf?(e-=r*1.5,o+=r):a===Ef&&(o+=r*1.5),{x:e,y:n,width:o,height:c}}}Pi.prototype.className="Tag";We(Pi);E.addGetterSetter(Pi,"pointerDirection",Hx);E.addGetterSetter(Pi,"pointerWidth",0,X());E.addGetterSetter(Pi,"pointerHeight",0,X());E.addGetterSetter(Pi,"cornerRadius",0,xh(4));let $s=class extends U{_sceneFunc(e){var n=this.cornerRadius(),r=this.width(),l=this.height();e.beginPath(),n?M.drawRoundedRectPath(e,r,l,n):e.rect(0,0,r,l),e.closePath(),e.fillStrokeShape(this)}};$s.prototype.className="Rect";We($s);E.addGetterSetter($s,"cornerRadius",0,xh(4));class Ti extends U{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var l=0;l<e;l++)r.push({x:n*Math.sin(l*2*Math.PI/e),y:-1*n*Math.cos(l*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();var n=e[0].x,r=e[0].y,l=e[0].x,a=e[0].y;return e.forEach(o=>{n=Math.min(n,o.x),r=Math.max(r,o.x),l=Math.min(l,o.y),a=Math.max(a,o.y)}),{x:n,y:l,width:r-n,height:a-l}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ti.prototype.className="RegularPolygon";Ti.prototype._centroid=!0;Ti.prototype._attrsAffectingSize=["radius"];We(Ti);E.addGetterSetter(Ti,"radius",0,X());E.addGetterSetter(Ti,"sides",0,X());var Vv=Math.PI*2;class Ri extends U{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Vv,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Vv,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ri.prototype.className="Ring";Ri.prototype._centroid=!0;Ri.prototype._attrsAffectingSize=["innerRadius","outerRadius"];We(Ri);E.addGetterSetter(Ri,"innerRadius",0,X());E.addGetterSetter(Ri,"outerRadius",0,X());class Yn extends U{constructor(e){super(e),this._updated=!0,this.anim=new cn(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var n=this.animation(),r=this.frameIndex(),l=r*4,a=this.animations()[n],o=this.frameOffsets(),c=a[l+0],d=a[l+1],p=a[l+2],v=a[l+3],y=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,p,v),e.closePath(),e.fillStrokeShape(this)),y)if(o){var m=o[n],x=r*2;e.drawImage(y,c,d,p,v,m[x+0],m[x+1],p,v)}else e.drawImage(y,c,d,p,v,0,0,p,v)}_hitFunc(e){var n=this.animation(),r=this.frameIndex(),l=r*4,a=this.animations()[n],o=this.frameOffsets(),c=a[l+2],d=a[l+3];if(e.beginPath(),o){var p=o[n],v=r*2;e.rect(p[v+0],p[v+1],c,d)}else e.rect(0,0,c,d);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),n=this.animation(),r=this.animations(),l=r[n],a=l.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Yn.prototype.className="Sprite";We(Yn);E.addGetterSetter(Yn,"animation");E.addGetterSetter(Yn,"animations");E.addGetterSetter(Yn,"frameOffsets");E.addGetterSetter(Yn,"image");E.addGetterSetter(Yn,"frameIndex",0,X());E.addGetterSetter(Yn,"frameRate",17,X());E.backCompat(Yn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Xr extends U{_sceneFunc(e){var n=this.innerRadius(),r=this.outerRadius(),l=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(var a=1;a<l*2;a++){var o=a%2===0?r:n,c=o*Math.sin(a*Math.PI/l),d=-1*o*Math.cos(a*Math.PI/l);e.lineTo(c,d)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Xr.prototype.className="Star";Xr.prototype._centroid=!0;Xr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];We(Xr);E.addGetterSetter(Xr,"numPoints",5,X());E.addGetterSetter(Xr,"innerRadius",0,X());E.addGetterSetter(Xr,"outerRadius",0,X());function qy(t){return Array.from(t)}var Qi="auto",Wx="center",is="justify",Vx="Change.konva",Yx="2d",Yv="-",Jy="left",Qx="text",Xx="Text",Kx="top",qx="bottom",Qv="middle",Zy="normal",Jx="px ",So=" ",Zx="right",$x="word",bx="char",Xv="none",xd="…",$y=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],ek=$y.length;function tk(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}var _o;function kd(){return _o||(_o=M.createCanvasElement().getContext(Yx),_o)}function nk(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function rk(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ik(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let Ue=class extends U{constructor(e){super(ik(e)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<ek;n++)this.on($y[n]+Vx,this._setTextData);this._setTextData()}_sceneFunc(e){var n=this.textArr,r=n.length;if(this.text()){var l=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,c=this.verticalAlign(),d=0,p=this.align(),v=this.getWidth(),y=this.letterSpacing(),m=this.fill(),x=this.textDecoration(),S=x.indexOf("underline")!==-1,P=x.indexOf("line-through")!==-1,R,k=0,k=o/2,w=0,C=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",Qv),e.setAttr("textAlign",Jy),c===Qv?d=(this.getHeight()-r*o-l*2)/2:c===qx&&(d=this.getHeight()-r*o-l*2),e.translate(l,d+l),R=0;R<r;R++){var w=0,C=0,T=n[R],F=T.text,A=T.width,j=T.lastInParagraph,B,H,I;if(e.save(),p===Zx?w+=v-A-l*2:p===Wx&&(w+=(v-A-l*2)/2),S){e.save(),e.beginPath(),e.moveTo(w,k+C+Math.round(a/2)),B=F.split(" ").length-1,H=B===0,I=p===is&&!j?v-l*2:A,e.lineTo(w+Math.round(I),k+C+Math.round(a/2)),e.lineWidth=a/15;const de=this._getLinearGradient();e.strokeStyle=de||m,e.stroke(),e.restore()}if(P){e.save(),e.beginPath(),e.moveTo(w,k+C),B=F.split(" ").length-1,H=B===0,I=p===is&&j&&!H?v-l*2:A,e.lineTo(w+Math.round(I),k+C),e.lineWidth=a/15;const de=this._getLinearGradient();e.strokeStyle=de||m,e.stroke(),e.restore()}if(y!==0||p===is){B=F.split(" ").length-1;for(var D=qy(F),K=0;K<D.length;K++){var W=D[K];W===" "&&!j&&p===is&&(w+=(v-l*2-A)/B),this._partialTextX=w,this._partialTextY=k+C,this._partialText=W,e.fillStrokeShape(this),w+=this.measureSize(W).width+y}}else this._partialTextX=w,this._partialTextY=k+C,this._partialText=F,e.fillStrokeShape(this);e.restore(),r>1&&(k+=o)}}}_hitFunc(e){var n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){var n=M._isString(e)?e:e==null?"":e+"";return this._setAttr(Qx,n),this}getWidth(){var e=this.attrs.width===Qi||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Qi||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n=kd(),r=this.fontSize(),l;return n.save(),n.font=this._getContextFont(),l=n.measureText(e),n.restore(),{width:l.width,height:r}}_getContextFont(){return this.fontStyle()+So+this.fontVariant()+So+(this.fontSize()+Jx)+tk(this.fontFamily())}_addTextLine(e){this.align()===is&&(e=e.trim());var r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){var n=this.letterSpacing(),r=e.length;return kd().measureText(e).width+(r?n*(r-1):0)}_setTextData(){var e=this.text().split(`
`),n=+this.fontSize(),r=0,l=this.lineHeight()*n,a=this.attrs.width,o=this.attrs.height,c=a!==Qi&&a!==void 0,d=o!==Qi&&o!==void 0,p=this.padding(),v=a-p*2,y=o-p*2,m=0,x=this.wrap(),S=x!==Xv,P=x!==bx&&S,R=this.ellipsis();this.textArr=[],kd().font=this._getContextFont();for(var k=R?this._getTextWidth(xd):0,w=0,C=e.length;w<C;++w){var T=e[w],F=this._getTextWidth(T);if(c&&F>v)for(;T.length>0;){for(var A=0,j=T.length,B="",H=0;A<j;){var I=A+j>>>1,D=T.slice(0,I+1),K=this._getTextWidth(D)+k;K<=v?(A=I+1,B=D,H=K):j=I}if(B){if(P){var W,se=T[B.length],ie=se===So||se===Yv;ie&&H<=v?W=B.length:W=Math.max(B.lastIndexOf(So),B.lastIndexOf(Yv))+1,W>0&&(A=W,B=B.slice(0,A),H=this._getTextWidth(B))}B=B.trimRight(),this._addTextLine(B),r=Math.max(r,H),m+=l;var de=this._shouldHandleEllipsis(m);if(de){this._tryToAddEllipsisToLastLine();break}if(T=T.slice(A),T=T.trimLeft(),T.length>0&&(F=this._getTextWidth(T),F<=v)){this._addTextLine(T),m+=l,r=Math.max(r,F);break}}else break}else this._addTextLine(T),m+=l,r=Math.max(r,F),this._shouldHandleEllipsis(m)&&w<C-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&m+l>y)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){var n=+this.fontSize(),r=this.lineHeight()*n,l=this.attrs.height,a=l!==Qi&&l!==void 0,o=this.padding(),c=l-o*2,d=this.wrap(),p=d!==Xv;return!p||a&&e+r>c}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,n=e!==Qi&&e!==void 0,r=this.padding(),l=e-r*2,a=this.ellipsis(),o=this.textArr[this.textArr.length-1];if(!(!o||!a)){if(n){var c=this._getTextWidth(o.text+xd)<l;c||(o.text=o.text.slice(0,o.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+xd)}}getStrokeScaleEnabled(){return!0}};Ue.prototype._fillFunc=nk;Ue.prototype._strokeFunc=rk;Ue.prototype.className=Xx;Ue.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];We(Ue);E.overWriteSetter(Ue,"width",kh());E.overWriteSetter(Ue,"height",kh());E.addGetterSetter(Ue,"fontFamily","Arial");E.addGetterSetter(Ue,"fontSize",12,X());E.addGetterSetter(Ue,"fontStyle",Zy);E.addGetterSetter(Ue,"fontVariant",Zy);E.addGetterSetter(Ue,"padding",0,X());E.addGetterSetter(Ue,"align",Jy);E.addGetterSetter(Ue,"verticalAlign",Kx);E.addGetterSetter(Ue,"lineHeight",1,X());E.addGetterSetter(Ue,"wrap",$x);E.addGetterSetter(Ue,"ellipsis",!1,Ln());E.addGetterSetter(Ue,"letterSpacing",0,X());E.addGetterSetter(Ue,"text","",El());E.addGetterSetter(Ue,"textDecoration","");var lk="",by="normal";function e1(t){t.fillText(this.partialText,0,0)}function t1(t){t.strokeText(this.partialText,0,0)}class nt extends U{constructor(e){super(e),this.dummyCanvas=M.createCanvasElement(),this.dataArray=[],this.dataArray=Ce.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Ce.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var n=this.textDecoration(),r=this.fill(),l=this.fontSize(),a=this.glyphInfo;n==="underline"&&e.beginPath();for(var o=0;o<a.length;o++){e.save();var c=a[o].p0;e.translate(c.x,c.y),e.rotate(a[o].rotation),this.partialText=a[o].text,e.fillStrokeShape(this),n==="underline"&&(o===0&&e.moveTo(0,l/2+1),e.lineTo(l,l/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=l/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;e.moveTo(r.x,r.y)}for(var l=0;l<n.length;l++){var a=n[l].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return M.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Ue.prototype.setText.call(this,e)}_getContextFont(){return Ue.prototype._getContextFont.call(this)}_getTextSize(e){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var l=r.measureText(e);return r.restore(),{width:l.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),l=this.align(),a=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var c=0,d=0;d<e.dataArray.length;d++)e.dataArray[d].pathLength>0&&(c+=e.dataArray[d].pathLength);var p=0;l==="center"&&(p=Math.max(0,c/2-o/2)),l==="right"&&(p=Math.max(0,c-o));for(var v=qy(this.text()),y=this.text().split(" ").length-1,m,x,S,P=-1,R=0,k=function(){R=0;for(var K=e.dataArray,W=P+1;W<K.length;W++){if(K[W].pathLength>0)return P=W,K[W];K[W].command==="M"&&(m={x:K[W].points[0],y:K[W].points[1]})}return{}},w=function(K){var W=e._getTextSize(K).width+r;K===" "&&l==="justify"&&(W+=(c-o)/y);var se=0,ie=0;for(x=void 0;Math.abs(W-se)/W>.01&&ie<20;){ie++;for(var de=se;S===void 0;)S=k(),S&&de+S.pathLength<W&&(de+=S.pathLength,S=void 0);if(Object.keys(S).length===0||m===void 0)return;var Ne=!1;switch(S.command){case"L":Ce.getLineLength(m.x,m.y,S.points[0],S.points[1])>W?x=Ce.getPointOnLine(W,m.x,m.y,S.points[0],S.points[1],m.x,m.y):S=void 0;break;case"A":var q=S.points[4],le=S.points[5],J=S.points[4]+le;R===0?R=q+1e-8:W>se?R+=Math.PI/180*le/Math.abs(le):R-=Math.PI/360*le/Math.abs(le),(le<0&&R<J||le>=0&&R>J)&&(R=J,Ne=!0),x=Ce.getPointOnEllipticalArc(S.points[0],S.points[1],S.points[2],S.points[3],R,S.points[6]);break;case"C":R===0?W>S.pathLength?R=1e-8:R=W/S.pathLength:W>se?R+=(W-se)/S.pathLength/2:R=Math.max(R-(se-W)/S.pathLength/2,0),R>1&&(R=1,Ne=!0),x=Ce.getPointOnCubicBezier(R,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3],S.points[4],S.points[5]);break;case"Q":R===0?R=W/S.pathLength:W>se?R+=(W-se)/S.pathLength:R-=(se-W)/S.pathLength,R>1&&(R=1,Ne=!0),x=Ce.getPointOnQuadraticBezier(R,S.start.x,S.start.y,S.points[0],S.points[1],S.points[2],S.points[3]);break}x!==void 0&&(se=Ce.getLineLength(m.x,m.y,x.x,x.y)),Ne&&(Ne=!1,S=void 0)}},C="C",T=e._getTextSize(C).width+r,F=p/T-1,A=0;A<F&&(w(C),!(m===void 0||x===void 0));A++)m=x;for(var j=0;j<v.length&&(w(v[j]),!(m===void 0||x===void 0));j++){var B=Ce.getLineLength(m.x,m.y,x.x,x.y),H=0;if(a)try{H=a(v[j-1],v[j])*this.fontSize()}catch{H=0}m.x+=H,x.x+=H,this.textWidth+=H;var I=Ce.getPointOnLine(H+B/2,m.x,m.y,x.x,x.y),D=Math.atan2(x.y-m.y,x.x-m.x);this.glyphInfo.push({transposeX:I.x,transposeY:I.y,text:v[j],rotation:D,p0:m,p1:x}),m=x}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(v){e.push(v.p0.x),e.push(v.p0.y),e.push(v.p1.x),e.push(v.p1.y)});for(var n=e[0]||0,r=e[0]||0,l=e[1]||0,a=e[1]||0,o,c,d=0;d<e.length/2;d++)o=e[d*2],c=e[d*2+1],n=Math.min(n,o),r=Math.max(r,o),l=Math.min(l,c),a=Math.max(a,c);var p=this.fontSize();return{x:n-p/2,y:l-p/2,width:r-n+p,height:a-l+p}}destroy(){return M.releaseCanvas(this.dummyCanvas),super.destroy()}}nt.prototype._fillFunc=e1;nt.prototype._strokeFunc=t1;nt.prototype._fillFuncHit=e1;nt.prototype._strokeFuncHit=t1;nt.prototype.className="TextPath";nt.prototype._attrsAffectingSize=["text","fontSize","data"];We(nt);E.addGetterSetter(nt,"data");E.addGetterSetter(nt,"fontFamily","Arial");E.addGetterSetter(nt,"fontSize",12,X());E.addGetterSetter(nt,"fontStyle",by);E.addGetterSetter(nt,"align","left");E.addGetterSetter(nt,"letterSpacing",0,X());E.addGetterSetter(nt,"textBaseline","middle");E.addGetterSetter(nt,"fontVariant",by);E.addGetterSetter(nt,"text",lk);E.addGetterSetter(nt,"textDecoration",null);E.addGetterSetter(nt,"kerningFunc",null);var n1="tr-konva",sk=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(t=>t+`.${n1}`).join(" "),Kv="nodesRect",ak=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ok={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const uk="ontouchstart"in ne._global;function ck(t,e){if(t==="rotater")return"crosshair";e+=M.degToRad(ok[t]||0);var n=(M.radToDeg(e)%360+360)%360;return M._inRange(n,315+22.5,360)||M._inRange(n,0,22.5)?"ns-resize":M._inRange(n,45-22.5,45+22.5)?"nesw-resize":M._inRange(n,90-22.5,90+22.5)?"ew-resize":M._inRange(n,135-22.5,135+22.5)?"nwse-resize":M._inRange(n,180-22.5,180+22.5)?"ns-resize":M._inRange(n,225-22.5,225+22.5)?"nesw-resize":M._inRange(n,270-22.5,270+22.5)?"ew-resize":M._inRange(n,315-22.5,315+22.5)?"nwse-resize":(M.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var au=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function dk(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function r1(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),l=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return Object.assign(Object.assign({},t),{rotation:t.rotation+e,x:r,y:l})}function fk(t,e){const n=dk(t);return r1(t,e,n)}function hk(t,e,n){let r=e;for(let l=0;l<t.length;l++){const a=ne.getAngle(t[l]),o=Math.abs(a-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<n&&(r=a)}return r}let xe=class extends wl{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(sk,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return M.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return n1+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(l=>l.isAncestorOf(this)?(M.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(l=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=l._attrsAffectingSize.map(c=>c+"Change."+this._getEventNamespace()).join(" ");l.on(o,a),l.on(ak.map(c=>c+`.${this._getEventNamespace()}`).join(" "),a),l.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(l)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const l=e.getAbsolutePosition(),a=l.x-n.x,o=l.y-n.y;this.nodes().forEach(c=>{if(c===e||c.isDragging())return;const d=c.getAbsolutePosition();c.setAbsolutePosition({x:d.x+a,y:d.y+o}),c.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Kv),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Kv,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){var l=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(r),o=e.getAbsolutePosition(r),c=l.x*a.x-e.offsetX()*a.x,d=l.y*a.y-e.offsetY()*a.y;const p=(ne.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),v={x:o.x+c*Math.cos(p)+d*Math.sin(-p),y:o.y+d*Math.cos(p)+c*Math.sin(p),width:l.width*a.x,height:l.height*a.y,rotation:p};return r1(v,-ne.getAngle(n),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(p=>{const v=p.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var y=[{x:v.x,y:v.y},{x:v.x+v.width,y:v.y},{x:v.x+v.width,y:v.y+v.height},{x:v.x,y:v.y+v.height}],m=p.getAbsoluteTransform();y.forEach(function(x){var S=m.point(x);n.push(S)})});const r=new Yt;r.rotate(-ne.getAngle(this.rotation()));var l,a,o,c;n.forEach(function(p){var v=r.point(p);l===void 0&&(l=o=v.x,a=c=v.y),l=Math.min(l,v.x),a=Math.min(a,v.y),o=Math.max(o,v.x),c=Math.max(c,v.y)}),r.invert();const d=r.point({x:l,y:a});return{x:d.x,y:d.y,width:o-l,height:c-a,rotation:ne.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),au.forEach((function(e){this._createAnchor(e)}).bind(this)),this._createAnchor("rotater")}_createAnchor(e){var n=new $s({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:uk?10:"auto"}),r=this;n.on("mousedown touchstart",function(l){r._handleMouseDown(l)}),n.on("dragstart",l=>{n.stopDrag(),l.cancelBubble=!0}),n.on("dragend",l=>{l.cancelBubble=!0}),n.on("mouseenter",()=>{var l=ne.getAngle(this.rotation()),a=ck(e,l);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var e=new U({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),l=r.padding();n.beginPath(),n.rect(-l,-l,this.width()+l*2,this.height()+l*2),n.moveTo(this.width()/2,-l),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*M._sign(this.height())-l),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var l=this.padding();n.beginPath(),n.rect(-l,-l,r.width()+l*2,r.height()+l*2),n.fillStrokeShape(r)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,l=n.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(l,2));this.sin=Math.abs(l/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),c=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:c.x-o.x,y:c.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:e.evt,target:d})})}_handleMouseMove(e){var n,r,l,a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(e);const c=o.getPointerPosition();let d={x:c.x-this._anchorDragOffset.x,y:c.y-this._anchorDragOffset.y};const p=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(p,d,e)),a.setAbsolutePosition(d);const v=a.getAbsolutePosition();if(!(p.x===v.x&&p.y===v.y)){if(this._movingAnchorName==="rotater"){var y=this._getNodeRect();n=a.x()-y.width/2,r=-a.y()+y.height/2;let K=Math.atan2(-r,n)+Math.PI/2;y.height<0&&(K-=Math.PI);var m=ne.getAngle(this.rotation());const W=m+K,se=ne.getAngle(this.rotationSnapTolerance()),de=hk(this.rotationSnaps(),W,se)-y.rotation,Ne=fk(y,de);this._fitNodesInto(Ne,e);return}var x=this.keepRatio()||e.shiftKey,w=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(x){var S=w?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};l=Math.sqrt(Math.pow(S.x-a.x(),2)+Math.pow(S.y-a.y(),2));var P=this.findOne(".top-left").x()>S.x?-1:1,R=this.findOne(".top-left").y()>S.y?-1:1;n=l*this.cos*P,r=l*this.sin*R,this.findOne(".top-left").x(S.x-n),this.findOne(".top-left").y(S.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(x){var S=w?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};l=Math.sqrt(Math.pow(a.x()-S.x,2)+Math.pow(S.y-a.y(),2));var P=this.findOne(".top-right").x()<S.x?-1:1,R=this.findOne(".top-right").y()>S.y?-1:1;n=l*this.cos*P,r=l*this.sin*R,this.findOne(".top-right").x(S.x+n),this.findOne(".top-right").y(S.y-r)}var k=a.position();this.findOne(".top-left").y(k.y),this.findOne(".bottom-right").x(k.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(x){var S=w?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};l=Math.sqrt(Math.pow(S.x-a.x(),2)+Math.pow(a.y()-S.y,2));var P=S.x<a.x()?-1:1,R=a.y()<S.y?-1:1;n=l*this.cos*P,r=l*this.sin*R,a.x(S.x-n),a.y(S.y+r)}k=a.position(),this.findOne(".top-left").x(k.x),this.findOne(".bottom-right").y(k.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(x){var S=w?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};l=Math.sqrt(Math.pow(a.x()-S.x,2)+Math.pow(a.y()-S.y,2));var P=this.findOne(".bottom-right").x()<S.x?-1:1,R=this.findOne(".bottom-right").y()<S.y?-1:1;n=l*this.cos*P,r=l*this.sin*R,this.findOne(".bottom-right").x(S.x+n),this.findOne(".bottom-right").y(S.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var w=this.centeredScaling()||e.altKey;if(w){var C=this.findOne(".top-left"),T=this.findOne(".bottom-right"),F=C.x(),A=C.y(),j=this.getWidth()-T.x(),B=this.getHeight()-T.y();T.move({x:-F,y:-A}),C.move({x:j,y:B})}var H=this.findOne(".top-left").getAbsolutePosition();n=H.x,r=H.y;var I=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),D=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:I,height:D,rotation:ne.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:e,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:e,target:r})}),this._movingAnchorName=null}}_fitNodesInto(e,n){var r=this._getNodeRect();const l=1;if(M._inRange(e.width,-this.padding()*2-l,l)){this.update();return}if(M._inRange(e.height,-this.padding()*2-l,l)){this.update();return}const a=this.flipEnabled();var o=new Yt;if(o.rotate(ne.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const y=o.point({x:-this.padding()*2,y:0});if(e.x+=y.x,e.y+=y.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,!a){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const y=o.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.width+=this.padding()*2,!a){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const y=o.point({x:0,y:-this.padding()*2});if(e.x+=y.x,e.y+=y.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2,!a){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const y=o.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=y.x,this._anchorDragOffset.y-=y.y,e.height+=this.padding()*2,!a){this.update();return}}if(this.boundBoxFunc()){const y=this.boundBoxFunc()(r,e);y?e=y:M.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const c=1e7,d=new Yt;d.translate(r.x,r.y),d.rotate(r.rotation),d.scale(r.width/c,r.height/c);const p=new Yt;p.translate(e.x,e.y),p.rotate(e.rotation),p.scale(e.width/c,e.height/c);const v=p.multiply(d.invert());this._nodes.forEach(y=>{var m;const x=y.getParent().getAbsoluteTransform(),S=y.getTransform().copy();S.translate(y.offsetX(),y.offsetY());const P=new Yt;P.multiply(x.copy().invert()).multiply(v).multiply(x).multiply(S);const R=P.decompose();y.setAttrs(R),this._fire("transform",{evt:n,target:y}),y._fire("transform",{evt:n,target:y}),(m=y.getLayer())===null||m===void 0||m.batchDraw()}),this.rotation(M._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e,n=this._getNodeRect();this.rotation(M._getRotation(n.rotation));var r=n.width,l=n.height,a=this.enabledAnchors(),o=this.resizeEnabled(),c=this.padding(),d=this.anchorSize();this.find("._anchor").forEach(p=>{p.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+c,offsetY:d/2+c,visible:o&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:d/2+c,visible:o&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:d/2-c,offsetY:d/2+c,visible:o&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:l/2,offsetX:d/2+c,visible:o&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:l/2,offsetX:d/2-c,visible:o&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:l,offsetX:d/2+c,offsetY:d/2-c,visible:o&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:l,offsetY:d/2-c,visible:o&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:l,offsetX:d/2-c,offsetY:d/2-c,visible:o&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*M._sign(l)-c,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:l,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),wl.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Q.prototype.toObject.call(this)}clone(e){var n=Q.prototype.clone.call(this,e);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};function pk(t){return t instanceof Array||M.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){au.indexOf(e)===-1&&M.warn("Unknown anchor name: "+e+". Available names are: "+au.join(", "))}),t||[]}xe.prototype.className="Transformer";We(xe);E.addGetterSetter(xe,"enabledAnchors",au,pk);E.addGetterSetter(xe,"flipEnabled",!0,Ln());E.addGetterSetter(xe,"resizeEnabled",!0);E.addGetterSetter(xe,"anchorSize",10,X());E.addGetterSetter(xe,"rotateEnabled",!0);E.addGetterSetter(xe,"rotationSnaps",[]);E.addGetterSetter(xe,"rotateAnchorOffset",50,X());E.addGetterSetter(xe,"rotationSnapTolerance",5,X());E.addGetterSetter(xe,"borderEnabled",!0);E.addGetterSetter(xe,"anchorStroke","rgb(0, 161, 255)");E.addGetterSetter(xe,"anchorStrokeWidth",1,X());E.addGetterSetter(xe,"anchorFill","white");E.addGetterSetter(xe,"anchorCornerRadius",0,X());E.addGetterSetter(xe,"borderStroke","rgb(0, 161, 255)");E.addGetterSetter(xe,"borderStrokeWidth",1,X());E.addGetterSetter(xe,"borderDash");E.addGetterSetter(xe,"keepRatio",!0);E.addGetterSetter(xe,"centeredScaling",!1);E.addGetterSetter(xe,"ignoreStroke",!1);E.addGetterSetter(xe,"padding",0,X());E.addGetterSetter(xe,"node");E.addGetterSetter(xe,"nodes");E.addGetterSetter(xe,"boundBoxFunc");E.addGetterSetter(xe,"anchorDragBoundFunc");E.addGetterSetter(xe,"shouldOverdrawWholeArea",!1);E.addGetterSetter(xe,"useSingleNodeRotation",!0);E.backCompat(xe,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class fr extends U{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ne.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}fr.prototype.className="Wedge";fr.prototype._centroid=!0;fr.prototype._attrsAffectingSize=["radius"];We(fr);E.addGetterSetter(fr,"radius",0,X());E.addGetterSetter(fr,"angle",0,X());E.addGetterSetter(fr,"clockwise",!1);E.backCompat(fr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function qv(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var gk=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],vk=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function mk(t,e){var n=t.data,r=t.width,l=t.height,a,o,c,d,p,v,y,m,x,S,P,R,k,w,C,T,F,A,j,B,H,I,D,K,W=e+e+1,se=r-1,ie=l-1,de=e+1,Ne=de*(de+1)/2,q=new qv,le=null,J=q,oe=null,ge=null,pt=gk[e],Ze=vk[e];for(c=1;c<W;c++)J=J.next=new qv,c===de&&(le=J);for(J.next=q,y=v=0,o=0;o<l;o++){for(T=F=A=j=m=x=S=P=0,R=de*(B=n[v]),k=de*(H=n[v+1]),w=de*(I=n[v+2]),C=de*(D=n[v+3]),m+=Ne*B,x+=Ne*H,S+=Ne*I,P+=Ne*D,J=q,c=0;c<de;c++)J.r=B,J.g=H,J.b=I,J.a=D,J=J.next;for(c=1;c<de;c++)d=v+((se<c?se:c)<<2),m+=(J.r=B=n[d])*(K=de-c),x+=(J.g=H=n[d+1])*K,S+=(J.b=I=n[d+2])*K,P+=(J.a=D=n[d+3])*K,T+=B,F+=H,A+=I,j+=D,J=J.next;for(oe=q,ge=le,a=0;a<r;a++)n[v+3]=D=P*pt>>Ze,D!==0?(D=255/D,n[v]=(m*pt>>Ze)*D,n[v+1]=(x*pt>>Ze)*D,n[v+2]=(S*pt>>Ze)*D):n[v]=n[v+1]=n[v+2]=0,m-=R,x-=k,S-=w,P-=C,R-=oe.r,k-=oe.g,w-=oe.b,C-=oe.a,d=y+((d=a+e+1)<se?d:se)<<2,T+=oe.r=n[d],F+=oe.g=n[d+1],A+=oe.b=n[d+2],j+=oe.a=n[d+3],m+=T,x+=F,S+=A,P+=j,oe=oe.next,R+=B=ge.r,k+=H=ge.g,w+=I=ge.b,C+=D=ge.a,T-=B,F-=H,A-=I,j-=D,ge=ge.next,v+=4;y+=r}for(a=0;a<r;a++){for(F=A=j=T=x=S=P=m=0,v=a<<2,R=de*(B=n[v]),k=de*(H=n[v+1]),w=de*(I=n[v+2]),C=de*(D=n[v+3]),m+=Ne*B,x+=Ne*H,S+=Ne*I,P+=Ne*D,J=q,c=0;c<de;c++)J.r=B,J.g=H,J.b=I,J.a=D,J=J.next;for(p=r,c=1;c<=e;c++)v=p+a<<2,m+=(J.r=B=n[v])*(K=de-c),x+=(J.g=H=n[v+1])*K,S+=(J.b=I=n[v+2])*K,P+=(J.a=D=n[v+3])*K,T+=B,F+=H,A+=I,j+=D,J=J.next,c<ie&&(p+=r);for(v=a,oe=q,ge=le,o=0;o<l;o++)d=v<<2,n[d+3]=D=P*pt>>Ze,D>0?(D=255/D,n[d]=(m*pt>>Ze)*D,n[d+1]=(x*pt>>Ze)*D,n[d+2]=(S*pt>>Ze)*D):n[d]=n[d+1]=n[d+2]=0,m-=R,x-=k,S-=w,P-=C,R-=oe.r,k-=oe.g,w-=oe.b,C-=oe.a,d=a+((d=o+de)<ie?d:ie)*r<<2,m+=T+=oe.r=n[d],x+=F+=oe.g=n[d+1],S+=A+=oe.b=n[d+2],P+=j+=oe.a=n[d+3],oe=oe.next,R+=B=ge.r,k+=H=ge.g,w+=I=ge.b,C+=D=ge.a,T-=B,F-=H,A-=I,j-=D,ge=ge.next,v+=r}}const yk=function(e){var n=Math.round(this.blurRadius());n>0&&mk(e,n)};E.addGetterSetter(Q,"blurRadius",0,X(),E.afterSetFilter);const Sk=function(t){var e=this.brightness()*255,n=t.data,r=n.length,l;for(l=0;l<r;l+=4)n[l]+=e,n[l+1]+=e,n[l+2]+=e};E.addGetterSetter(Q,"brightness",0,X(),E.afterSetFilter);const _k=function(t){var e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length,l=150,a=150,o=150,c;for(c=0;c<r;c+=4)l=n[c],a=n[c+1],o=n[c+2],l/=255,l-=.5,l*=e,l+=.5,l*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,l=l<0?0:l>255?255:l,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,n[c]=l,n[c+1]=a,n[c+2]=o};E.addGetterSetter(Q,"contrast",0,X(),E.afterSetFilter);const wk=function(t){var e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),l=this.embossBlend(),a=0,o=0,c=t.data,d=t.width,p=t.height,v=d*4,y=p;switch(r){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:M.error("Unknown emboss direction: "+r)}do{var m=(y-1)*v,x=a;y+x<1&&(x=0),y+x>p&&(x=0);var S=(y-1+x)*d*4,P=d;do{var R=m+(P-1)*4,k=o;P+k<1&&(k=0),P+k>d&&(k=0);var w=S+(P-1+k)*4,C=c[R]-c[w],T=c[R+1]-c[w+1],F=c[R+2]-c[w+2],A=C,j=A>0?A:-A,B=T>0?T:-T,H=F>0?F:-F;if(B>j&&(A=T),H>j&&(A=F),A*=e,l){var I=c[R]+A,D=c[R+1]+A,K=c[R+2]+A;c[R]=I>255?255:I<0?0:I,c[R+1]=D>255?255:D<0?0:D,c[R+2]=K>255?255:K<0?0:K}else{var W=n-A;W<0?W=0:W>255&&(W=255),c[R]=c[R+1]=c[R+2]=W}}while(--P)}while(--y)};E.addGetterSetter(Q,"embossStrength",.5,X(),E.afterSetFilter);E.addGetterSetter(Q,"embossWhiteLevel",.5,X(),E.afterSetFilter);E.addGetterSetter(Q,"embossDirection","top-left",null,E.afterSetFilter);E.addGetterSetter(Q,"embossBlend",!1,null,E.afterSetFilter);function Cd(t,e,n,r,l){var a=n-e,o=l-r,c;return a===0?r+o/2:o===0?r:(c=(t-e)/a,c=o*c+r,c)}const xk=function(t){var e=t.data,n=e.length,r=e[0],l=r,a,o=e[1],c=o,d,p=e[2],v=p,y,m,x=this.enhance();if(x!==0){for(m=0;m<n;m+=4)a=e[m+0],a<r?r=a:a>l&&(l=a),d=e[m+1],d<o?o=d:d>c&&(c=d),y=e[m+2],y<p?p=y:y>v&&(v=y);l===r&&(l=255,r=0),c===o&&(c=255,o=0),v===p&&(v=255,p=0);var S,P,R,k,w,C,T,F,A;for(x>0?(P=l+x*(255-l),R=r-x*(r-0),w=c+x*(255-c),C=o-x*(o-0),F=v+x*(255-v),A=p-x*(p-0)):(S=(l+r)*.5,P=l+x*(l-S),R=r+x*(r-S),k=(c+o)*.5,w=c+x*(c-k),C=o+x*(o-k),T=(v+p)*.5,F=v+x*(v-T),A=p+x*(p-T)),m=0;m<n;m+=4)e[m+0]=Cd(e[m+0],r,l,R,P),e[m+1]=Cd(e[m+1],o,c,C,w),e[m+2]=Cd(e[m+2],p,v,A,F)}};E.addGetterSetter(Q,"enhance",0,X(),E.afterSetFilter);const kk=function(t){var e=t.data,n=e.length,r,l;for(r=0;r<n;r+=4)l=.34*e[r]+.5*e[r+1]+.16*e[r+2],e[r]=l,e[r+1]=l,e[r+2]=l};E.addGetterSetter(Q,"hue",0,X(),E.afterSetFilter);E.addGetterSetter(Q,"saturation",0,X(),E.afterSetFilter);E.addGetterSetter(Q,"luminance",0,X(),E.afterSetFilter);const Ck=function(t){var e=t.data,n=e.length,r=1,l=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=this.luminance()*127,c,d=r*l*Math.cos(a*Math.PI/180),p=r*l*Math.sin(a*Math.PI/180),v=.299*r+.701*d+.167*p,y=.587*r-.587*d+.33*p,m=.114*r-.114*d-.497*p,x=.299*r-.299*d-.328*p,S=.587*r+.413*d+.035*p,P=.114*r-.114*d+.293*p,R=.299*r-.3*d+1.25*p,k=.587*r-.586*d-1.05*p,w=.114*r+.886*d-.2*p,C,T,F,A;for(c=0;c<n;c+=4)C=e[c+0],T=e[c+1],F=e[c+2],A=e[c+3],e[c+0]=v*C+y*T+m*F+o,e[c+1]=x*C+S*T+P*F+o,e[c+2]=R*C+k*T+w*F+o,e[c+3]=A},Ek=function(t){var e=t.data,n=e.length,r=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o,c=r*l*Math.cos(a*Math.PI/180),d=r*l*Math.sin(a*Math.PI/180),p=.299*r+.701*c+.167*d,v=.587*r-.587*c+.33*d,y=.114*r-.114*c-.497*d,m=.299*r-.299*c-.328*d,x=.587*r+.413*c+.035*d,S=.114*r-.114*c+.293*d,P=.299*r-.3*c+1.25*d,R=.587*r-.586*c-1.05*d,k=.114*r+.886*c-.2*d,w,C,T,F;for(o=0;o<n;o+=4)w=e[o+0],C=e[o+1],T=e[o+2],F=e[o+3],e[o+0]=p*w+v*C+y*T,e[o+1]=m*w+x*C+S*T,e[o+2]=P*w+R*C+k*T,e[o+3]=F};E.addGetterSetter(Q,"hue",0,X(),E.afterSetFilter);E.addGetterSetter(Q,"saturation",0,X(),E.afterSetFilter);E.addGetterSetter(Q,"value",0,X(),E.afterSetFilter);const Pk=function(t){var e=t.data,n=e.length,r;for(r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};var Tk=function(t,e,n){var r=t.data,l=e.data,a=t.width,o=t.height,c=n.polarCenterX||a/2,d=n.polarCenterY||o/2,p,v,y,m=0,x=0,S=0,P=0,R,k=Math.sqrt(c*c+d*d);v=a-c,y=o-d,R=Math.sqrt(v*v+y*y),k=R>k?R:k;var w=o,C=a,T,F,A=360/C*Math.PI/180,j,B;for(F=0;F<C;F+=1)for(j=Math.sin(F*A),B=Math.cos(F*A),T=0;T<w;T+=1)v=Math.floor(c+k*T/w*B),y=Math.floor(d+k*T/w*j),p=(y*a+v)*4,m=r[p+0],x=r[p+1],S=r[p+2],P=r[p+3],p=(F+T*a)*4,l[p+0]=m,l[p+1]=x,l[p+2]=S,l[p+3]=P},Rk=function(t,e,n){var r=t.data,l=e.data,a=t.width,o=t.height,c=n.polarCenterX||a/2,d=n.polarCenterY||o/2,p,v,y,m,x,S=0,P=0,R=0,k=0,w,C=Math.sqrt(c*c+d*d);v=a-c,y=o-d,w=Math.sqrt(v*v+y*y),C=w>C?w:C;var T=o,F=a,A,j,B=0,H,I;for(v=0;v<a;v+=1)for(y=0;y<o;y+=1)m=v-c,x=y-d,A=Math.sqrt(m*m+x*x)*T/C,j=(Math.atan2(x,m)*180/Math.PI+360+B)%360,j=j*F/360,H=Math.floor(j),I=Math.floor(A),p=(I*a+H)*4,S=r[p+0],P=r[p+1],R=r[p+2],k=r[p+3],p=(y*a+v)*4,l[p+0]=S,l[p+1]=P,l[p+2]=R,l[p+3]=k};const Nk=function(t){var e=t.width,n=t.height,r,l,a,o,c,d,p,v,y,m,x=Math.round(this.kaleidoscopePower()),S=Math.round(this.kaleidoscopeAngle()),P=Math.floor(e*(S%360)/360);if(!(x<1)){var R=M.createCanvasElement();R.width=e,R.height=n;var k=R.getContext("2d").getImageData(0,0,e,n);M.releaseCanvas(R),Tk(t,k,{polarCenterX:e/2,polarCenterY:n/2});for(var w=e/Math.pow(2,x);w<=8;)w=w*2,x-=1;w=Math.ceil(w);var C=w,T=0,F=C,A=1;for(P+w>e&&(T=C,F=0,A=-1),l=0;l<n;l+=1)for(r=T;r!==F;r+=A)a=Math.round(r+P)%e,y=(e*l+a)*4,c=k.data[y+0],d=k.data[y+1],p=k.data[y+2],v=k.data[y+3],m=(e*l+r)*4,k.data[m+0]=c,k.data[m+1]=d,k.data[m+2]=p,k.data[m+3]=v;for(l=0;l<n;l+=1)for(C=Math.floor(w),o=0;o<x;o+=1){for(r=0;r<C+1;r+=1)y=(e*l+r)*4,c=k.data[y+0],d=k.data[y+1],p=k.data[y+2],v=k.data[y+3],m=(e*l+C*2-r-1)*4,k.data[m+0]=c,k.data[m+1]=d,k.data[m+2]=p,k.data[m+3]=v;C*=2}Rk(k,t,{})}};E.addGetterSetter(Q,"kaleidoscopePower",2,X(),E.afterSetFilter);E.addGetterSetter(Q,"kaleidoscopeAngle",0,X(),E.afterSetFilter);function wo(t,e,n){var r=(n*t.width+e)*4,l=[];return l.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),l}function ls(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function Lk(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function Mk(t,e){var n=wo(t,0,0),r=wo(t,t.width-1,0),l=wo(t,0,t.height-1),a=wo(t,t.width-1,t.height-1),o=e||10;if(ls(n,r)<o&&ls(r,a)<o&&ls(a,l)<o&&ls(l,n)<o){for(var c=Lk([r,n,a,l]),d=[],p=0;p<t.width*t.height;p++){var v=ls(c,[t.data[p*4],t.data[p*4+1],t.data[p*4+2]]);d[p]=v<o?0:255}return d}}function Ok(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function Ak(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],l=Math.round(Math.sqrt(r.length)),a=Math.floor(l/2),o=[],c=0;c<n;c++)for(var d=0;d<e;d++){for(var p=c*e+d,v=0,y=0;y<l;y++)for(var m=0;m<l;m++){var x=c+y-a,S=d+m-a;if(x>=0&&x<n&&S>=0&&S<e){var P=x*e+S,R=r[y*l+m];v+=t[P]*R}}o[p]=v===255*8?255:0}return o}function zk(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],l=Math.round(Math.sqrt(r.length)),a=Math.floor(l/2),o=[],c=0;c<n;c++)for(var d=0;d<e;d++){for(var p=c*e+d,v=0,y=0;y<l;y++)for(var m=0;m<l;m++){var x=c+y-a,S=d+m-a;if(x>=0&&x<n&&S>=0&&S<e){var P=x*e+S,R=r[y*l+m];v+=t[P]*R}}o[p]=v>=255*4?255:0}return o}function Ik(t,e,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],l=Math.round(Math.sqrt(r.length)),a=Math.floor(l/2),o=[],c=0;c<n;c++)for(var d=0;d<e;d++){for(var p=c*e+d,v=0,y=0;y<l;y++)for(var m=0;m<l;m++){var x=c+y-a,S=d+m-a;if(x>=0&&x<n&&S>=0&&S<e){var P=x*e+S,R=r[y*l+m];v+=t[P]*R}}o[p]=v}return o}const Dk=function(t){var e=this.threshold(),n=Mk(t,e);return n&&(n=Ak(n,t.width,t.height),n=zk(n,t.width,t.height),n=Ik(n,t.width,t.height),Ok(t,n)),t};E.addGetterSetter(Q,"threshold",0,X(),E.afterSetFilter);const Fk=function(t){var e=this.noise()*255,n=t.data,r=n.length,l=e/2,a;for(a=0;a<r;a+=4)n[a+0]+=l-2*l*Math.random(),n[a+1]+=l-2*l*Math.random(),n[a+2]+=l-2*l*Math.random()};E.addGetterSetter(Q,"noise",.2,X(),E.afterSetFilter);const Gk=function(t){var e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,l,a,o,c,d,p,v,y=Math.ceil(n/e),m=Math.ceil(r/e),x,S,P,R,k,w,C,T=t.data;if(e<=0){M.error("pixelSize value can not be <= 0");return}for(k=0;k<y;k+=1)for(w=0;w<m;w+=1){for(c=0,d=0,p=0,v=0,x=k*e,S=x+e,P=w*e,R=P+e,C=0,l=x;l<S;l+=1)if(!(l>=n))for(a=P;a<R;a+=1)a>=r||(o=(n*a+l)*4,c+=T[o+0],d+=T[o+1],p+=T[o+2],v+=T[o+3],C+=1);for(c=c/C,d=d/C,p=p/C,v=v/C,l=x;l<S;l+=1)if(!(l>=n))for(a=P;a<R;a+=1)a>=r||(o=(n*a+l)*4,T[o+0]=c,T[o+1]=d,T[o+2]=p,T[o+3]=v)}};E.addGetterSetter(Q,"pixelSize",8,X(),E.afterSetFilter);const Bk=function(t){var e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,l=255/e,a;for(a=0;a<r;a+=1)n[a]=Math.floor(n[a]/l)*l};E.addGetterSetter(Q,"levels",.5,X(),E.afterSetFilter);const jk=function(t){var e=t.data,n=e.length,r=this.red(),l=this.green(),a=this.blue(),o,c;for(o=0;o<n;o+=4)c=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255,e[o]=c*r,e[o+1]=c*l,e[o+2]=c*a,e[o+3]=e[o+3]};E.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(Q,"blue",0,Ty,E.afterSetFilter);const Hk=function(t){var e=t.data,n=e.length,r=this.red(),l=this.green(),a=this.blue(),o=this.alpha(),c,d;for(c=0;c<n;c+=4)d=1-o,e[c]=r*o+e[c]*d,e[c+1]=l*o+e[c+1]*d,e[c+2]=a*o+e[c+2]*d};E.addGetterSetter(Q,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(Q,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});E.addGetterSetter(Q,"blue",0,Ty,E.afterSetFilter);E.addGetterSetter(Q,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const Uk=function(t){var e=t.data,n=e.length,r,l,a,o;for(r=0;r<n;r+=4)l=e[r+0],a=e[r+1],o=e[r+2],e[r+0]=Math.min(255,l*.393+a*.769+o*.189),e[r+1]=Math.min(255,l*.349+a*.686+o*.168),e[r+2]=Math.min(255,l*.272+a*.534+o*.131)},Wk=function(t){var e=t.data,n=t.width,r=t.height,l=n*4,a=r;do{var o=(a-1)*l,c=n;do{var d=o+(c-1)*4,p=e[d],v=e[d+1],y=e[d+2];p>127&&(p=255-p),v>127&&(v=255-v),y>127&&(y=255-y),e[d]=p,e[d+1]=v,e[d+2]=y}while(--c)}while(--a)},Vk=function(t){var e=this.threshold()*255,n=t.data,r=n.length,l;for(l=0;l<r;l+=1)n[l]=n[l]<e?0:255};E.addGetterSetter(Q,"threshold",.5,X(),E.afterSetFilter);wi.Util._assign(wi,{Arc:cr,Arrow:Ei,Circle:Pl,Ellipse:Qr,Image:gn,Label:Th,Tag:Pi,Line:dr,Path:Ce,Rect:$s,RegularPolygon:Ti,Ring:Ri,Sprite:Yn,Star:Xr,Text:Ue,TextPath:nt,Transformer:xe,Wedge:fr,Filters:{Blur:yk,Brighten:Sk,Contrast:_k,Emboss:wk,Enhance:xk,Grayscale:kk,HSL:Ck,HSV:Ek,Invert:Pk,Kaleidoscope:Nk,Mask:Dk,Noise:Fk,Pixelate:Gk,Posterize:Bk,RGB:jk,RGBA:Hk,Sepia:Uk,Solarize:Wk,Threshold:Vk}});var i1={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=function(e){var n={},r=he,l=vs,a=Object.assign;function o(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),S=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),F=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}function j(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case v:return"Fragment";case p:return"Portal";case m:return"Profiler";case y:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case P:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case w:return s=i.displayName||null,s!==null?s:j(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return j(i(s))}catch{}}return null}function B(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(s);case 8:return s===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function H(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function I(i){if(H(i)!==i)throw Error(o(188))}function D(i){var s=i.alternate;if(!s){if(s=H(i),s===null)throw Error(o(188));return s!==i?null:i}for(var u=i,f=s;;){var h=u.return;if(h===null)break;var g=h.alternate;if(g===null){if(f=h.return,f!==null){u=f;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===u)return I(h),i;if(g===f)return I(h),s;g=g.sibling}throw Error(o(188))}if(u.return!==f.return)u=h,f=g;else{for(var _=!1,N=h.child;N;){if(N===u){_=!0,u=h,f=g;break}if(N===f){_=!0,f=h,u=g;break}N=N.sibling}if(!_){for(N=g.child;N;){if(N===u){_=!0,u=g,f=h;break}if(N===f){_=!0,f=g,u=h;break}N=N.sibling}if(!_)throw Error(o(189))}}if(u.alternate!==f)throw Error(o(190))}if(u.tag!==3)throw Error(o(188));return u.stateNode.current===u?i:s}function K(i){return i=D(i),i!==null?W(i):null}function W(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=W(i);if(s!==null)return s;i=i.sibling}return null}function se(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=se(i);if(s!==null)return s}i=i.sibling}return null}var ie=Array.isArray,de=e.getPublicInstance,Ne=e.getRootHostContext,q=e.getChildHostContext,le=e.prepareForCommit,J=e.resetAfterCommit,oe=e.createInstance,ge=e.appendInitialChild,pt=e.finalizeInitialChildren,Ze=e.prepareUpdate,qr=e.shouldSetTextContent,Mn=e.createTextInstance,Jr=e.scheduleTimeout,f1=e.cancelTimeout,Nu=e.noTimeout,bs=e.isPrimaryRenderer,jt=e.supportsMutation,ea=e.supportsPersistence,$t=e.supportsHydration,h1=e.getInstanceFromNode,p1=e.preparePortalMount,g1=e.getCurrentEventPriority,v1=e.detachDeletedInstance,m1=e.supportsMicrotasks,y1=e.scheduleMicrotask,Tl=e.supportsTestSelectors,S1=e.findFiberRoot,_1=e.getBoundingRect,w1=e.getTextContent,Rl=e.isHiddenSubtree,x1=e.matchAccessibilityRole,k1=e.setFocusIfFocusable,C1=e.setupIntersectionObserver,E1=e.appendChild,P1=e.appendChildToContainer,T1=e.commitTextUpdate,R1=e.commitMount,N1=e.commitUpdate,L1=e.insertBefore,M1=e.insertInContainerBefore,O1=e.removeChild,A1=e.removeChildFromContainer,Lh=e.resetTextContent,z1=e.hideInstance,I1=e.hideTextInstance,D1=e.unhideInstance,F1=e.unhideTextInstance,G1=e.clearContainer,B1=e.cloneInstance,Mh=e.createContainerChildSet,Oh=e.appendChildToContainerChildSet,j1=e.finalizeContainerChildren,Lu=e.replaceContainerChildren,Ah=e.cloneHiddenInstance,zh=e.cloneHiddenTextInstance,H1=e.canHydrateInstance,U1=e.canHydrateTextInstance,W1=e.canHydrateSuspenseInstance,Ih=e.isSuspenseInstancePending,Mu=e.isSuspenseInstanceFallback,V1=e.getSuspenseInstanceFallbackErrorDetails,Y1=e.registerSuspenseInstanceRetry,ta=e.getNextHydratableSibling,Q1=e.getFirstHydratableChild,X1=e.getFirstHydratableChildWithinContainer,K1=e.getFirstHydratableChildWithinSuspenseInstance,q1=e.hydrateInstance,J1=e.hydrateTextInstance,Z1=e.hydrateSuspenseInstance,$1=e.getNextHydratableInstanceAfterSuspenseInstance,b1=e.commitHydratedContainer,e2=e.commitHydratedSuspenseInstance,t2=e.clearSuspenseBoundary,n2=e.clearSuspenseBoundaryFromContainer,r2=e.shouldDeleteUnhydratedTailInstances,i2=e.didNotMatchHydratedContainerTextInstance,l2=e.didNotMatchHydratedTextInstance,Ou;function Nl(i){if(Ou===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Ou=s&&s[1]||""}return`
`+Ou+i}var Au=!1;function zu(i,s){if(!i||Au)return"";Au=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var f=Y}Reflect.construct(i,[],s)}else{try{s.call()}catch(Y){f=Y}i.call(s.prototype)}else{try{throw Error()}catch(Y){f=Y}i()}}catch(Y){if(Y&&f&&typeof Y.stack=="string"){for(var h=Y.stack.split(`
`),g=f.stack.split(`
`),_=h.length-1,N=g.length-1;1<=_&&0<=N&&h[_]!==g[N];)N--;for(;1<=_&&0<=N;_--,N--)if(h[_]!==g[N]){if(_!==1||N!==1)do if(_--,N--,0>N||h[_]!==g[N]){var z=`
`+h[_].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=_&&0<=N);break}}}finally{Au=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Nl(i):""}var s2=Object.prototype.hasOwnProperty,Iu=[],Li=-1;function hr(i){return{current:i}}function Le(i){0>Li||(i.current=Iu[Li],Iu[Li]=null,Li--)}function Te(i,s){Li++,Iu[Li]=i.current,i.current=s}var pr={},gt=hr(pr),Nt=hr(!1),Zr=pr;function Mi(i,s){var u=i.type.contextTypes;if(!u)return pr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var h={},g;for(g in u)h[g]=s[g];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=h),h}function Lt(i){return i=i.childContextTypes,i!=null}function na(){Le(Nt),Le(gt)}function Dh(i,s,u){if(gt.current!==pr)throw Error(o(168));Te(gt,s),Te(Nt,u)}function Fh(i,s,u){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var h in f)if(!(h in s))throw Error(o(108,B(i)||"Unknown",h));return a({},u,f)}function ra(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pr,Zr=gt.current,Te(gt,i),Te(Nt,Nt.current),!0}function Gh(i,s,u){var f=i.stateNode;if(!f)throw Error(o(169));u?(i=Fh(i,s,Zr),f.__reactInternalMemoizedMergedChildContext=i,Le(Nt),Le(gt),Te(gt,i)):Le(Nt),Te(Nt,u)}var vn=Math.clz32?Math.clz32:u2,a2=Math.log,o2=Math.LN2;function u2(i){return i>>>=0,i===0?32:31-(a2(i)/o2|0)|0}var ia=64,la=4194304;function Ll(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function sa(i,s){var u=i.pendingLanes;if(u===0)return 0;var f=0,h=i.suspendedLanes,g=i.pingedLanes,_=u&268435455;if(_!==0){var N=_&~h;N!==0?f=Ll(N):(g&=_,g!==0&&(f=Ll(g)))}else _=u&~h,_!==0?f=Ll(_):g!==0&&(f=Ll(g));if(f===0)return 0;if(s!==0&&s!==f&&!(s&h)&&(h=f&-f,g=s&-s,h>=g||h===16&&(g&4194240)!==0))return s;if(f&4&&(f|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)u=31-vn(s),h=1<<u,f|=i[u],s&=~h;return f}function c2(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d2(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes;0<g;){var _=31-vn(g),N=1<<_,z=h[_];z===-1?(!(N&u)||N&f)&&(h[_]=c2(N,s)):z<=s&&(i.expiredLanes|=N),g&=~N}}function Du(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Bh(){var i=ia;return ia<<=1,!(ia&4194240)&&(ia=64),i}function Fu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ml(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-vn(s),i[s]=u}function f2(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var h=31-vn(u),g=1<<h;s[h]=0,f[h]=-1,i[h]=-1,u&=~g}}function Gu(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-vn(u),h=1<<f;h&s|i[f]&s&&(i[f]|=s),u&=~h}}var ye=0;function jh(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Bu=l.unstable_scheduleCallback,Hh=l.unstable_cancelCallback,h2=l.unstable_shouldYield,p2=l.unstable_requestPaint,rt=l.unstable_now,ju=l.unstable_ImmediatePriority,g2=l.unstable_UserBlockingPriority,Hu=l.unstable_NormalPriority,v2=l.unstable_IdlePriority,aa=null,On=null;function m2(i){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(aa,i,void 0,(i.current.flags&128)===128)}catch{}}function y2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var mn=typeof Object.is=="function"?Object.is:y2,Qn=null,oa=!1,Uu=!1;function Uh(i){Qn===null?Qn=[i]:Qn.push(i)}function S2(i){oa=!0,Uh(i)}function An(){if(!Uu&&Qn!==null){Uu=!0;var i=0,s=ye;try{var u=Qn;for(ye=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Qn=null,oa=!1}catch(h){throw Qn!==null&&(Qn=Qn.slice(i+1)),Bu(ju,An),h}finally{ye=s,Uu=!1}}return null}var Oi=[],Ai=0,ua=null,ca=0,bt=[],en=0,$r=null,Xn=1,Kn="";function br(i,s){Oi[Ai++]=ca,Oi[Ai++]=ua,ua=i,ca=s}function Wh(i,s,u){bt[en++]=Xn,bt[en++]=Kn,bt[en++]=$r,$r=i;var f=Xn;i=Kn;var h=32-vn(f)-1;f&=~(1<<h),u+=1;var g=32-vn(s)+h;if(30<g){var _=h-h%5;g=(f&(1<<_)-1).toString(32),f>>=_,h-=_,Xn=1<<32-vn(s)+h|u<<h|f,Kn=g+i}else Xn=1<<g|u<<h|f,Kn=i}function Wu(i){i.return!==null&&(br(i,1),Wh(i,1,0))}function Vu(i){for(;i===ua;)ua=Oi[--Ai],Oi[Ai]=null,ca=Oi[--Ai],Oi[Ai]=null;for(;i===$r;)$r=bt[--en],bt[en]=null,Kn=bt[--en],bt[en]=null,Xn=bt[--en],bt[en]=null}var Ht=null,tn=null,ze=!1,Ol=!1,yn=null;function Vh(i,s){var u=an(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function Yh(i,s){switch(i.tag){case 5:return s=H1(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,Ht=i,tn=Q1(s),!0):!1;case 6:return s=U1(s,i.pendingProps),s!==null?(i.stateNode=s,Ht=i,tn=null,!0):!1;case 13:if(s=W1(s),s!==null){var u=$r!==null?{id:Xn,overflow:Kn}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=an(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Ht=i,tn=null,!0}return!1;default:return!1}}function Yu(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Qu(i){if(ze){var s=tn;if(s){var u=s;if(!Yh(i,s)){if(Yu(i))throw Error(o(418));s=ta(u);var f=Ht;s&&Yh(i,s)?Vh(f,u):(i.flags=i.flags&-4097|2,ze=!1,Ht=i)}}else{if(Yu(i))throw Error(o(418));i.flags=i.flags&-4097|2,ze=!1,Ht=i}}}function Qh(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ht=i}function da(i){if(!$t||i!==Ht)return!1;if(!ze)return Qh(i),ze=!0,!1;if(i.tag!==3&&(i.tag!==5||r2(i.type)&&!qr(i.type,i.memoizedProps))){var s=tn;if(s){if(Yu(i))throw Xh(),Error(o(418));for(;s;)Vh(i,s),s=ta(s)}}if(Qh(i),i.tag===13){if(!$t)throw Error(o(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));tn=$1(i)}else tn=Ht?ta(i.stateNode):null;return!0}function Xh(){for(var i=tn;i;)i=ta(i)}function zi(){$t&&(tn=Ht=null,Ol=ze=!1)}function Xu(i){yn===null?yn=[i]:yn.push(i)}var _2=c.ReactCurrentBatchConfig;function fa(i,s){if(mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var h=u[f];if(!s2.call(s,h)||!mn(i[h],s[h]))return!1}return!0}function w2(i){switch(i.tag){case 5:return Nl(i.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return i=zu(i.type,!1),i;case 11:return i=zu(i.type.render,!1),i;case 1:return i=zu(i.type,!0),i;default:return""}}function Al(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(o(309));var f=u.stateNode}if(!f)throw Error(o(147,i));var h=f,g=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(_){var N=h.refs;_===null?delete N[g]:N[g]=_},s._stringRef=g,s)}if(typeof i!="string")throw Error(o(284));if(!u._owner)throw Error(o(290,i))}return i}function ha(i,s){throw i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Kh(i){var s=i._init;return s(i._payload)}function qh(i){function s(O,L){if(i){var G=O.deletions;G===null?(O.deletions=[L],O.flags|=16):G.push(L)}}function u(O,L){if(!i)return null;for(;L!==null;)s(O,L),L=L.sibling;return null}function f(O,L){for(O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(O,L){return O=wr(O,L),O.index=0,O.sibling=null,O}function g(O,L,G){return O.index=G,i?(G=O.alternate,G!==null?(G=G.index,G<L?(O.flags|=2,L):G):(O.flags|=2,L)):(O.flags|=1048576,L)}function _(O){return i&&O.alternate===null&&(O.flags|=2),O}function N(O,L,G,$){return L===null||L.tag!==6?(L=Uc(G,O.mode,$),L.return=O,L):(L=h(L,G),L.return=O,L)}function z(O,L,G,$){var ae=G.type;return ae===v?re(O,L,G.props.children,$,G.key):L!==null&&(L.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===C&&Kh(ae)===L.type)?($=h(L,G.props),$.ref=Al(O,L,G),$.return=O,$):($=Va(G.type,G.key,G.props,null,O.mode,$),$.ref=Al(O,L,G),$.return=O,$)}function Y(O,L,G,$){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Wc(G,O.mode,$),L.return=O,L):(L=h(L,G.children||[]),L.return=O,L)}function re(O,L,G,$,ae){return L===null||L.tag!==7?(L=si(G,O.mode,$,ae),L.return=O,L):(L=h(L,G),L.return=O,L)}function ue(O,L,G){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Uc(""+L,O.mode,G),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return G=Va(L.type,L.key,L.props,null,O.mode,G),G.ref=Al(O,null,L),G.return=O,G;case p:return L=Wc(L,O.mode,G),L.return=O,L;case C:var $=L._init;return ue(O,$(L._payload),G)}if(ie(L)||A(L))return L=si(L,O.mode,G,null),L.return=O,L;ha(O,L)}return null}function Z(O,L,G,$){var ae=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ae!==null?null:N(O,L,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return G.key===ae?z(O,L,G,$):null;case p:return G.key===ae?Y(O,L,G,$):null;case C:return ae=G._init,Z(O,L,ae(G._payload),$)}if(ie(G)||A(G))return ae!==null?null:re(O,L,G,$,null);ha(O,G)}return null}function Me(O,L,G,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number")return O=O.get(G)||null,N(L,O,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return O=O.get($.key===null?G:$.key)||null,z(L,O,$,ae);case p:return O=O.get($.key===null?G:$.key)||null,Y(L,O,$,ae);case C:var fe=$._init;return Me(O,L,G,fe($._payload),ae)}if(ie($)||A($))return O=O.get(G)||null,re(L,O,$,ae,null);ha(L,$)}return null}function Ee(O,L,G,$){for(var ae=null,fe=null,ce=L,Se=L=0,st=null;ce!==null&&Se<G.length;Se++){ce.index>Se?(st=ce,ce=null):st=ce.sibling;var _e=Z(O,ce,G[Se],$);if(_e===null){ce===null&&(ce=st);break}i&&ce&&_e.alternate===null&&s(O,ce),L=g(_e,L,Se),fe===null?ae=_e:fe.sibling=_e,fe=_e,ce=st}if(Se===G.length)return u(O,ce),ze&&br(O,Se),ae;if(ce===null){for(;Se<G.length;Se++)ce=ue(O,G[Se],$),ce!==null&&(L=g(ce,L,Se),fe===null?ae=ce:fe.sibling=ce,fe=ce);return ze&&br(O,Se),ae}for(ce=f(O,ce);Se<G.length;Se++)st=Me(ce,O,Se,G[Se],$),st!==null&&(i&&st.alternate!==null&&ce.delete(st.key===null?Se:st.key),L=g(st,L,Se),fe===null?ae=st:fe.sibling=st,fe=st);return i&&ce.forEach(function(xr){return s(O,xr)}),ze&&br(O,Se),ae}function zt(O,L,G,$){var ae=A(G);if(typeof ae!="function")throw Error(o(150));if(G=ae.call(G),G==null)throw Error(o(151));for(var fe=ae=null,ce=L,Se=L=0,st=null,_e=G.next();ce!==null&&!_e.done;Se++,_e=G.next()){ce.index>Se?(st=ce,ce=null):st=ce.sibling;var xr=Z(O,ce,_e.value,$);if(xr===null){ce===null&&(ce=st);break}i&&ce&&xr.alternate===null&&s(O,ce),L=g(xr,L,Se),fe===null?ae=xr:fe.sibling=xr,fe=xr,ce=st}if(_e.done)return u(O,ce),ze&&br(O,Se),ae;if(ce===null){for(;!_e.done;Se++,_e=G.next())_e=ue(O,_e.value,$),_e!==null&&(L=g(_e,L,Se),fe===null?ae=_e:fe.sibling=_e,fe=_e);return ze&&br(O,Se),ae}for(ce=f(O,ce);!_e.done;Se++,_e=G.next())_e=Me(ce,O,Se,_e.value,$),_e!==null&&(i&&_e.alternate!==null&&ce.delete(_e.key===null?Se:_e.key),L=g(_e,L,Se),fe===null?ae=_e:fe.sibling=_e,fe=_e);return i&&ce.forEach(function(Z2){return s(O,Z2)}),ze&&br(O,Se),ae}function $n(O,L,G,$){if(typeof G=="object"&&G!==null&&G.type===v&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case d:e:{for(var ae=G.key,fe=L;fe!==null;){if(fe.key===ae){if(ae=G.type,ae===v){if(fe.tag===7){u(O,fe.sibling),L=h(fe,G.props.children),L.return=O,O=L;break e}}else if(fe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===C&&Kh(ae)===fe.type){u(O,fe.sibling),L=h(fe,G.props),L.ref=Al(O,fe,G),L.return=O,O=L;break e}u(O,fe);break}else s(O,fe);fe=fe.sibling}G.type===v?(L=si(G.props.children,O.mode,$,G.key),L.return=O,O=L):($=Va(G.type,G.key,G.props,null,O.mode,$),$.ref=Al(O,L,G),$.return=O,O=$)}return _(O);case p:e:{for(fe=G.key;L!==null;){if(L.key===fe)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){u(O,L.sibling),L=h(L,G.children||[]),L.return=O,O=L;break e}else{u(O,L);break}else s(O,L);L=L.sibling}L=Wc(G,O.mode,$),L.return=O,O=L}return _(O);case C:return fe=G._init,$n(O,L,fe(G._payload),$)}if(ie(G))return Ee(O,L,G,$);if(A(G))return zt(O,L,G,$);ha(O,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,L!==null&&L.tag===6?(u(O,L.sibling),L=h(L,G),L.return=O,O=L):(u(O,L),L=Uc(G,O.mode,$),L.return=O,O=L),_(O)):u(O,L)}return $n}var Ii=qh(!0),Jh=qh(!1),pa=hr(null),ga=null,Di=null,Ku=null;function qu(){Ku=Di=ga=null}function Zh(i,s,u){bs?(Te(pa,s._currentValue),s._currentValue=u):(Te(pa,s._currentValue2),s._currentValue2=u)}function Ju(i){var s=pa.current;Le(pa),bs?i._currentValue=s:i._currentValue2=s}function Zu(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function Fi(i,s){ga=i,Ku=Di=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Mt=!0),i.firstContext=null)}function nn(i){var s=bs?i._currentValue:i._currentValue2;if(Ku!==i)if(i={context:i,memoizedValue:s,next:null},Di===null){if(ga===null)throw Error(o(308));Di=i,ga.dependencies={lanes:0,firstContext:i}}else Di=Di.next=i;return s}var ei=null;function $u(i){ei===null?ei=[i]:ei.push(i)}function $h(i,s,u,f){var h=s.interleaved;return h===null?(u.next=u,$u(s)):(u.next=h.next,h.next=u),s.interleaved=u,zn(i,f)}function zn(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var gr=!1;function bu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function qn(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function vr(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,pe&2){var h=f.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),f.pending=s,zn(i,u)}return h=f.interleaved,h===null?(s.next=s,$u(f)):(s.next=h.next,h.next=s),f.interleaved=s,zn(i,u)}function va(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Gu(i,u)}}function ep(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var h=null,g=null;if(u=u.firstBaseUpdate,u!==null){do{var _={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};g===null?h=g=_:g=g.next=_,u=u.next}while(u!==null);g===null?h=g=s:g=g.next=s}else h=g=s;u={baseState:f.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function ma(i,s,u,f){var h=i.updateQueue;gr=!1;var g=h.firstBaseUpdate,_=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var z=N,Y=z.next;z.next=null,_===null?g=Y:_.next=Y,_=z;var re=i.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==_&&(N===null?re.firstBaseUpdate=Y:N.next=Y,re.lastBaseUpdate=z))}if(g!==null){var ue=h.baseState;_=0,re=Y=z=null,N=g;do{var Z=N.lane,Me=N.eventTime;if((f&Z)===Z){re!==null&&(re=re.next={eventTime:Me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Ee=i,zt=N;switch(Z=s,Me=u,zt.tag){case 1:if(Ee=zt.payload,typeof Ee=="function"){ue=Ee.call(Me,ue,Z);break e}ue=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=zt.payload,Z=typeof Ee=="function"?Ee.call(Me,ue,Z):Ee,Z==null)break e;ue=a({},ue,Z);break e;case 2:gr=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,Z=h.effects,Z===null?h.effects=[N]:Z.push(N))}else Me={eventTime:Me,lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(Y=re=Me,z=ue):re=re.next=Me,_|=Z;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);if(re===null&&(z=ue),h.baseState=z,h.firstBaseUpdate=Y,h.lastBaseUpdate=re,s=h.shared.interleaved,s!==null){h=s;do _|=h.lane,h=h.next;while(h!==s)}else g===null&&(h.shared.lanes=0);ni|=_,i.lanes=_,i.memoizedState=ue}}function tp(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],h=f.callback;if(h!==null){if(f.callback=null,f=u,typeof h!="function")throw Error(o(191,h));h.call(f)}}}var zl={},rn=hr(zl),Il=hr(zl),Gi=hr(zl);function In(i){if(i===zl)throw Error(o(174));return i}function ec(i,s){Te(Gi,s),Te(Il,i),Te(rn,zl),i=Ne(s),Le(rn),Te(rn,i)}function Bi(){Le(rn),Le(Il),Le(Gi)}function np(i){var s=In(Gi.current),u=In(rn.current);s=q(u,i.type,s),u!==s&&(Te(Il,i),Te(rn,s))}function tc(i){Il.current===i&&(Le(rn),Le(Il))}var Fe=hr(0);function ya(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ih(u)||Mu(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nc=[];function rc(){for(var i=0;i<nc.length;i++){var s=nc[i];bs?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}nc.length=0}var Sa=c.ReactCurrentDispatcher,ic=c.ReactCurrentBatchConfig,ti=0,Ge=null,$e=null,it=null,_a=!1,Dl=!1,Fl=0,x2=0;function vt(){throw Error(o(321))}function lc(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!mn(i[u],s[u]))return!1;return!0}function sc(i,s,u,f,h,g){if(ti=g,Ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Sa.current=i===null||i.memoizedState===null?P2:T2,i=u(f,h),Dl){g=0;do{if(Dl=!1,Fl=0,25<=g)throw Error(o(301));g+=1,it=$e=null,s.updateQueue=null,Sa.current=R2,i=u(f,h)}while(Dl)}if(Sa.current=ka,s=$e!==null&&$e.next!==null,ti=0,it=$e=Ge=null,_a=!1,s)throw Error(o(300));return i}function ac(){var i=Fl!==0;return Fl=0,i}function Dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ge.memoizedState=it=i:it=it.next=i,it}function ln(){if($e===null){var i=Ge.alternate;i=i!==null?i.memoizedState:null}else i=$e.next;var s=it===null?Ge.memoizedState:it.next;if(s!==null)it=s,$e=i;else{if(i===null)throw Error(o(310));$e=i,i={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},it===null?Ge.memoizedState=it=i:it=it.next=i}return it}function Gl(i,s){return typeof s=="function"?s(i):s}function oc(i){var s=ln(),u=s.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=i;var f=$e,h=f.baseQueue,g=u.pending;if(g!==null){if(h!==null){var _=h.next;h.next=g.next,g.next=_}f.baseQueue=h=g,u.pending=null}if(h!==null){g=h.next,f=f.baseState;var N=_=null,z=null,Y=g;do{var re=Y.lane;if((ti&re)===re)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),f=Y.hasEagerState?Y.eagerState:i(f,Y.action);else{var ue={lane:re,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(N=z=ue,_=f):z=z.next=ue,Ge.lanes|=re,ni|=re}Y=Y.next}while(Y!==null&&Y!==g);z===null?_=f:z.next=N,mn(f,s.memoizedState)||(Mt=!0),s.memoizedState=f,s.baseState=_,s.baseQueue=z,u.lastRenderedState=f}if(i=u.interleaved,i!==null){h=i;do g=h.lane,Ge.lanes|=g,ni|=g,h=h.next;while(h!==i)}else h===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function uc(i){var s=ln(),u=s.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=i;var f=u.dispatch,h=u.pending,g=s.memoizedState;if(h!==null){u.pending=null;var _=h=h.next;do g=i(g,_.action),_=_.next;while(_!==h);mn(g,s.memoizedState)||(Mt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),u.lastRenderedState=g}return[g,f]}function rp(){}function ip(i,s){var u=Ge,f=ln(),h=s(),g=!mn(f.memoizedState,h);if(g&&(f.memoizedState=h,Mt=!0),f=f.queue,cc(ap.bind(null,u,f,i),[i]),f.getSnapshot!==s||g||it!==null&&it.memoizedState.tag&1){if(u.flags|=2048,Bl(9,sp.bind(null,u,f,h,s),void 0,null),lt===null)throw Error(o(349));ti&30||lp(u,s,h)}return h}function lp(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function sp(i,s,u,f){s.value=u,s.getSnapshot=f,op(s)&&up(i)}function ap(i,s,u){return u(function(){op(s)&&up(i)})}function op(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!mn(i,u)}catch{return!0}}function up(i){var s=zn(i,1);s!==null&&sn(s,i,1,-1)}function cp(i){var s=Dn();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:i},s.queue=i,i=i.dispatch=E2.bind(null,Ge,i),[s.memoizedState,i]}function Bl(i,s,u,f){return i={tag:i,create:s,destroy:u,deps:f,next:null},s=Ge.updateQueue,s===null?(s={lastEffect:null,stores:null},Ge.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i)),i}function dp(){return ln().memoizedState}function wa(i,s,u,f){var h=Dn();Ge.flags|=i,h.memoizedState=Bl(1|s,u,void 0,f===void 0?null:f)}function xa(i,s,u,f){var h=ln();f=f===void 0?null:f;var g=void 0;if($e!==null){var _=$e.memoizedState;if(g=_.destroy,f!==null&&lc(f,_.deps)){h.memoizedState=Bl(s,u,g,f);return}}Ge.flags|=i,h.memoizedState=Bl(1|s,u,g,f)}function fp(i,s){return wa(8390656,8,i,s)}function cc(i,s){return xa(2048,8,i,s)}function hp(i,s){return xa(4,2,i,s)}function pp(i,s){return xa(4,4,i,s)}function gp(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function vp(i,s,u){return u=u!=null?u.concat([i]):null,xa(4,4,gp.bind(null,s,i),u)}function dc(){}function mp(i,s){var u=ln();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&lc(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function yp(i,s){var u=ln();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&lc(s,f[1])?f[0]:(i=i(),u.memoizedState=[i,s],i)}function Sp(i,s,u){return ti&21?(mn(u,s)||(u=Bh(),Ge.lanes|=u,ni|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Mt=!0),i.memoizedState=u)}function k2(i,s){var u=ye;ye=u!==0&&4>u?u:4,i(!0);var f=ic.transition;ic.transition={};try{i(!1),s()}finally{ye=u,ic.transition=f}}function _p(){return ln().memoizedState}function C2(i,s,u){var f=Sr(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},wp(i))xp(s,u);else if(u=$h(i,s,u,f),u!==null){var h=St();sn(u,i,f,h),kp(u,s,f)}}function E2(i,s,u){var f=Sr(i),h={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(wp(i))xp(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,N=g(_,u);if(h.hasEagerState=!0,h.eagerState=N,mn(N,_)){var z=s.interleaved;z===null?(h.next=h,$u(s)):(h.next=z.next,z.next=h),s.interleaved=h;return}}catch{}finally{}u=$h(i,s,h,f),u!==null&&(h=St(),sn(u,i,f,h),kp(u,s,f))}}function wp(i){var s=i.alternate;return i===Ge||s!==null&&s===Ge}function xp(i,s){Dl=_a=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function kp(i,s,u){if(u&4194240){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Gu(i,u)}}var ka={readContext:nn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},P2={readContext:nn,useCallback:function(i,s){return Dn().memoizedState=[i,s===void 0?null:s],i},useContext:nn,useEffect:fp,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,wa(4194308,4,gp.bind(null,s,i),u)},useLayoutEffect:function(i,s){return wa(4194308,4,i,s)},useInsertionEffect:function(i,s){return wa(4,2,i,s)},useMemo:function(i,s){var u=Dn();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var f=Dn();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=C2.bind(null,Ge,i),[f.memoizedState,i]},useRef:function(i){var s=Dn();return i={current:i},s.memoizedState=i},useState:cp,useDebugValue:dc,useDeferredValue:function(i){return Dn().memoizedState=i},useTransition:function(){var i=cp(!1),s=i[0];return i=k2.bind(null,i[1]),Dn().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var f=Ge,h=Dn();if(ze){if(u===void 0)throw Error(o(407));u=u()}else{if(u=s(),lt===null)throw Error(o(349));ti&30||lp(f,s,u)}h.memoizedState=u;var g={value:u,getSnapshot:s};return h.queue=g,fp(ap.bind(null,f,g,i),[i]),f.flags|=2048,Bl(9,sp.bind(null,f,g,u,s),void 0,null),u},useId:function(){var i=Dn(),s=lt.identifierPrefix;if(ze){var u=Kn,f=Xn;u=(f&~(1<<32-vn(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=Fl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=x2++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},T2={readContext:nn,useCallback:mp,useContext:nn,useEffect:cc,useImperativeHandle:vp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:yp,useReducer:oc,useRef:dp,useState:function(){return oc(Gl)},useDebugValue:dc,useDeferredValue:function(i){var s=ln();return Sp(s,$e.memoizedState,i)},useTransition:function(){var i=oc(Gl)[0],s=ln().memoizedState;return[i,s]},useMutableSource:rp,useSyncExternalStore:ip,useId:_p,unstable_isNewReconciler:!1},R2={readContext:nn,useCallback:mp,useContext:nn,useEffect:cc,useImperativeHandle:vp,useInsertionEffect:hp,useLayoutEffect:pp,useMemo:yp,useReducer:uc,useRef:dp,useState:function(){return uc(Gl)},useDebugValue:dc,useDeferredValue:function(i){var s=ln();return $e===null?s.memoizedState=i:Sp(s,$e.memoizedState,i)},useTransition:function(){var i=uc(Gl)[0],s=ln().memoizedState;return[i,s]},useMutableSource:rp,useSyncExternalStore:ip,useId:_p,unstable_isNewReconciler:!1};function Sn(i,s){if(i&&i.defaultProps){s=a({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function fc(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:a({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Ca={isMounted:function(i){return(i=i._reactInternals)?H(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var f=St(),h=Sr(i),g=qn(f,h);g.payload=s,u!=null&&(g.callback=u),s=vr(i,g,h),s!==null&&(sn(s,i,h,f),va(s,i,h))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=St(),h=Sr(i),g=qn(f,h);g.tag=1,g.payload=s,u!=null&&(g.callback=u),s=vr(i,g,h),s!==null&&(sn(s,i,h,f),va(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=St(),f=Sr(i),h=qn(u,f);h.tag=2,s!=null&&(h.callback=s),s=vr(i,h,f),s!==null&&(sn(s,i,f,u),va(s,i,f))}};function Cp(i,s,u,f,h,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,g,_):s.prototype&&s.prototype.isPureReactComponent?!fa(u,f)||!fa(h,g):!0}function Ep(i,s,u){var f=!1,h=pr,g=s.contextType;return typeof g=="object"&&g!==null?g=nn(g):(h=Lt(s)?Zr:gt.current,f=s.contextTypes,g=(f=f!=null)?Mi(i,h):pr),s=new s(u,g),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ca,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=h,i.__reactInternalMemoizedMaskedChildContext=g),s}function Pp(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&Ca.enqueueReplaceState(s,s.state,null)}function hc(i,s,u,f){var h=i.stateNode;h.props=u,h.state=i.memoizedState,h.refs={},bu(i);var g=s.contextType;typeof g=="object"&&g!==null?h.context=nn(g):(g=Lt(s)?Zr:gt.current,h.context=Mi(i,g)),h.state=i.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(fc(i,s,g,u),h.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ca.enqueueReplaceState(h,h.state,null),ma(i,u,h,f),h.state=i.memoizedState),typeof h.componentDidMount=="function"&&(i.flags|=4194308)}function ji(i,s){try{var u="",f=s;do u+=w2(f),f=f.return;while(f);var h=u}catch(g){h=`
Error generating stack: `+g.message+`
`+g.stack}return{value:i,source:s,stack:h,digest:null}}function pc(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function gc(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var N2=typeof WeakMap=="function"?WeakMap:Map;function Tp(i,s,u){u=qn(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){Ga||(Ga=!0,Ic=f),gc(i,s)},u}function Rp(i,s,u){u=qn(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;u.payload=function(){return f(h)},u.callback=function(){gc(i,s)}}var g=i.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(u.callback=function(){gc(i,s),typeof f!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),u}function Np(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new N2;var h=new Set;f.set(s,h)}else h=f.get(s),h===void 0&&(h=new Set,f.set(s,h));h.has(u)||(h.add(u),i=W2.bind(null,i,s,u),s.then(i,i))}function Lp(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Mp(i,s,u,f,h){return i.mode&1?(i.flags|=65536,i.lanes=h,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=qn(-1,1),s.tag=2,vr(u,s,1))),u.lanes|=1),i)}var L2=c.ReactCurrentOwner,Mt=!1;function Ct(i,s,u,f){s.child=i===null?Jh(s,null,u,f):Ii(s,i.child,u,f)}function Op(i,s,u,f,h){u=u.render;var g=s.ref;return Fi(s,h),f=sc(i,s,u,f,g,h),u=ac(),i!==null&&!Mt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h,Jn(i,s,h)):(ze&&u&&Wu(s),s.flags|=1,Ct(i,s,f,h),s.child)}function Ap(i,s,u,f,h){if(i===null){var g=u.type;return typeof g=="function"&&!Hc(g)&&g.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=g,zp(i,s,g,f,h)):(i=Va(u.type,null,f,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!(i.lanes&h)){var _=g.memoizedProps;if(u=u.compare,u=u!==null?u:fa,u(_,f)&&i.ref===s.ref)return Jn(i,s,h)}return s.flags|=1,i=wr(g,f),i.ref=s.ref,i.return=s,s.child=i}function zp(i,s,u,f,h){if(i!==null){var g=i.memoizedProps;if(fa(g,f)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=f=g,(i.lanes&h)!==0)i.flags&131072&&(Mt=!0);else return s.lanes=i.lanes,Jn(i,s,h)}return vc(i,s,u,f,h)}function Ip(i,s,u){var f=s.pendingProps,h=f.children,g=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(Ui,Ut),Ut|=u;else{if(!(u&1073741824))return i=g!==null?g.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Te(Ui,Ut),Ut|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=g!==null?g.baseLanes:u,Te(Ui,Ut),Ut|=f}else g!==null?(f=g.baseLanes|u,s.memoizedState=null):f=u,Te(Ui,Ut),Ut|=f;return Ct(i,s,h,u),s.child}function Dp(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function vc(i,s,u,f,h){var g=Lt(u)?Zr:gt.current;return g=Mi(s,g),Fi(s,h),u=sc(i,s,u,f,g,h),f=ac(),i!==null&&!Mt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~h,Jn(i,s,h)):(ze&&f&&Wu(s),s.flags|=1,Ct(i,s,u,h),s.child)}function Fp(i,s,u,f,h){if(Lt(u)){var g=!0;ra(s)}else g=!1;if(Fi(s,h),s.stateNode===null)Pa(i,s),Ep(s,u,f),hc(s,u,f,h),f=!0;else if(i===null){var _=s.stateNode,N=s.memoizedProps;_.props=N;var z=_.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=nn(Y):(Y=Lt(u)?Zr:gt.current,Y=Mi(s,Y));var re=u.getDerivedStateFromProps,ue=typeof re=="function"||typeof _.getSnapshotBeforeUpdate=="function";ue||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==f||z!==Y)&&Pp(s,_,f,Y),gr=!1;var Z=s.memoizedState;_.state=Z,ma(s,f,_,h),z=s.memoizedState,N!==f||Z!==z||Nt.current||gr?(typeof re=="function"&&(fc(s,u,re,f),z=s.memoizedState),(N=gr||Cp(s,u,N,f,Z,z,Y))?(ue||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=z),_.props=f,_.state=z,_.context=Y,f=N):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{_=s.stateNode,bh(i,s),N=s.memoizedProps,Y=s.type===s.elementType?N:Sn(s.type,N),_.props=Y,ue=s.pendingProps,Z=_.context,z=u.contextType,typeof z=="object"&&z!==null?z=nn(z):(z=Lt(u)?Zr:gt.current,z=Mi(s,z));var Me=u.getDerivedStateFromProps;(re=typeof Me=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==ue||Z!==z)&&Pp(s,_,f,z),gr=!1,Z=s.memoizedState,_.state=Z,ma(s,f,_,h);var Ee=s.memoizedState;N!==ue||Z!==Ee||Nt.current||gr?(typeof Me=="function"&&(fc(s,u,Me,f),Ee=s.memoizedState),(Y=gr||Cp(s,u,Y,f,Z,Ee,z)||!1)?(re||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,Ee,z),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,Ee,z)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Ee),_.props=f,_.state=Ee,_.context=z,f=Y):(typeof _.componentDidUpdate!="function"||N===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),f=!1)}return mc(i,s,u,f,g,h)}function mc(i,s,u,f,h,g){Dp(i,s);var _=(s.flags&128)!==0;if(!f&&!_)return h&&Gh(s,u,!1),Jn(i,s,g);f=s.stateNode,L2.current=s;var N=_&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&_?(s.child=Ii(s,i.child,null,g),s.child=Ii(s,null,N,g)):Ct(i,s,N,g),s.memoizedState=f.state,h&&Gh(s,u,!0),s.child}function Gp(i){var s=i.stateNode;s.pendingContext?Dh(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Dh(i,s.context,!1),ec(i,s.containerInfo)}function Bp(i,s,u,f,h){return zi(),Xu(h),s.flags|=256,Ct(i,s,u,f),s.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function Sc(i){return{baseLanes:i,cachePool:null,transitions:null}}function jp(i,s,u){var f=s.pendingProps,h=Fe.current,g=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=i!==null&&i.memoizedState===null?!1:(h&2)!==0),N?(g=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(h|=1),Te(Fe,h&1),i===null)return Qu(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?Mu(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(_=f.children,i=f.fallback,g?(f=s.mode,g=s.child,_={mode:"hidden",children:_},!(f&1)&&g!==null?(g.childLanes=0,g.pendingProps=_):g=Ya(_,f,0,null),i=si(i,f,u,null),g.return=s,i.return=s,g.sibling=i,s.child=g,s.child.memoizedState=Sc(u),s.memoizedState=yc,i):_c(s,_));if(h=i.memoizedState,h!==null&&(N=h.dehydrated,N!==null))return M2(i,s,_,f,N,h,u);if(g){g=f.fallback,_=s.mode,h=i.child,N=h.sibling;var z={mode:"hidden",children:f.children};return!(_&1)&&s.child!==h?(f=s.child,f.childLanes=0,f.pendingProps=z,s.deletions=null):(f=wr(h,z),f.subtreeFlags=h.subtreeFlags&14680064),N!==null?g=wr(N,g):(g=si(g,_,u,null),g.flags|=2),g.return=s,f.return=s,f.sibling=g,s.child=f,f=g,g=s.child,_=i.child.memoizedState,_=_===null?Sc(u):{baseLanes:_.baseLanes|u,cachePool:null,transitions:_.transitions},g.memoizedState=_,g.childLanes=i.childLanes&~u,s.memoizedState=yc,f}return g=i.child,i=g.sibling,f=wr(g,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=f,s.memoizedState=null,f}function _c(i,s){return s=Ya({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Ea(i,s,u,f){return f!==null&&Xu(f),Ii(s,i.child,null,u),i=_c(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function M2(i,s,u,f,h,g,_){if(u)return s.flags&256?(s.flags&=-257,f=pc(Error(o(422))),Ea(i,s,_,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(g=f.fallback,h=s.mode,f=Ya({mode:"visible",children:f.children},h,0,null),g=si(g,h,_,null),g.flags|=2,f.return=s,g.return=s,f.sibling=g,s.child=f,s.mode&1&&Ii(s,i.child,null,_),s.child.memoizedState=Sc(_),s.memoizedState=yc,g);if(!(s.mode&1))return Ea(i,s,_,null);if(Mu(h))return f=V1(h).digest,g=Error(o(419)),f=pc(g,f,void 0),Ea(i,s,_,f);if(u=(_&i.childLanes)!==0,Mt||u){if(f=lt,f!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(f.suspendedLanes|_)?0:h,h!==0&&h!==g.retryLane&&(g.retryLane=h,zn(i,h),sn(f,i,h,-1))}return jc(),f=pc(Error(o(421))),Ea(i,s,_,f)}return Ih(h)?(s.flags|=128,s.child=i.child,s=V2.bind(null,i),Y1(h,s),null):(i=g.treeContext,$t&&(tn=K1(h),Ht=s,ze=!0,yn=null,Ol=!1,i!==null&&(bt[en++]=Xn,bt[en++]=Kn,bt[en++]=$r,Xn=i.id,Kn=i.overflow,$r=s)),s=_c(s,f.children),s.flags|=4096,s)}function Hp(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Zu(i.return,s,u)}function wc(i,s,u,f,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=f,g.tail=u,g.tailMode=h)}function Up(i,s,u){var f=s.pendingProps,h=f.revealOrder,g=f.tail;if(Ct(i,s,f.children,u),f=Fe.current,f&2)f=f&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hp(i,u,s);else if(i.tag===19)Hp(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Te(Fe,f),!(s.mode&1))s.memoizedState=null;else switch(h){case"forwards":for(u=s.child,h=null;u!==null;)i=u.alternate,i!==null&&ya(i)===null&&(h=u),u=u.sibling;u=h,u===null?(h=s.child,s.child=null):(h=u.sibling,u.sibling=null),wc(s,!1,h,u,g);break;case"backwards":for(u=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&ya(i)===null){s.child=h;break}i=h.sibling,h.sibling=u,u=h,h=i}wc(s,!0,u,null,g);break;case"together":wc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Pa(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Jn(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),ni|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,u=wr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=wr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function O2(i,s,u){switch(s.tag){case 3:Gp(s),zi();break;case 5:np(s);break;case 1:Lt(s.type)&&ra(s);break;case 4:ec(s,s.stateNode.containerInfo);break;case 10:Zh(s,s.type._context,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Te(Fe,Fe.current&1),s.flags|=128,null):u&s.child.childLanes?jp(i,s,u):(Te(Fe,Fe.current&1),i=Jn(i,s,u),i!==null?i.sibling:null);Te(Fe,Fe.current&1);break;case 19:if(f=(u&s.childLanes)!==0,i.flags&128){if(f)return Up(i,s,u);s.flags|=128}var h=s.memoizedState;if(h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Te(Fe,Fe.current),f)break;return null;case 22:case 23:return s.lanes=0,Ip(i,s,u)}return Jn(i,s,u)}function Fn(i){i.flags|=4}function Wp(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var jl,Hl,Ta,Ra;if(jt)jl=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)ge(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Hl=function(){},Ta=function(i,s,u,f,h){if(i=i.memoizedProps,i!==f){var g=s.stateNode,_=In(rn.current);u=Ze(g,u,i,f,h,_),(s.updateQueue=u)&&Fn(s)}},Ra=function(i,s,u,f){u!==f&&Fn(s)};else if(ea){jl=function(i,s,u,f){for(var h=s.child;h!==null;){if(h.tag===5){var g=h.stateNode;u&&f&&(g=Ah(g,h.type,h.memoizedProps,h)),ge(i,g)}else if(h.tag===6)g=h.stateNode,u&&f&&(g=zh(g,h.memoizedProps,h)),ge(i,g);else if(h.tag!==4){if(h.tag===22&&h.memoizedState!==null)g=h.child,g!==null&&(g.return=h),jl(i,h,!0,!0);else if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};var Vp=function(i,s,u,f){for(var h=s.child;h!==null;){if(h.tag===5){var g=h.stateNode;u&&f&&(g=Ah(g,h.type,h.memoizedProps,h)),Oh(i,g)}else if(h.tag===6)g=h.stateNode,u&&f&&(g=zh(g,h.memoizedProps,h)),Oh(i,g);else if(h.tag!==4){if(h.tag===22&&h.memoizedState!==null)g=h.child,g!==null&&(g.return=h),Vp(i,h,!0,!0);else if(h.child!==null){h.child.return=h,h=h.child;continue}}if(h===s)break;for(;h.sibling===null;){if(h.return===null||h.return===s)return;h=h.return}h.sibling.return=h.return,h=h.sibling}};Hl=function(i,s){var u=s.stateNode;if(!Wp(i,s)){i=u.containerInfo;var f=Mh(i);Vp(f,s,!1,!1),u.pendingChildren=f,Fn(s),j1(i,f)}},Ta=function(i,s,u,f,h){var g=i.stateNode,_=i.memoizedProps;if((i=Wp(i,s))&&_===f)s.stateNode=g;else{var N=s.stateNode,z=In(rn.current),Y=null;_!==f&&(Y=Ze(N,u,_,f,h,z)),i&&Y===null?s.stateNode=g:(g=B1(g,Y,u,_,f,s,i,N),pt(g,u,f,h,z)&&Fn(s),s.stateNode=g,i?Fn(s):jl(g,s,!1,!1))}},Ra=function(i,s,u,f){u!==f?(i=In(Gi.current),u=In(rn.current),s.stateNode=Mn(f,i,u,s),Fn(s)):s.stateNode=i.stateNode}}else Hl=function(){},Ta=function(){},Ra=function(){};function Ul(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function mt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var h=i.child;h!==null;)u|=h.lanes|h.childLanes,f|=h.subtreeFlags&14680064,f|=h.flags&14680064,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)u|=h.lanes|h.childLanes,f|=h.subtreeFlags,f|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function A2(i,s,u){var f=s.pendingProps;switch(Vu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return Lt(s.type)&&na(),mt(s),null;case 3:return u=s.stateNode,Bi(),Le(Nt),Le(gt),rc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(da(s)?Fn(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,yn!==null&&(Gc(yn),yn=null))),Hl(i,s),mt(s),null;case 5:tc(s),u=In(Gi.current);var h=s.type;if(i!==null&&s.stateNode!=null)Ta(i,s,h,f,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(o(166));return mt(s),null}if(i=In(rn.current),da(s)){if(!$t)throw Error(o(175));i=q1(s.stateNode,s.type,s.memoizedProps,u,i,s,!Ol),s.updateQueue=i,i!==null&&Fn(s)}else{var g=oe(h,f,u,i,s);jl(g,s,!1,!1),s.stateNode=g,pt(g,h,f,u,i)&&Fn(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mt(s),null;case 6:if(i&&s.stateNode!=null)Ra(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(o(166));if(i=In(Gi.current),u=In(rn.current),da(s)){if(!$t)throw Error(o(176));if(i=s.stateNode,u=s.memoizedProps,(f=J1(i,u,s,!Ol))&&(h=Ht,h!==null))switch(h.tag){case 3:i2(h.stateNode.containerInfo,i,u,(h.mode&1)!==0);break;case 5:l2(h.type,h.memoizedProps,h.stateNode,i,u,(h.mode&1)!==0)}f&&Fn(s)}else s.stateNode=Mn(f,i,u,s)}return mt(s),null;case 13:if(Le(Fe),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ze&&tn!==null&&s.mode&1&&!(s.flags&128))Xh(),zi(),s.flags|=98560,h=!1;else if(h=da(s),f!==null&&f.dehydrated!==null){if(i===null){if(!h)throw Error(o(318));if(!$t)throw Error(o(344));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Z1(h,s)}else zi(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;mt(s),h=!1}else yn!==null&&(Gc(yn),yn=null),h=!0;if(!h)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(u=f!==null,u!==(i!==null&&i.memoizedState!==null)&&u&&(s.child.flags|=8192,s.mode&1&&(i===null||Fe.current&1?be===0&&(be=3):jc())),s.updateQueue!==null&&(s.flags|=4),mt(s),null);case 4:return Bi(),Hl(i,s),i===null&&p1(s.stateNode.containerInfo),mt(s),null;case 10:return Ju(s.type._context),mt(s),null;case 17:return Lt(s.type)&&na(),mt(s),null;case 19:if(Le(Fe),h=s.memoizedState,h===null)return mt(s),null;if(f=(s.flags&128)!==0,g=h.rendering,g===null)if(f)Ul(h,!1);else{if(be!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(g=ya(i),g!==null){for(s.flags|=128,Ul(h,!1),i=g.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,u=s.child;u!==null;)f=u,h=i,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=h,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,h=g.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u=u.sibling;return Te(Fe,Fe.current&1|2),s.child}i=i.sibling}h.tail!==null&&rt()>zc&&(s.flags|=128,f=!0,Ul(h,!1),s.lanes=4194304)}else{if(!f)if(i=ya(g),i!==null){if(s.flags|=128,f=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),Ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!ze)return mt(s),null}else 2*rt()-h.renderingStartTime>zc&&u!==1073741824&&(s.flags|=128,f=!0,Ul(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(i=h.last,i!==null?i.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=rt(),s.sibling=null,i=Fe.current,Te(Fe,f?i&1|2:i&1),s):(mt(s),null);case 22:case 23:return Bc(),u=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==u&&(s.flags|=8192),u&&s.mode&1?Ut&1073741824&&(mt(s),jt&&s.subtreeFlags&6&&(s.flags|=8192)):mt(s),null;case 24:return null;case 25:return null}throw Error(o(156,s.tag))}function z2(i,s){switch(Vu(s),s.tag){case 1:return Lt(s.type)&&na(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Bi(),Le(Nt),Le(gt),rc(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return tc(s),null;case 13:if(Le(Fe),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));zi()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Le(Fe),null;case 4:return Bi(),null;case 10:return Ju(s.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var Na=!1,yt=!1,I2=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Hi(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ie(i,s,f)}else u.current=null}function xc(i,s,u){try{u()}catch(f){Ie(i,s,f)}}var Yp=!1;function D2(i,s){for(le(i.containerInfo),ee=s;ee!==null;)if(i=ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ee=s;else for(;ee!==null;){i=ee;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var f=u.memoizedProps,h=u.memoizedState,g=i.stateNode,_=g.getSnapshotBeforeUpdate(i.elementType===i.type?f:Sn(i.type,f),h);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:jt&&G1(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(N){Ie(i,i.return,N)}if(s=i.sibling,s!==null){s.return=i.return,ee=s;break}ee=i.return}return u=Yp,Yp=!1,u}function Wl(i,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var h=f=f.next;do{if((h.tag&i)===i){var g=h.destroy;h.destroy=void 0,g!==void 0&&xc(s,u,g)}h=h.next}while(h!==f)}}function La(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function kc(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=de(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function Qp(i){var s=i.alternate;s!==null&&(i.alternate=null,Qp(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&v1(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xp(i){return i.tag===5||i.tag===3||i.tag===4}function Kp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xp(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cc(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?M1(u,i,s):P1(u,i);else if(f!==4&&(i=i.child,i!==null))for(Cc(i,s,u),i=i.sibling;i!==null;)Cc(i,s,u),i=i.sibling}function Ec(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?L1(u,i,s):E1(u,i);else if(f!==4&&(i=i.child,i!==null))for(Ec(i,s,u),i=i.sibling;i!==null;)Ec(i,s,u),i=i.sibling}var ut=null,_n=!1;function Gn(i,s,u){for(u=u.child;u!==null;)Pc(i,s,u),u=u.sibling}function Pc(i,s,u){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(aa,u)}catch{}switch(u.tag){case 5:yt||Hi(u,s);case 6:if(jt){var f=ut,h=_n;ut=null,Gn(i,s,u),ut=f,_n=h,ut!==null&&(_n?A1(ut,u.stateNode):O1(ut,u.stateNode))}else Gn(i,s,u);break;case 18:jt&&ut!==null&&(_n?n2(ut,u.stateNode):t2(ut,u.stateNode));break;case 4:jt?(f=ut,h=_n,ut=u.stateNode.containerInfo,_n=!0,Gn(i,s,u),ut=f,_n=h):(ea&&(f=u.stateNode.containerInfo,h=Mh(f),Lu(f,h)),Gn(i,s,u));break;case 0:case 11:case 14:case 15:if(!yt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){h=f=f.next;do{var g=h,_=g.destroy;g=g.tag,_!==void 0&&(g&2||g&4)&&xc(u,s,_),h=h.next}while(h!==f)}Gn(i,s,u);break;case 1:if(!yt&&(Hi(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){Ie(u,s,N)}Gn(i,s,u);break;case 21:Gn(i,s,u);break;case 22:u.mode&1?(yt=(f=yt)||u.memoizedState!==null,Gn(i,s,u),yt=f):Gn(i,s,u);break;default:Gn(i,s,u)}}function qp(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new I2),s.forEach(function(f){var h=Y2.bind(null,i,f);u.has(f)||(u.add(f),f.then(h,h))})}}function wn(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var h=u[f];try{var g=i,_=s;if(jt){var N=_;e:for(;N!==null;){switch(N.tag){case 5:ut=N.stateNode,_n=!1;break e;case 3:ut=N.stateNode.containerInfo,_n=!0;break e;case 4:ut=N.stateNode.containerInfo,_n=!0;break e}N=N.return}if(ut===null)throw Error(o(160));Pc(g,_,h),ut=null,_n=!1}else Pc(g,_,h);var z=h.alternate;z!==null&&(z.return=null),h.return=null}catch(Y){Ie(h,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Jp(s,i),s=s.sibling}function Jp(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(wn(s,i),Bn(i),f&4){try{Wl(3,i,i.return),La(3,i)}catch(Z){Ie(i,i.return,Z)}try{Wl(5,i,i.return)}catch(Z){Ie(i,i.return,Z)}}break;case 1:wn(s,i),Bn(i),f&512&&u!==null&&Hi(u,u.return);break;case 5:if(wn(s,i),Bn(i),f&512&&u!==null&&Hi(u,u.return),jt){if(i.flags&32){var h=i.stateNode;try{Lh(h)}catch(Z){Ie(i,i.return,Z)}}if(f&4&&(h=i.stateNode,h!=null)){var g=i.memoizedProps;if(u=u!==null?u.memoizedProps:g,f=i.type,s=i.updateQueue,i.updateQueue=null,s!==null)try{N1(h,s,f,u,g,i)}catch(Z){Ie(i,i.return,Z)}}}break;case 6:if(wn(s,i),Bn(i),f&4&&jt){if(i.stateNode===null)throw Error(o(162));h=i.stateNode,g=i.memoizedProps,u=u!==null?u.memoizedProps:g;try{T1(h,u,g)}catch(Z){Ie(i,i.return,Z)}}break;case 3:if(wn(s,i),Bn(i),f&4){if(jt&&$t&&u!==null&&u.memoizedState.isDehydrated)try{b1(s.containerInfo)}catch(Z){Ie(i,i.return,Z)}if(ea){h=s.containerInfo,g=s.pendingChildren;try{Lu(h,g)}catch(Z){Ie(i,i.return,Z)}}}break;case 4:if(wn(s,i),Bn(i),f&4&&ea){g=i.stateNode,h=g.containerInfo,g=g.pendingChildren;try{Lu(h,g)}catch(Z){Ie(i,i.return,Z)}}break;case 13:wn(s,i),Bn(i),h=i.child,h.flags&8192&&(g=h.memoizedState!==null,h.stateNode.isHidden=g,!g||h.alternate!==null&&h.alternate.memoizedState!==null||(Ac=rt())),f&4&&qp(i);break;case 22:var _=u!==null&&u.memoizedState!==null;if(i.mode&1?(yt=(u=yt)||_,wn(s,i),yt=u):wn(s,i),Bn(i),f&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!_&&i.mode&1)for(ee=i,f=i.child;f!==null;){for(s=ee=f;ee!==null;){_=ee;var N=_.child;switch(_.tag){case 0:case 11:case 14:case 15:Wl(4,_,_.return);break;case 1:Hi(_,_.return);var z=_.stateNode;if(typeof z.componentWillUnmount=="function"){var Y=_,re=_.return;try{var ue=Y;z.props=ue.memoizedProps,z.state=ue.memoizedState,z.componentWillUnmount()}catch(Z){Ie(Y,re,Z)}}break;case 5:Hi(_,_.return);break;case 22:if(_.memoizedState!==null){bp(s);continue}}N!==null?(N.return=_,ee=N):bp(s)}f=f.sibling}if(jt){e:if(f=null,jt)for(s=i;;){if(s.tag===5){if(f===null){f=s;try{h=s.stateNode,u?z1(h):D1(s.stateNode,s.memoizedProps)}catch(Z){Ie(i,i.return,Z)}}}else if(s.tag===6){if(f===null)try{g=s.stateNode,u?I1(g):F1(g,s.memoizedProps)}catch(Z){Ie(i,i.return,Z)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}}}break;case 19:wn(s,i),Bn(i),f&4&&qp(i);break;case 21:break;default:wn(s,i),Bn(i)}}function Bn(i){var s=i.flags;if(s&2){try{if(jt){e:{for(var u=i.return;u!==null;){if(Xp(u)){var f=u;break e}u=u.return}throw Error(o(160))}switch(f.tag){case 5:var h=f.stateNode;f.flags&32&&(Lh(h),f.flags&=-33);var g=Kp(i);Ec(i,g,h);break;case 3:case 4:var _=f.stateNode.containerInfo,N=Kp(i);Cc(i,N,_);break;default:throw Error(o(161))}}}catch(z){Ie(i,i.return,z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function F2(i,s,u){ee=i,Zp(i)}function Zp(i,s,u){for(var f=(i.mode&1)!==0;ee!==null;){var h=ee,g=h.child;if(h.tag===22&&f){var _=h.memoizedState!==null||Na;if(!_){var N=h.alternate,z=N!==null&&N.memoizedState!==null||yt;N=Na;var Y=yt;if(Na=_,(yt=z)&&!Y)for(ee=h;ee!==null;)_=ee,z=_.child,_.tag===22&&_.memoizedState!==null?eg(h):z!==null?(z.return=_,ee=z):eg(h);for(;g!==null;)ee=g,Zp(g),g=g.sibling;ee=h,Na=N,yt=Y}$p(i)}else h.subtreeFlags&8772&&g!==null?(g.return=h,ee=g):$p(i)}}function $p(i){for(;ee!==null;){var s=ee;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:yt||La(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!yt)if(u===null)f.componentDidMount();else{var h=s.elementType===s.type?u.memoizedProps:Sn(s.type,u.memoizedProps);f.componentDidUpdate(h,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&tp(s,g,f);break;case 3:var _=s.updateQueue;if(_!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=de(s.child.stateNode);break;case 1:u=s.child.stateNode}tp(s,_,u)}break;case 5:var N=s.stateNode;u===null&&s.flags&4&&R1(N,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if($t&&s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var re=Y.dehydrated;re!==null&&e2(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}yt||s.flags&512&&kc(s)}catch(ue){Ie(s,s.return,ue)}}if(s===i){ee=null;break}if(u=s.sibling,u!==null){u.return=s.return,ee=u;break}ee=s.return}}function bp(i){for(;ee!==null;){var s=ee;if(s===i){ee=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ee=u;break}ee=s.return}}function eg(i){for(;ee!==null;){var s=ee;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{La(4,s)}catch(z){Ie(s,u,z)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var h=s.return;try{f.componentDidMount()}catch(z){Ie(s,h,z)}}var g=s.return;try{kc(s)}catch(z){Ie(s,g,z)}break;case 5:var _=s.return;try{kc(s)}catch(z){Ie(s,_,z)}}}catch(z){Ie(s,s.return,z)}if(s===i){ee=null;break}var N=s.sibling;if(N!==null){N.return=s.return,ee=N;break}ee=s.return}}var Ma=0,Oa=1,Aa=2,za=3,Ia=4;if(typeof Symbol=="function"&&Symbol.for){var Vl=Symbol.for;Ma=Vl("selector.component"),Oa=Vl("selector.has_pseudo_class"),Aa=Vl("selector.role"),za=Vl("selector.test_id"),Ia=Vl("selector.text")}function Tc(i){var s=h1(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(o(364));return s}if(i=S1(i),i===null)throw Error(o(362));return i.stateNode.current}function Rc(i,s){switch(s.$$typeof){case Ma:if(i.type===s.value)return!0;break;case Oa:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var f=i[u++],h=i[u++],g=s[h];if(f.tag!==5||!Rl(f)){for(;g!=null&&Rc(f,g);)h++,g=s[h];if(h===s.length){s=!0;break e}else for(f=f.child;f!==null;)i.push(f,h),f=f.sibling}}s=!1}return s;case Aa:if(i.tag===5&&x1(i.stateNode,s.value))return!0;break;case Ia:if((i.tag===5||i.tag===6)&&(i=w1(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case za:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Nc(i){switch(i.$$typeof){case Ma:return"<"+(j(i.value)||"Unknown")+">";case Oa:return":has("+(Nc(i)||"")+")";case Aa:return'[role="'+i.value+'"]';case Ia:return'"'+i.value+'"';case za:return'[data-testname="'+i.value+'"]';default:throw Error(o(365))}}function tg(i,s){var u=[];i=[i,0];for(var f=0;f<i.length;){var h=i[f++],g=i[f++],_=s[g];if(h.tag!==5||!Rl(h)){for(;_!=null&&Rc(h,_);)g++,_=s[g];if(g===s.length)u.push(h);else for(h=h.child;h!==null;)i.push(h,g),h=h.sibling}}return u}function Lc(i,s){if(!Tl)throw Error(o(363));i=Tc(i),i=tg(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var f=i[u++];if(f.tag===5)Rl(f)||s.push(f.stateNode);else for(f=f.child;f!==null;)i.push(f),f=f.sibling}return s}var G2=Math.ceil,Da=c.ReactCurrentDispatcher,Mc=c.ReactCurrentOwner,Qe=c.ReactCurrentBatchConfig,pe=0,lt=null,qe=null,ct=0,Ut=0,Ui=hr(0),be=0,Yl=null,ni=0,Fa=0,Oc=0,Ql=null,Ot=null,Ac=0,zc=1/0,Zn=null;function Wi(){zc=rt()+500}var Ga=!1,Ic=null,mr=null,Ba=!1,yr=null,ja=0,Xl=0,Dc=null,Ha=-1,Ua=0;function St(){return pe&6?rt():Ha!==-1?Ha:Ha=rt()}function Sr(i){return i.mode&1?pe&2&&ct!==0?ct&-ct:_2.transition!==null?(Ua===0&&(Ua=Bh()),Ua):(i=ye,i!==0?i:g1()):1}function sn(i,s,u,f){if(50<Xl)throw Xl=0,Dc=null,Error(o(185));Ml(i,u,f),(!(pe&2)||i!==lt)&&(i===lt&&(!(pe&2)&&(Fa|=u),be===4&&_r(i,ct)),At(i,f),u===1&&pe===0&&!(s.mode&1)&&(Wi(),oa&&An()))}function At(i,s){var u=i.callbackNode;d2(i,s);var f=sa(i,i===lt?ct:0);if(f===0)u!==null&&Hh(u),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(u!=null&&Hh(u),s===1)i.tag===0?S2(rg.bind(null,i)):Uh(rg.bind(null,i)),m1?y1(function(){!(pe&6)&&An()}):Bu(ju,An),u=null;else{switch(jh(f)){case 1:u=ju;break;case 4:u=g2;break;case 16:u=Hu;break;case 536870912:u=v2;break;default:u=Hu}u=fg(u,ng.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function ng(i,s){if(Ha=-1,Ua=0,pe&6)throw Error(o(327));var u=i.callbackNode;if(li()&&i.callbackNode!==u)return null;var f=sa(i,i===lt?ct:0);if(f===0)return null;if(f&30||f&i.expiredLanes||s)s=Wa(i,f);else{s=f;var h=pe;pe|=2;var g=sg();(lt!==i||ct!==s)&&(Zn=null,Wi(),ri(i,s));do try{H2();break}catch(N){lg(i,N)}while(!0);qu(),Da.current=g,pe=h,qe!==null?s=0:(lt=null,ct=0,s=be)}if(s!==0){if(s===2&&(h=Du(i),h!==0&&(f=h,s=Fc(i,h))),s===1)throw u=Yl,ri(i,0),_r(i,f),At(i,rt()),u;if(s===6)_r(i,f);else{if(h=i.current.alternate,!(f&30)&&!B2(h)&&(s=Wa(i,f),s===2&&(g=Du(i),g!==0&&(f=g,s=Fc(i,g))),s===1))throw u=Yl,ri(i,0),_r(i,f),At(i,rt()),u;switch(i.finishedWork=h,i.finishedLanes=f,s){case 0:case 1:throw Error(o(345));case 2:ii(i,Ot,Zn);break;case 3:if(_r(i,f),(f&130023424)===f&&(s=Ac+500-rt(),10<s)){if(sa(i,0)!==0)break;if(h=i.suspendedLanes,(h&f)!==f){St(),i.pingedLanes|=i.suspendedLanes&h;break}i.timeoutHandle=Jr(ii.bind(null,i,Ot,Zn),s);break}ii(i,Ot,Zn);break;case 4:if(_r(i,f),(f&4194240)===f)break;for(s=i.eventTimes,h=-1;0<f;){var _=31-vn(f);g=1<<_,_=s[_],_>h&&(h=_),f&=~g}if(f=h,f=rt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*G2(f/1960))-f,10<f){i.timeoutHandle=Jr(ii.bind(null,i,Ot,Zn),f);break}ii(i,Ot,Zn);break;case 5:ii(i,Ot,Zn);break;default:throw Error(o(329))}}}return At(i,rt()),i.callbackNode===u?ng.bind(null,i):null}function Fc(i,s){var u=Ql;return i.current.memoizedState.isDehydrated&&(ri(i,s).flags|=256),i=Wa(i,s),i!==2&&(s=Ot,Ot=u,s!==null&&Gc(s)),i}function Gc(i){Ot===null?Ot=i:Ot.push.apply(Ot,i)}function B2(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var h=u[f],g=h.getSnapshot;h=h.value;try{if(!mn(g(),h))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _r(i,s){for(s&=~Oc,s&=~Fa,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-vn(s),f=1<<u;i[u]=-1,s&=~f}}function rg(i){if(pe&6)throw Error(o(327));li();var s=sa(i,0);if(!(s&1))return At(i,rt()),null;var u=Wa(i,s);if(i.tag!==0&&u===2){var f=Du(i);f!==0&&(s=f,u=Fc(i,f))}if(u===1)throw u=Yl,ri(i,0),_r(i,s),At(i,rt()),u;if(u===6)throw Error(o(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,ii(i,Ot,Zn),At(i,rt()),null}function ig(i){yr!==null&&yr.tag===0&&!(pe&6)&&li();var s=pe;pe|=1;var u=Qe.transition,f=ye;try{if(Qe.transition=null,ye=1,i)return i()}finally{ye=f,Qe.transition=u,pe=s,!(pe&6)&&An()}}function Bc(){Ut=Ui.current,Le(Ui)}function ri(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==Nu&&(i.timeoutHandle=Nu,f1(u)),qe!==null)for(u=qe.return;u!==null;){var f=u;switch(Vu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&na();break;case 3:Bi(),Le(Nt),Le(gt),rc();break;case 5:tc(f);break;case 4:Bi();break;case 13:Le(Fe);break;case 19:Le(Fe);break;case 10:Ju(f.type._context);break;case 22:case 23:Bc()}u=u.return}if(lt=i,qe=i=wr(i.current,null),ct=Ut=s,be=0,Yl=null,Oc=Fa=ni=0,Ot=Ql=null,ei!==null){for(s=0;s<ei.length;s++)if(u=ei[s],f=u.interleaved,f!==null){u.interleaved=null;var h=f.next,g=u.pending;if(g!==null){var _=g.next;g.next=h,f.next=_}u.pending=f}ei=null}return i}function lg(i,s){do{var u=qe;try{if(qu(),Sa.current=ka,_a){for(var f=Ge.memoizedState;f!==null;){var h=f.queue;h!==null&&(h.pending=null),f=f.next}_a=!1}if(ti=0,it=$e=Ge=null,Dl=!1,Fl=0,Mc.current=null,u===null||u.return===null){be=1,Yl=s,qe=null;break}e:{var g=i,_=u.return,N=u,z=s;if(s=ct,N.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,re=N,ue=re.tag;if(!(re.mode&1)&&(ue===0||ue===11||ue===15)){var Z=re.alternate;Z?(re.updateQueue=Z.updateQueue,re.memoizedState=Z.memoizedState,re.lanes=Z.lanes):(re.updateQueue=null,re.memoizedState=null)}var Me=Lp(_);if(Me!==null){Me.flags&=-257,Mp(Me,_,N,g,s),Me.mode&1&&Np(g,Y,s),s=Me,z=Y;var Ee=s.updateQueue;if(Ee===null){var zt=new Set;zt.add(z),s.updateQueue=zt}else Ee.add(z);break e}else{if(!(s&1)){Np(g,Y,s),jc();break e}z=Error(o(426))}}else if(ze&&N.mode&1){var $n=Lp(_);if($n!==null){!($n.flags&65536)&&($n.flags|=256),Mp($n,_,N,g,s),Xu(ji(z,N));break e}}g=z=ji(z,N),be!==4&&(be=2),Ql===null?Ql=[g]:Ql.push(g),g=_;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var O=Tp(g,z,s);ep(g,O);break e;case 1:N=z;var L=g.type,G=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(mr===null||!mr.has(G)))){g.flags|=65536,s&=-s,g.lanes|=s;var $=Rp(g,N,s);ep(g,$);break e}}g=g.return}while(g!==null)}og(u)}catch(ae){s=ae,qe===u&&u!==null&&(qe=u=u.return);continue}break}while(!0)}function sg(){var i=Da.current;return Da.current=ka,i===null?ka:i}function jc(){(be===0||be===3||be===2)&&(be=4),lt===null||!(ni&268435455)&&!(Fa&268435455)||_r(lt,ct)}function Wa(i,s){var u=pe;pe|=2;var f=sg();(lt!==i||ct!==s)&&(Zn=null,ri(i,s));do try{j2();break}catch(h){lg(i,h)}while(!0);if(qu(),pe=u,Da.current=f,qe!==null)throw Error(o(261));return lt=null,ct=0,be}function j2(){for(;qe!==null;)ag(qe)}function H2(){for(;qe!==null&&!h2();)ag(qe)}function ag(i){var s=dg(i.alternate,i,Ut);i.memoizedProps=i.pendingProps,s===null?og(i):qe=s,Mc.current=null}function og(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=z2(u,s),u!==null){u.flags&=32767,qe=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{be=6,qe=null;return}}else if(u=A2(u,s,Ut),u!==null){qe=u;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=i}while(s!==null);be===0&&(be=5)}function ii(i,s,u){var f=ye,h=Qe.transition;try{Qe.transition=null,ye=1,U2(i,s,u,f)}finally{Qe.transition=h,ye=f}return null}function U2(i,s,u,f){do li();while(yr!==null);if(pe&6)throw Error(o(327));u=i.finishedWork;var h=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(o(177));i.callbackNode=null,i.callbackPriority=0;var g=u.lanes|u.childLanes;if(f2(i,g),i===lt&&(qe=lt=null,ct=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ba||(Ba=!0,fg(Hu,function(){return li(),null})),g=(u.flags&15990)!==0,u.subtreeFlags&15990||g){g=Qe.transition,Qe.transition=null;var _=ye;ye=1;var N=pe;pe|=4,Mc.current=null,D2(i,u),Jp(u,i),J(i.containerInfo),i.current=u,F2(u),p2(),pe=N,ye=_,Qe.transition=g}else i.current=u;if(Ba&&(Ba=!1,yr=i,ja=h),g=i.pendingLanes,g===0&&(mr=null),m2(u.stateNode),At(i,rt()),s!==null)for(f=i.onRecoverableError,u=0;u<s.length;u++)h=s[u],f(h.value,{componentStack:h.stack,digest:h.digest});if(Ga)throw Ga=!1,i=Ic,Ic=null,i;return ja&1&&i.tag!==0&&li(),g=i.pendingLanes,g&1?i===Dc?Xl++:(Xl=0,Dc=i):Xl=0,An(),null}function li(){if(yr!==null){var i=jh(ja),s=Qe.transition,u=ye;try{if(Qe.transition=null,ye=16>i?16:i,yr===null)var f=!1;else{if(i=yr,yr=null,ja=0,pe&6)throw Error(o(331));var h=pe;for(pe|=4,ee=i.current;ee!==null;){var g=ee,_=g.child;if(ee.flags&16){var N=g.deletions;if(N!==null){for(var z=0;z<N.length;z++){var Y=N[z];for(ee=Y;ee!==null;){var re=ee;switch(re.tag){case 0:case 11:case 15:Wl(8,re,g)}var ue=re.child;if(ue!==null)ue.return=re,ee=ue;else for(;ee!==null;){re=ee;var Z=re.sibling,Me=re.return;if(Qp(re),re===Y){ee=null;break}if(Z!==null){Z.return=Me,ee=Z;break}ee=Me}}}var Ee=g.alternate;if(Ee!==null){var zt=Ee.child;if(zt!==null){Ee.child=null;do{var $n=zt.sibling;zt.sibling=null,zt=$n}while(zt!==null)}}ee=g}}if(g.subtreeFlags&2064&&_!==null)_.return=g,ee=_;else e:for(;ee!==null;){if(g=ee,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Wl(9,g,g.return)}var O=g.sibling;if(O!==null){O.return=g.return,ee=O;break e}ee=g.return}}var L=i.current;for(ee=L;ee!==null;){_=ee;var G=_.child;if(_.subtreeFlags&2064&&G!==null)G.return=_,ee=G;else e:for(_=L;ee!==null;){if(N=ee,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:La(9,N)}}catch(ae){Ie(N,N.return,ae)}if(N===_){ee=null;break e}var $=N.sibling;if($!==null){$.return=N.return,ee=$;break e}ee=N.return}}if(pe=h,An(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(aa,i)}catch{}f=!0}return f}finally{ye=u,Qe.transition=s}}return!1}function ug(i,s,u){s=ji(u,s),s=Tp(i,s,1),i=vr(i,s,1),s=St(),i!==null&&(Ml(i,1,s),At(i,s))}function Ie(i,s,u){if(i.tag===3)ug(i,i,u);else for(;s!==null;){if(s.tag===3){ug(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))){i=ji(u,i),i=Rp(s,i,1),s=vr(s,i,1),i=St(),s!==null&&(Ml(s,1,i),At(s,i));break}}s=s.return}}function W2(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),s=St(),i.pingedLanes|=i.suspendedLanes&u,lt===i&&(ct&u)===u&&(be===4||be===3&&(ct&130023424)===ct&&500>rt()-Ac?ri(i,0):Oc|=u),At(i,s)}function cg(i,s){s===0&&(i.mode&1?(s=la,la<<=1,!(la&130023424)&&(la=4194304)):s=1);var u=St();i=zn(i,s),i!==null&&(Ml(i,s,u),At(i,u))}function V2(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),cg(i,u)}function Y2(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,h=i.memoizedState;h!==null&&(u=h.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(o(314))}f!==null&&f.delete(s),cg(i,u)}var dg;dg=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Nt.current)Mt=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Mt=!1,O2(i,s,u);Mt=!!(i.flags&131072)}else Mt=!1,ze&&s.flags&1048576&&Wh(s,ca,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Pa(i,s),i=s.pendingProps;var h=Mi(s,gt.current);Fi(s,u),h=sc(null,s,f,i,h,u);var g=ac();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Lt(f)?(g=!0,ra(s)):g=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,bu(s),h.updater=Ca,s.stateNode=h,h._reactInternals=s,hc(s,f,i,u),s=mc(null,s,f,!0,g,u)):(s.tag=0,ze&&g&&Wu(s),Ct(null,s,h,u),s=s.child),s;case 16:f=s.elementType;e:{switch(Pa(i,s),i=s.pendingProps,h=f._init,f=h(f._payload),s.type=f,h=s.tag=X2(f),i=Sn(f,i),h){case 0:s=vc(null,s,f,i,u);break e;case 1:s=Fp(null,s,f,i,u);break e;case 11:s=Op(null,s,f,i,u);break e;case 14:s=Ap(null,s,f,Sn(f.type,i),u);break e}throw Error(o(306,f,""))}return s;case 0:return f=s.type,h=s.pendingProps,h=s.elementType===f?h:Sn(f,h),vc(i,s,f,h,u);case 1:return f=s.type,h=s.pendingProps,h=s.elementType===f?h:Sn(f,h),Fp(i,s,f,h,u);case 3:e:{if(Gp(s),i===null)throw Error(o(387));f=s.pendingProps,g=s.memoizedState,h=g.element,bh(i,s),ma(s,f,null,u);var _=s.memoizedState;if(f=_.element,$t&&g.isDehydrated)if(g={element:f,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){h=ji(Error(o(423)),s),s=Bp(i,s,f,u,h);break e}else if(f!==h){h=ji(Error(o(424)),s),s=Bp(i,s,f,u,h);break e}else for($t&&(tn=X1(s.stateNode.containerInfo),Ht=s,ze=!0,yn=null,Ol=!1),u=Jh(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(zi(),f===h){s=Jn(i,s,u);break e}Ct(i,s,f,u)}s=s.child}return s;case 5:return np(s),i===null&&Qu(s),f=s.type,h=s.pendingProps,g=i!==null?i.memoizedProps:null,_=h.children,qr(f,h)?_=null:g!==null&&qr(f,g)&&(s.flags|=32),Dp(i,s),Ct(i,s,_,u),s.child;case 6:return i===null&&Qu(s),null;case 13:return jp(i,s,u);case 4:return ec(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Ii(s,null,f,u):Ct(i,s,f,u),s.child;case 11:return f=s.type,h=s.pendingProps,h=s.elementType===f?h:Sn(f,h),Op(i,s,f,h,u);case 7:return Ct(i,s,s.pendingProps,u),s.child;case 8:return Ct(i,s,s.pendingProps.children,u),s.child;case 12:return Ct(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(f=s.type._context,h=s.pendingProps,g=s.memoizedProps,_=h.value,Zh(s,f,_),g!==null)if(mn(g.value,_)){if(g.children===h.children&&!Nt.current){s=Jn(i,s,u);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){_=g.child;for(var z=N.firstContext;z!==null;){if(z.context===f){if(g.tag===1){z=qn(-1,u&-u),z.tag=2;var Y=g.updateQueue;if(Y!==null){Y=Y.shared;var re=Y.pending;re===null?z.next=z:(z.next=re.next,re.next=z),Y.pending=z}}g.lanes|=u,z=g.alternate,z!==null&&(z.lanes|=u),Zu(g.return,u,s),N.lanes|=u;break}z=z.next}}else if(g.tag===10)_=g.type===s.type?null:g.child;else if(g.tag===18){if(_=g.return,_===null)throw Error(o(341));_.lanes|=u,N=_.alternate,N!==null&&(N.lanes|=u),Zu(_,u,s),_=g.sibling}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===s){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}Ct(i,s,h.children,u),s=s.child}return s;case 9:return h=s.type,f=s.pendingProps.children,Fi(s,u),h=nn(h),f=f(h),s.flags|=1,Ct(i,s,f,u),s.child;case 14:return f=s.type,h=Sn(f,s.pendingProps),h=Sn(f.type,h),Ap(i,s,f,h,u);case 15:return zp(i,s,s.type,s.pendingProps,u);case 17:return f=s.type,h=s.pendingProps,h=s.elementType===f?h:Sn(f,h),Pa(i,s),s.tag=1,Lt(f)?(i=!0,ra(s)):i=!1,Fi(s,u),Ep(s,f,h),hc(s,f,h,u),mc(null,s,f,!0,i,u);case 19:return Up(i,s,u);case 22:return Ip(i,s,u)}throw Error(o(156,s.tag))};function fg(i,s){return Bu(i,s)}function Q2(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(i,s,u,f){return new Q2(i,s,u,f)}function Hc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function X2(i){if(typeof i=="function")return Hc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===P)return 11;if(i===w)return 14}return 2}function wr(i,s){var u=i.alternate;return u===null?(u=an(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Va(i,s,u,f,h,g){var _=2;if(f=i,typeof i=="function")Hc(i)&&(_=1);else if(typeof i=="string")_=5;else e:switch(i){case v:return si(u.children,h,g,s);case y:_=8,h|=8;break;case m:return i=an(12,u,s,h|2),i.elementType=m,i.lanes=g,i;case R:return i=an(13,u,s,h),i.elementType=R,i.lanes=g,i;case k:return i=an(19,u,s,h),i.elementType=k,i.lanes=g,i;case T:return Ya(u,h,g,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:_=10;break e;case S:_=9;break e;case P:_=11;break e;case w:_=14;break e;case C:_=16,f=null;break e}throw Error(o(130,i==null?i:typeof i,""))}return s=an(_,u,s,h),s.elementType=i,s.type=f,s.lanes=g,s}function si(i,s,u,f){return i=an(7,i,f,s),i.lanes=u,i}function Ya(i,s,u,f){return i=an(22,i,f,s),i.elementType=T,i.lanes=u,i.stateNode={isHidden:!1},i}function Uc(i,s,u){return i=an(6,i,null,s),i.lanes=u,i}function Wc(i,s,u){return s=an(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function K2(i,s,u,f,h){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Nu,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=f,this.onRecoverableError=h,$t&&(this.mutableSourceEagerHydrationData=null)}function hg(i,s,u,f,h,g,_,N,z){return i=new K2(i,s,u,N,z),s===1?(s=1,g===!0&&(s|=8)):s=0,g=an(3,null,null,s),i.current=g,g.stateNode=i,g.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(g),i}function pg(i){if(!i)return pr;i=i._reactInternals;e:{if(H(i)!==i||i.tag!==1)throw Error(o(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Lt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(o(171))}if(i.tag===1){var u=i.type;if(Lt(u))return Fh(i,u,s)}return s}function gg(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=K(s),i===null?null:i.stateNode}function vg(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Qa(i,s){vg(i,s),(i=i.alternate)&&vg(i,s)}function q2(i){return i=K(i),i===null?null:i.stateNode}function J2(){return null}return n.attemptContinuousHydration=function(i){if(i.tag===13){var s=zn(i,134217728);if(s!==null){var u=St();sn(s,i,134217728,u)}Qa(i,134217728)}},n.attemptDiscreteHydration=function(i){if(i.tag===13){var s=zn(i,1);if(s!==null){var u=St();sn(s,i,1,u)}Qa(i,1)}},n.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=Sr(i),u=zn(i,s);if(u!==null){var f=St();sn(u,i,s,f)}Qa(i,s)}},n.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ll(s.pendingLanes);u!==0&&(Gu(s,u|1),At(s,rt()),!(pe&6)&&(Wi(),An()))}break;case 13:ig(function(){var f=zn(i,1);if(f!==null){var h=St();sn(f,i,1,h)}}),Qa(i,1)}},n.batchedUpdates=function(i,s){var u=pe;pe|=1;try{return i(s)}finally{pe=u,pe===0&&(Wi(),oa&&An())}},n.createComponentSelector=function(i){return{$$typeof:Ma,value:i}},n.createContainer=function(i,s,u,f,h,g,_){return hg(i,s,!1,null,u,f,h,g,_)},n.createHasPseudoClassSelector=function(i){return{$$typeof:Oa,value:i}},n.createHydrationContainer=function(i,s,u,f,h,g,_,N,z){return i=hg(u,f,!0,i,h,g,_,N,z),i.context=pg(null),u=i.current,f=St(),h=Sr(u),g=qn(f,h),g.callback=s??null,vr(u,g,h),i.current.lanes=h,Ml(i,h,f),At(i,f),i},n.createPortal=function(i,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:f==null?null:""+f,children:i,containerInfo:s,implementation:u}},n.createRoleSelector=function(i){return{$$typeof:Aa,value:i}},n.createTestNameSelector=function(i){return{$$typeof:za,value:i}},n.createTextSelector=function(i){return{$$typeof:Ia,value:i}},n.deferredUpdates=function(i){var s=ye,u=Qe.transition;try{return Qe.transition=null,ye=16,i()}finally{ye=s,Qe.transition=u}},n.discreteUpdates=function(i,s,u,f,h){var g=ye,_=Qe.transition;try{return Qe.transition=null,ye=1,i(s,u,f,h)}finally{ye=g,Qe.transition=_,pe===0&&Wi()}},n.findAllNodes=Lc,n.findBoundingRects=function(i,s){if(!Tl)throw Error(o(363));s=Lc(i,s),i=[];for(var u=0;u<s.length;u++)i.push(_1(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var f=u.x,h=f+u.width,g=u.y,_=g+u.height,N=s-1;0<=N;N--)if(s!==N){var z=i[N],Y=z.x,re=Y+z.width,ue=z.y,Z=ue+z.height;if(f>=Y&&g>=ue&&h<=re&&_<=Z){i.splice(s,1);break}else if(f!==Y||u.width!==z.width||Z<g||ue>_){if(!(g!==ue||u.height!==z.height||re<f||Y>h)){Y>f&&(z.width+=Y-f,z.x=f),re<h&&(z.width=h-Y),i.splice(s,1);break}}else{ue>g&&(z.height+=ue-g,z.y=g),Z<_&&(z.height=_-ue),i.splice(s,1);break}}}return i},n.findHostInstance=gg,n.findHostInstanceWithNoPortals=function(i){return i=D(i),i=i!==null?se(i):null,i===null?null:i.stateNode},n.findHostInstanceWithWarning=function(i){return gg(i)},n.flushControlled=function(i){var s=pe;pe|=1;var u=Qe.transition,f=ye;try{Qe.transition=null,ye=1,i()}finally{ye=f,Qe.transition=u,pe=s,pe===0&&(Wi(),An())}},n.flushPassiveEffects=li,n.flushSync=ig,n.focusWithin=function(i,s){if(!Tl)throw Error(o(363));for(i=Tc(i),s=tg(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!Rl(u)){if(u.tag===5&&k1(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},n.getCurrentUpdatePriority=function(){return ye},n.getFindAllNodesFailureDescription=function(i,s){if(!Tl)throw Error(o(363));var u=0,f=[];i=[Tc(i),0];for(var h=0;h<i.length;){var g=i[h++],_=i[h++],N=s[_];if((g.tag!==5||!Rl(g))&&(Rc(g,N)&&(f.push(Nc(N)),_++,_>u&&(u=_)),_<s.length))for(g=g.child;g!==null;)i.push(g,_),g=g.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(Nc(s[u]));return`findAllNodes was able to match part of the selector:
  `+(f.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},n.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return de(i.child.stateNode);default:return i.child.stateNode}},n.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:q2,findFiberByHostInstance:i.findFiberByHostInstance||J2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{aa=s.inject(i),On=s}catch{}i=!!s.checkDCE}}return i},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(i,s,u,f){if(!Tl)throw Error(o(363));i=Lc(i,s);var h=C1(i,u,f).disconnect;return{disconnect:function(){h()}}},n.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},n.runWithPriority=function(i,s){var u=ye;try{return ye=i,s()}finally{ye=u}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(i,s,u,f){var h=s.current,g=St(),_=Sr(h);return u=pg(u),s.context===null?s.context=u:s.pendingContext=u,s=qn(g,_),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=vr(h,s,_),i!==null&&(sn(i,h,_,g),va(i,h,_)),_},n};i1.exports=Yk;var Qk=i1.exports;const Xk=om(Qk);var l1={exports:{}},Ni={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Ni.ConcurrentRoot=1;Ni.ContinuousEventPriority=4;Ni.DefaultEventPriority=16;Ni.DiscreteEventPriority=1;Ni.IdleEventPriority=536870912;Ni.LegacyRoot=0;l1.exports=Ni;var s1=l1.exports;const Jv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Zv=!1,$v=!1;const Rh=".react-konva-event",Kk=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,qk=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,Jk={};function Ru(t,e,n=Jk){if(!Zv&&"zIndex"in e&&(console.warn(qk),Zv=!0),!$v&&e.draggable){var r=e.x!==void 0||e.y!==void 0,l=e.onDragEnd||e.onDragMove;r&&!l&&(console.warn(Kk),$v=!0)}for(var a in n)if(!Jv[a]){var o=a.slice(0,2)==="on",c=n[a]!==e[a];if(o&&c){var d=a.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t.off(d,n[a])}var p=!e.hasOwnProperty(a);p&&t.setAttr(a,void 0)}var v=e._useStrictMode,y={},m=!1;const x={};for(var a in e)if(!Jv[a]){var o=a.slice(0,2)==="on",S=n[a]!==e[a];if(o&&S){var d=a.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e[a]&&(x[d]=e[a])}!o&&(e[a]!==n[a]||v&&e[a]!==t.getAttr(a))&&(m=!0,y[a]=e[a])}m&&(t.setAttrs(y),Kr(t));for(var d in x)t.on(d+Rh,x[d])}function Kr(t){if(!ne.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const a1={},Zk={};wi.Node.prototype._applyProps=Ru;function $k(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),Kr(t)}function bk(t,e,n){let r=wi[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=wi.Group);const l={},a={};for(var o in e){var c=o.slice(0,2)==="on";c?a[o]=e[o]:l[o]=e[o]}const d=new r(l);return Ru(d,a),d}function eC(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function tC(t,e,n){return!1}function nC(t){return t}function rC(){return null}function iC(){return null}function lC(t,e,n,r){return Zk}function sC(){}function aC(t){}function oC(t,e){return!1}function uC(){return a1}function cC(){return a1}const dC=setTimeout,fC=clearTimeout,hC=-1;function pC(t,e){return!1}const gC=!1,vC=!0,mC=!0;function yC(t,e){e.parent===t?e.moveToTop():t.add(e),Kr(t)}function SC(t,e){e.parent===t?e.moveToTop():t.add(e),Kr(t)}function o1(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),Kr(t)}function _C(t,e,n){o1(t,e,n)}function wC(t,e){e.destroy(),e.off(Rh),Kr(t)}function xC(t,e){e.destroy(),e.off(Rh),Kr(t)}function kC(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function CC(t,e,n){}function EC(t,e,n,r,l){Ru(t,l,r)}function PC(t){t.hide(),Kr(t)}function TC(t){}function RC(t,e){(e.visible==null||e.visible)&&t.show()}function NC(t,e){}function LC(t){}function MC(){}const OC=()=>s1.DefaultEventPriority,AC=Object.freeze(Object.defineProperty({__proto__:null,appendChild:yC,appendChildToContainer:SC,appendInitialChild:$k,cancelTimeout:fC,clearContainer:LC,commitMount:CC,commitTextUpdate:kC,commitUpdate:EC,createInstance:bk,createTextInstance:eC,detachDeletedInstance:MC,finalizeInitialChildren:tC,getChildHostContext:cC,getCurrentEventPriority:OC,getPublicInstance:nC,getRootHostContext:uC,hideInstance:PC,hideTextInstance:TC,idlePriority:vs.unstable_IdlePriority,insertBefore:o1,insertInContainerBefore:_C,isPrimaryRenderer:gC,noTimeout:hC,now:vs.unstable_now,prepareForCommit:rC,preparePortalMount:iC,prepareUpdate:lC,removeChild:wC,removeChildFromContainer:xC,resetAfterCommit:sC,resetTextContent:aC,run:vs.unstable_runWithPriority,scheduleTimeout:dC,shouldDeprioritizeSubtree:oC,shouldSetTextContent:pC,supportsMutation:mC,unhideInstance:RC,unhideTextInstance:NC,warnsIfNotActing:vC},Symbol.toStringTag,{value:"Module"}));var zC=Object.defineProperty,IC=Object.defineProperties,DC=Object.getOwnPropertyDescriptors,bv=Object.getOwnPropertySymbols,FC=Object.prototype.hasOwnProperty,GC=Object.prototype.propertyIsEnumerable,em=(t,e,n)=>e in t?zC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tm=(t,e)=>{for(var n in e||(e={}))FC.call(e,n)&&em(t,n,e[n]);if(bv)for(var n of bv(e))GC.call(e,n)&&em(t,n,e[n]);return t},BC=(t,e)=>IC(t,DC(e)),nm,rm;typeof window<"u"&&((nm=window.document)!=null&&nm.createElement||((rm=window.navigator)==null?void 0:rm.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function u1(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const l=u1(r,e,n);if(l)return l;r=r.sibling}}function c1(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const im=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=im;return}return im.apply(this,arguments)};const Nh=c1(he.createContext(null));class d1 extends he.Component{render(){return he.createElement(Nh.Provider,{value:this._reactInternals},this.props.children)}}function jC(){const t=he.useContext(Nh);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=he.useId();return he.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const l=u1(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(l)return l}},[t,e])}function HC(){const t=jC(),[e]=he.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const l=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;l&&l!==Nh&&!e.has(l)&&e.set(l,he.useContext(c1(l)))}n=n.return}return e}function UC(){const t=HC();return he.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>he.createElement(e,null,he.createElement(n.Provider,BC(tm({},r),{value:t.get(n)}))),e=>he.createElement(d1,tm({},e))),[t])}function WC(t){const e=Ye.useRef({});return Ye.useLayoutEffect(()=>{e.current=t}),Ye.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const VC=t=>{const e=Ye.useRef(),n=Ye.useRef(),r=Ye.useRef(),l=WC(t),a=UC(),o=c=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(c):d.current=c)};return Ye.useLayoutEffect(()=>(n.current=new wi.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=gs.createContainer(n.current,s1.LegacyRoot,!1,null),gs.updateContainer(Ye.createElement(a,{},t.children),r.current),()=>{wi.isBrowser&&(o(null),gs.updateContainer(null,r.current,null),n.current.destroy())}),[]),Ye.useLayoutEffect(()=>{o(n.current),Ru(n.current,t,l),gs.updateContainer(Ye.createElement(a,{},t.children),r.current,null)}),Ye.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},Ed="Layer",YC="Rect",QC="Circle",ou="Line",XC="Text",KC="Transformer",gs=Xk(AC);gs.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Ye.version,rendererPackageName:"react-konva"});const qC=Ye.forwardRef((t,e)=>Ye.createElement(d1,{},Ye.createElement(VC,{...t,forwardedRef:e})));function JC({el:t,isSelected:e,onSelect:n,onDragEnd:r,onTransformEnd:l}){const a={draggable:!0,onClick:o=>{o.cancelBubble=!0,n(t.id)},onTap:o=>{o.cancelBubble=!0,n(t.id)}};return t.type==="stroke"?b.jsx(ou,{...a,id:t.id,points:t.points,stroke:t.color,strokeWidth:t.width,lineCap:"round",lineJoin:"round",tension:0,lineJoinStyle:"round",onDragEnd:o=>r(t.id,o)}):t.type==="rect"?b.jsx(YC,{...a,id:t.id,x:t.x,y:t.y,width:t.width,height:t.height,fill:t.fill||"transparent",stroke:t.stroke,strokeWidth:t.strokeWidth||2,onDragEnd:o=>r(t.id,o),onTransformEnd:o=>l(t.id,o)}):t.type==="circle"?b.jsx(QC,{...a,id:t.id,x:t.x,y:t.y,radius:t.radius,stroke:t.stroke,strokeWidth:t.strokeWidth||2,fill:t.fill||"transparent",onDragEnd:o=>r(t.id,o),onTransformEnd:o=>l(t.id,o)}):t.type==="line"?b.jsx(ou,{...a,id:t.id,points:[t.x1,t.y1,t.x2,t.y2],stroke:t.stroke,strokeWidth:t.strokeWidth||2,onDragEnd:o=>r(t.id,o),onTransformEnd:o=>l(t.id,o)}):t.type==="text"?b.jsx(XC,{...a,id:t.id,x:t.x,y:t.y,text:t.text,fontSize:t.fontSize||18,fontFamily:"Inter",fontStyle:t.fontStyle||"normal",fontWeight:t.fontWeight||"normal",fill:t.fill,width:t.width,height:t.height,onDragEnd:o=>r(t.id,o),onTransformEnd:o=>l(t.id,o)}):null}const ss=(t="")=>t+Math.random().toString(36).slice(2,9),lm="doodlespace:state:v1",hi={saveLocal(t){localStorage.setItem(lm,JSON.stringify(t))},loadLocal(){const t=localStorage.getItem(lm);if(!t)return null;try{return JSON.parse(t)}catch{return null}},exportJSON(t){const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download="doodlespace-board.json",r.click(),URL.revokeObjectURL(n)},importJSON(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{try{const l=JSON.parse(r.result);e(l)}catch(l){n(l)}},r.onerror=n,r.readAsText(t)})}};function ZC({stageRef:t,shape:e,onConfirm:n,onCancel:r}){if(!e)return null;const l=he.useRef(null),[a,o]=he.useState(e.text()),[c,d]=he.useState(e.fontSize()),[p,v]=he.useState(e.fontWeight||"normal"),[y,m]=he.useState(e.fontStyle()||"normal"),[x,S]=he.useState(e.fill());he.useEffect(()=>{const T=l.current;if(!T||!t.current||!e)return;const F=t.current,A=e,j=F.container().getBoundingClientRect(),B=A.getClientRect(),H=j.left+B.x+window.scrollX,I=j.top+B.y+window.scrollY;T.style.top=`${I}px`,T.style.left=`${H}px`,T.style.width=`${B.width}px`,T.style.height=`${B.height}px`,T.style.fontSize=`${c}px`,T.style.fontWeight=p,T.style.fontStyle=y,T.style.color=x,T.style.lineHeight=A.lineHeight(),T.style.padding="0px",T.style.margin="0px",T.style.overflow="hidden",T.style.background="transparent",T.style.border="1px dashed #999",T.style.outline="none",T.style.resize="none",T.style.transformOrigin="left top",T.style.textAlign=A.align(),T.focus();const D=K=>{K.key==="Escape"?r():K.key==="Enter"&&(K.metaKey||K.ctrlKey)&&n({text:a,fontSize:c,fontWeight:p,fontStyle:y,fill:x})};return T.addEventListener("keydown",D),()=>{T.removeEventListener("keydown",D)}},[t,e,n,r,a,c,p,y,x]);const P=T=>{o(T.target.value)},R=T=>{d(parseInt(T.target.value))},k=()=>{v(T=>T==="bold"?"normal":"bold")},w=()=>{m(T=>T==="italic"?"normal":"italic")},C=T=>{S(T)};return wy.createPortal(b.jsxs("div",{style:{position:"absolute",top:0,left:0,zIndex:9999},children:[b.jsx("textarea",{ref:l,value:a,onChange:P,onBlur:()=>n({text:a,fontSize:c,fontWeight:p,fontStyle:y,fill:x}),style:{position:"absolute",fontFamily:e.fontFamily()}}),b.jsxs("div",{className:"absolute flex items-center gap-2 p-2 rounded-md shadow-md bg-white dark:bg-gray-800",style:{top:e.getClientRect().y+e.getClientRect().height+10+"px",left:e.getClientRect().x+"px"},children:[b.jsx(Wt,{onClick:k,active:p==="bold",title:"Bold",children:b.jsx(Cw,{})}),b.jsx(Wt,{onClick:w,active:y==="italic",title:"Italic",children:b.jsx(Tw,{})}),b.jsx("input",{type:"number",value:c,onChange:R,className:"w-16 p-1 text-sm border rounded dark:bg-gray-700 dark:text-white dark:border-gray-600",title:"Font Size"}),b.jsx(Py,{color:x,onChange:C})]})]}),document.body)}const sm=1200,am=800;function $C({activeTool:t,color:e,strokeWidth:n,showGrid:r,dark:l}){const a=he.useRef(null);he.useRef(null);const o=he.useRef(null),[c,d]=he.useState(()=>{const H=hi.loadLocal();return(H==null?void 0:H.elements)||[]}),[p,v]=he.useState(!1),[y,m]=he.useState(null),[x,S]=he.useState(null);he.useEffect(()=>{hi.saveLocal({elements:c})},[c]),he.useEffect(()=>{if(o.current&&y){const I=a.current.findOne(`#${y}`);I?(o.current.nodes([I]),o.current.getLayer().batchDraw()):o.current.nodes([])}else o.current&&(o.current.nodes([]),o.current.getLayer().batchDraw())},[y,c]);const P=H=>{const I=a.current,D=I.getPointerPosition();if(!D)return;if(H.target===I&&m(null),t==="pen"){const se={id:ss("stroke_"),type:"stroke",points:[D.x,D.y],color:e,width:n};d(ie=>[...ie,se]),v(!0)}else if(t==="rect"){const W=ss("rect_"),se={id:W,type:"rect",x:D.x,y:D.y,width:1,height:1,stroke:e,strokeWidth:n};d(ie=>[...ie,se]),m(W),v(!0)}else if(t==="circle"){const W=ss("circle_"),se={id:W,type:"circle",x:D.x,y:D.y,radius:1,stroke:e,strokeWidth:n};d(ie=>[...ie,se]),m(W),v(!0)}else if(t==="line"){const W=ss("line_"),se={id:W,type:"line",x1:D.x,y1:D.y,x2:D.x,y2:D.y,stroke:e,strokeWidth:n};d(ie=>[...ie,se]),m(W),v(!0)}else if(t==="text"){const W=ss("text_"),se={id:W,type:"text",x:D.x,y:D.y,text:"Double-click to edit",fontSize:18,fontWeight:"normal",fontStyle:"normal",fill:e};d(ie=>[...ie,se]),m(W),setTimeout(()=>S(W),50)}else if(t==="eraser"&&H.target&&H.target.attrs&&H.target.attrs.id){const W=H.target.attrs.id;d(se=>se.filter(ie=>ie.id!==W)),m(null)}},R=H=>{if(!p)return;const I=a.current.getPointerPosition();I&&d(D=>{const K=D[D.length-1];if(!K)return D;const W=[...D];if(K.type==="stroke")K.points=[...K.points,I.x,I.y];else if(K.type==="rect")K.width=Math.max(1,I.x-K.x),K.height=Math.max(1,I.y-K.y);else if(K.type==="circle"){const se=I.x-K.x,ie=I.y-K.y;K.radius=Math.sqrt(se*se+ie*ie)}else K.type==="line"&&(K.x2=I.x,K.y2=I.y);return W[W.length-1]={...K},W})},k=H=>{v(!1)},w=H=>{m(H)},C=()=>{y&&(d(H=>H.filter(I=>I.id!==y)),m(null))},T=(H,I)=>{const D=I.target;d(K=>K.map(W=>{if(W.id!==H)return W;if(W.type==="stroke")return D.x(),D.y(),W.points.map((ie,de)=>ie),W;const se={...W,x:D.x(),y:D.y()};return W.type,se}))},F=(H,I)=>{const D=I.target,K=D.scaleX(),W=D.scaleY();D.scaleX(1),D.scaleY(1),d(se=>se.map(ie=>ie.id!==H?ie:ie.type==="rect"?{...ie,x:D.x(),y:D.y(),width:Math.max(5,ie.width*K),height:Math.max(5,ie.height*W)}:ie.type==="circle"?{...ie,x:D.x(),y:D.y(),radius:Math.max(2,ie.radius*Math.max(K,W))}:ie.type==="text"?{...ie,x:D.x(),y:D.y(),fontSize:Math.max(8,ie.fontSize*W),width:D.width()*K,height:D.height()*W}:(ie.type,ie)))},A=H=>{if(!H.target||!H.target.attrs)return;const I=H.target.attrs.id,D=c.find(K=>K.id===I);D&&D.type==="text"&&(S(I),m(I))},j=({text:H,fontSize:I,fontWeight:D,fontStyle:K,fill:W})=>{d(se=>se.map(ie=>ie.id===x?{...ie,text:H,fontSize:I,fontWeight:D,fontStyle:K,fill:W}:ie)),S(null)},B=()=>S(null);return he.useEffect(()=>{const H=I=>{(I.ctrlKey||I.metaKey)&&I.key==="s"&&(I.preventDefault(),hi.saveLocal({elements:c})),(I.key==="Delete"||I.key==="Backspace")&&y&&C(),(I.ctrlKey||I.metaKey)&&I.key==="z"&&d(D=>D.slice(0,-1))};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[y,c]),b.jsxs("div",{className:"flex-1 w-full h-full relative",children:[b.jsxs(qC,{width:Math.max(window.innerWidth-300,600),height:Math.max(window.innerHeight-120,400),onMouseDown:P,onTouchStart:P,onMouseMove:R,onMouseUp:k,onDblClick:A,ref:a,className:"bg-transparent",children:[b.jsx(Ed,{children:r&&(()=>{const H=[];for(let D=0;D<sm;D+=25)H.push(b.jsx(ou,{points:[D,0,D,am],stroke:l?"#12202b":"#e6eef8",strokeWidth:.5},"v"+D));for(let D=0;D<am;D+=25)H.push(b.jsx(ou,{points:[0,D,sm,D],stroke:l?"#12202b":"#e6eef8",strokeWidth:.5},"h"+D));return H})()}),b.jsx(Ed,{children:c.map(H=>b.jsx(JC,{el:H,isSelected:H.id===y,onSelect:w,onDragEnd:(I,D)=>T(I,D),onTransformEnd:(I,D)=>F(I,D)},H.id))}),b.jsx(Ed,{children:b.jsx(KC,{ref:o,rotateEnabled:!1})})]}),x&&b.jsx(ZC,{stageRef:a,shape:a.current.findOne(`#${x}`),onConfirm:j,onCancel:B})]})}function bC(){const[t,e]=he.useState("pen"),[n,r]=he.useState("#1f2937"),[l,a]=he.useState(4),[o,c]=he.useState(!1),[d,p]=he.useState(()=>document.documentElement.classList.contains("dark")),v=()=>c(S=>!S),y=()=>{p(S=>{const P=!S;return P?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),P})},m=()=>{const S=hi.loadLocal();hi.exportJSON(S||{elements:[]})},x=async S=>{var R;const P=(R=S.target.files)==null?void 0:R[0];if(P)try{const k=await hi.importJSON(P);k&&k.elements?(hi.saveLocal(k),window.location.reload()):alert("Invalid file")}catch{alert("Import error")}};return b.jsxs("div",{className:"h-screen flex flex-col font-inter",children:[b.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-2 md:mb-0",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"DoodleSpace"}),b.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Canvas whiteboard MVP"})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx(zw,{activeTool:t,setTool:e,strokeWidth:l,setStrokeWidth:a,color:n,setColor:r,toggleGrid:v,showGrid:o,onExportPNG:()=>{const S=new Event("exportPNG");window.dispatchEvent(S)},onExportJSON:m,onImportJSON:x,dark:d,toggleDark:y})})]}),b.jsx("main",{className:"flex-1 p-4 bg-[var(--bg)]",children:b.jsx("div",{className:"mx-auto rounded-lg shadow-lg bg-[var(--panel)] p-2 h-full flex flex-col overflow-hidden",children:b.jsx($C,{activeTool:t,color:n,strokeWidth:l,showGrid:o,dark:d})})}),b.jsx("footer",{className:"p-3 text-center text-xs text-gray-600 dark:text-gray-400 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:"Built with ❤️ by CodeWithBotina"})]})}xy(document.getElementById("root")).render(b.jsx(bC,{}));
